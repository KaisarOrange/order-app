"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{2011:(ut,Ie,k)=>{k.d(Ie,{Dh:()=>de,GT:()=>ie,cc:()=>De,hO:()=>Ue,on:()=>j,pX:()=>ae,xv:()=>le});var h=k(4650),X=k(9260),O=k(2122);ut=k.hmd(ut);const oe=["ngOnDestroy"],ae=(Ce,Ee,Fe,Ae={})=>new Proxy(Ce,{get:(_e,xe)=>Fe.runOutsideAngular(()=>{var Le;if(Ce[xe])return!(null===(Le=Ae?.spy)||void 0===Le)&&Le.get&&Ae.spy.get(xe,Ce[xe]),Ce[xe];if(oe.indexOf(xe)>-1)return()=>{};const Oe=Ee.toPromise().then(U=>{const ye=U&&U[xe];return"function"==typeof ye?ye.bind(U):ye&&ye.then?ye.then(W=>Fe.run(()=>W)):Fe.run(()=>ye)});return new Proxy(()=>{},{get:(U,ye)=>Oe[ye],apply:(U,ye,W)=>Oe.then(Y=>{var se;const ne=Y&&Y(...W);return!(null===(se=Ae?.spy)||void 0===se)&&se.apply&&Ae.spy.apply(xe,W,ne),ne})})})}),ie=(Ce,Ee)=>{Ee.forEach(Fe=>{Object.getOwnPropertyNames(Fe.prototype||Fe).forEach(Ae=>{Object.defineProperty(Ce.prototype,Ae,Object.getOwnPropertyDescriptor(Fe.prototype||Fe,Ae))})})};class fe{constructor(Ee){return Ee}}const de=new h.OlP("angularfire2.app.options"),le=new h.OlP("angularfire2.app.name");function j(Ce,Ee,Fe){const _e="object"==typeof Fe&&Fe||{};_e.name=_e.name||"string"==typeof Fe&&Fe||"[DEFAULT]";const Le=X.Z.apps.filter(Oe=>Oe&&Oe.name===_e.name)[0]||Ee.runOutsideAngular(()=>X.Z.initializeApp(Ce,_e));try{JSON.stringify(Ce)!==JSON.stringify(Le.options)&&$("error",`${Le.name} Firebase App already initialized with different options${ut.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new fe(Le)}const $=(Ce,...Ee)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Ce](...Ee)},K={provide:fe,useFactory:j,deps:[de,h.R0b,[new h.FiY,le]]};let Ue=(()=>{class Ce{constructor(Fe){X.Z.registerVersion("angularfire",O.q4.full,"core"),X.Z.registerVersion("angularfire",O.q4.full,"app-compat"),X.Z.registerVersion("angular",h.q4F.full,Fe.toString())}static initializeApp(Fe,Ae){return{ngModule:Ce,providers:[{provide:de,useValue:Fe},{provide:le,useValue:Ae}]}}}return Ce.\u0275fac=function(Fe){return new(Fe||Ce)(h.LFG(h.Lbi))},Ce.\u0275mod=h.oAB({type:Ce}),Ce.\u0275inj=h.cJS({providers:[K]}),Ce})();function De(Ce,Ee,Fe,Ae,_e){const[,xe,Le]=globalThis.\u0275AngularfireInstanceCache.find(Oe=>Oe[0]===Ce)||[];if(xe)return function He(Ce,Ee){try{return Ce.toString()===Ee.toString()}catch{return Ce===Ee}}(_e,Le)||(he("error",`${Ee} was already initialized on the ${Fe} Firebase App with different settings.${nt?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:_e,was:Le})),xe;{const Oe=Ae();return globalThis.\u0275AngularfireInstanceCache.push([Ce,Oe,_e]),Oe}}const nt=!!ut.hot,he=(Ce,...Ee)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Ce](...Ee)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(ut,Ie,k)=>{k.d(Ie,{q4:()=>Pu,iC:()=>Lo,fc:()=>Bf,HU:()=>Vu,vb:()=>Ye,JM:()=>Fn});var h=k(4650),X=k(259),O=k(5861),oe=k(9681),ae=k(2090),ie=k(4859),fe=k(1877),de=k(8766);const le="@firebase/installations",j="0.6.1",K=`w:${j}`,Ue="FIS_v2",Ee=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Fe(D){return D instanceof ae.ZR&&D.code.includes("request-failed")}function Ae({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function _e(D){return{token:D.token,requestStatus:2,expiresIn:Y(D.expiresIn),creationTime:Date.now()}}function xe(D,C){return Le.apply(this,arguments)}function Le(){return(Le=(0,O.Z)(function*(D,C){const F=(yield C.json()).error;return Ee.create("request-failed",{requestName:D,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function Oe({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function U(D,{refreshToken:C}){const x=Oe(D);return x.append("Authorization",function se(D){return`${Ue} ${D}`}(C)),x}function ye(D){return W.apply(this,arguments)}function W(){return(W=(0,O.Z)(function*(D){const C=yield D();return C.status>=500&&C.status<600?D():C})).apply(this,arguments)}function Y(D){return Number(D.replace("s","000"))}function ne(D,C){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,O.Z)(function*({appConfig:D,heartbeatServiceProvider:C},{fid:x}){const F=Ae(D),H=Oe(D),te=C.getImmediate({optional:!0});if(te){const Xe=yield te.getHeartbeatsHeader();Xe&&H.append("x-firebase-client",Xe)}const Qe={method:"POST",headers:H,body:JSON.stringify({fid:x,authVersion:Ue,appId:D.appId,sdkVersion:K})},rt=yield ye(()=>fetch(F,Qe));if(rt.ok){const Xe=yield rt.json();return{fid:Xe.fid||x,registrationStatus:2,refreshToken:Xe.refreshToken,authToken:_e(Xe.authToken)}}throw yield xe("Create Installation",rt)})).apply(this,arguments)}function ke(D){return new Promise(C=>{setTimeout(C,D)})}const en=/^[cdef][\w-]{21}$/;function Rt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const x=function Bt(D){return function ct(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return en.test(x)?x:""}catch{return""}}function ht(D){return`${D.appName}!${D.appId}`}const Qt=new Map;function vr(D,C){const x=ht(D);mn(x,C),function ii(D,C){const x=function Rr(){return!qr&&"BroadcastChannel"in self&&(qr=new BroadcastChannel("[Firebase] FID Change"),qr.onmessage=D=>{mn(D.data.key,D.data.fid)}),qr}();x&&x.postMessage({key:D,fid:C}),function Nr(){0===Qt.size&&qr&&(qr.close(),qr=null)}()}(x,C)}function mn(D,C){const x=Qt.get(D);if(x)for(const F of x)F(C)}let qr=null;const wi="firebase-installations-store";let Or=null;function Ws(){return Or||(Or=(0,de.X3)("firebase-installations-database",1,{upgrade:(D,C)=>{0===C&&D.createObjectStore(wi)}})),Or}function dn(D,C){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,O.Z)(function*(D,C){const x=ht(D),H=(yield Ws()).transaction(wi,"readwrite"),te=H.objectStore(wi),Se=yield te.get(x);return yield te.put(C,x),yield H.done,(!Se||Se.fid!==C.fid)&&vr(D,C.fid),C})).apply(this,arguments)}function ft(D){return es.apply(this,arguments)}function es(){return(es=(0,O.Z)(function*(D){const C=ht(D),F=(yield Ws()).transaction(wi,"readwrite");yield F.objectStore(wi).delete(C),yield F.done})).apply(this,arguments)}function Ei(D,C){return vn.apply(this,arguments)}function vn(){return(vn=(0,O.Z)(function*(D,C){const x=ht(D),H=(yield Ws()).transaction(wi,"readwrite"),te=H.objectStore(wi),Se=yield te.get(x),Qe=C(Se);return void 0===Qe?yield te.delete(x):yield te.put(Qe,x),yield H.done,Qe&&(!Se||Se.fid!==Qe.fid)&&vr(D,Qe.fid),Qe})).apply(this,arguments)}function kr(D){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,O.Z)(function*(D){let C;const x=yield Ei(D.appConfig,F=>{const H=St(F),te=gt(D,H);return C=te.registrationPromise,te.installationEntry});return""===x.fid?{installationEntry:yield C}:{installationEntry:x,registrationPromise:C}})).apply(this,arguments)}function St(D){return wr(D||{fid:Rt(),registrationStatus:0})}function gt(D,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(Ee.create("app-offline"))};const x={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},F=function vt(D,C){return ts.apply(this,arguments)}(D,x);return{installationEntry:x,registrationPromise:F}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:Sn(D)}:{installationEntry:C}}function ts(){return(ts=(0,O.Z)(function*(D,C){try{const x=yield ne(D,C);return dn(D.appConfig,x)}catch(x){throw Fe(x)&&409===x.customData.serverCode?yield ft(D.appConfig):yield dn(D.appConfig,{fid:C.fid,registrationStatus:0}),x}})).apply(this,arguments)}function Sn(D){return wn.apply(this,arguments)}function wn(){return(wn=(0,O.Z)(function*(D){let C=yield Ii(D.appConfig);for(;1===C.registrationStatus;)yield ke(100),C=yield Ii(D.appConfig);if(0===C.registrationStatus){const{installationEntry:x,registrationPromise:F}=yield kr(D);return F||x}return C})).apply(this,arguments)}function Ii(D){return Ei(D,C=>{if(!C)throw Ee.create("installation-not-found");return wr(C)})}function wr(D){return function ia(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function rn(D,C){return ns.apply(this,arguments)}function ns(){return(ns=(0,O.Z)(function*({appConfig:D,heartbeatServiceProvider:C},x){const F=Zt(D,x),H=U(D,x),te=C.getImmediate({optional:!0});if(te){const Xe=yield te.getHeartbeatsHeader();Xe&&H.append("x-firebase-client",Xe)}const Qe={method:"POST",headers:H,body:JSON.stringify({installation:{sdkVersion:K,appId:D.appId}})},rt=yield ye(()=>fetch(F,Qe));if(rt.ok)return _e(yield rt.json());throw yield xe("Generate Auth Token",rt)})).apply(this,arguments)}function Zt(D,{fid:C}){return`${Ae(D)}/${C}/authTokens:generate`}function Er(D){return Li.apply(this,arguments)}function Li(){return(Li=(0,O.Z)(function*(D,C=!1){let x;const F=yield Ei(D.appConfig,te=>{if(!kt(te))throw Ee.create("not-registered");const Se=te.authToken;if(!C&&B(Se))return te;if(1===Se.requestStatus)return x=je(D,C),te;{if(!navigator.onLine)throw Ee.create("app-offline");const Qe=Z(te);return x=It(D,Qe),Qe}});return x?yield x:F.authToken})).apply(this,arguments)}function je(D,C){return ve.apply(this,arguments)}function ve(){return(ve=(0,O.Z)(function*(D,C){let x=yield We(D.appConfig);for(;1===x.authToken.requestStatus;)yield ke(100),x=yield We(D.appConfig);const F=x.authToken;return 0===F.requestStatus?Er(D,C):F})).apply(this,arguments)}function We(D){return Ei(D,C=>{if(!kt(C))throw Ee.create("not-registered");return function ge(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function It(D,C){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,O.Z)(function*(D,C){try{const x=yield rn(D,C),F=Object.assign(Object.assign({},C),{authToken:x});return yield dn(D.appConfig,F),x}catch(x){if(!Fe(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const F=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield dn(D.appConfig,F)}else yield ft(D.appConfig);throw x}})).apply(this,arguments)}function kt(D){return void 0!==D&&2===D.registrationStatus}function B(D){return 2===D.requestStatus&&!function L(D){const C=Date.now();return C<D.creationTime||D.creationTime+D.expiresIn<C+36e5}(D)}function Z(D){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:C})}function Je(){return(Je=(0,O.Z)(function*(D){const C=D,{installationEntry:x,registrationPromise:F}=yield kr(C);return F?F.catch(console.error):Er(C).catch(console.error),x.fid})).apply(this,arguments)}function qt(){return(qt=(0,O.Z)(function*(D,C=!1){const x=D;return yield En(x),(yield Er(x,C)).token})).apply(this,arguments)}function En(D){return mt.apply(this,arguments)}function mt(){return(mt=(0,O.Z)(function*(D){const{registrationPromise:C}=yield kr(D);C&&(yield C)})).apply(this,arguments)}function lu(D){return Ee.create("missing-app-config-values",{valueName:D})}const Nc="installations",In=D=>{const C=D.getProvider("app").getImmediate(),x=function oa(D){if(!D||!D.options)throw lu("App Configuration");if(!D.name)throw lu("App Name");const C=["projectId","apiKey","appId"];for(const x of C)if(!D.options[x])throw lu(x);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(C);return{app:C,appConfig:x,heartbeatServiceProvider:(0,oe._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},yd=D=>{const C=D.getProvider("app").getImmediate(),x=(0,oe._getProvider)(C,Nc).getImmediate();return{getId:()=>function ee(D){return Je.apply(this,arguments)}(x),getToken:H=>function Pt(D){return qt.apply(this,arguments)}(x,H)}};(function Oc(){(0,oe._registerComponent)(new ie.wA(Nc,In,"PUBLIC")),(0,oe._registerComponent)(new ie.wA("installations-internal",yd,"PRIVATE"))})(),(0,oe.registerVersion)(le,j),(0,oe.registerVersion)(le,j,"esm2017");const aa="@firebase/remote-config",Rn=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ca{constructor(C,x,F,H){this.client=C,this.storage=x,this.storageCache=F,this.logger=H}isCachedDataFresh(C,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-x,H=F<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${H}.`),H}fetch(C){var x=this;return(0,O.Z)(function*(){const[F,H]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(H&&x.isCachedDataFresh(C.cacheMaxAgeMillis,F))return H;C.eTag=H&&H.eTag;const te=yield x.client.fetch(C),Se=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===te.status&&Se.push(x.storage.setLastSuccessfulFetchResponse(te)),yield Promise.all(Se),te})()}}function Di(D=navigator){return D.languages&&D.languages[0]||D.language}class Cs{constructor(C,x,F,H,te,Se){this.firebaseInstallations=C,this.sdkVersion=x,this.namespace=F,this.projectId=H,this.apiKey=te,this.appId=Se}fetch(C){var x=this;return(0,O.Z)(function*(){const[F,H]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Se=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Qe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},rt={sdk_version:x.sdkVersion,app_instance_id:F,app_instance_id_token:H,app_id:x.appId,language_code:Di()},Xe={method:"POST",headers:Qe,body:JSON.stringify(rt)},Nt=fetch(Se,Xe),bt=new Promise((Xn,Wi)=>{C.signal.addEventListener(()=>{const Dn=new Error("The operation was aborted.");Dn.name="AbortError",Wi(Dn)})});let mr;try{yield Promise.race([Nt,bt]),mr=yield Nt}catch(Xn){let Wi="fetch-client-network";throw"AbortError"===Xn?.name&&(Wi="fetch-timeout"),Rn.create(Wi,{originalErrorMessage:Xn?.message})}let jn=mr.status;const Oa=mr.headers.get("ETag")||void 0;let ka,qi;if(200===mr.status){let Xn;try{Xn=yield mr.json()}catch(Wi){throw Rn.create("fetch-client-parse",{originalErrorMessage:Wi?.message})}ka=Xn.entries,qi=Xn.state}if("INSTANCE_STATE_UNSPECIFIED"===qi?jn=500:"NO_CHANGE"===qi?jn=304:("NO_TEMPLATE"===qi||"EMPTY_CONFIG"===qi)&&(ka={}),304!==jn&&200!==jn)throw Rn.create("fetch-status",{httpStatus:jn});return{status:jn,eTag:Oa,config:ka}})()}}class yg{constructor(C,x){this.client=C,this.storage=x}fetch(C){var x=this;return(0,O.Z)(function*(){const F=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(C,F)})()}attemptFetch(C,{throttleEndTimeMillis:x,backoffCount:F}){var H=this;return(0,O.Z)(function*(){yield function On(D,C){return new Promise((x,F)=>{const H=Math.max(C-Date.now(),0),te=setTimeout(x,H);D.addEventListener(()=>{clearTimeout(te),F(Rn.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,x);try{const te=yield H.client.fetch(C);return yield H.storage.deleteThrottleMetadata(),te}catch(te){if(!function sn(D){if(!(D instanceof ae.ZR&&D.customData))return!1;const C=Number(D.customData.httpStatus);return 429===C||500===C||503===C||504===C}(te))throw te;const Se={throttleEndTimeMillis:Date.now()+(0,ae.$s)(F),backoffCount:F+1};return yield H.storage.setThrottleMetadata(Se),H.attemptFetch(C,Se)}})()}}class Ks{constructor(C,x,F,H,te){this.app=C,this._client=x,this._storageCache=F,this._storage=H,this._logger=te,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ys(D,C){const x=D.target.error||void 0;return Rn.create(C,{originalErrorMessage:x&&x?.message})}const Pr="app_namespace_store";class Ci{constructor(C,x,F,H=function Kr(){return new Promise((D,C)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=F=>{C(Ys(F,"storage-open"))},x.onsuccess=F=>{D(F.target.result)},x.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(Pr,{keyPath:"compositeKey"})}}catch(x){C(Rn.create("storage-open",{originalErrorMessage:x?.message}))}})}()){this.appId=C,this.appName=x,this.namespace=F,this.openDbPromise=H}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var x=this;return(0,O.Z)(function*(){const F=yield x.openDbPromise;return new Promise((H,te)=>{const Qe=F.transaction([Pr],"readonly").objectStore(Pr),rt=x.createCompositeKey(C);try{const Xe=Qe.get(rt);Xe.onerror=Nt=>{te(Ys(Nt,"storage-get"))},Xe.onsuccess=Nt=>{const bt=Nt.target.result;H(bt?bt.value:void 0)}}catch(Xe){te(Rn.create("storage-get",{originalErrorMessage:Xe?.message}))}})})()}set(C,x){var F=this;return(0,O.Z)(function*(){const H=yield F.openDbPromise;return new Promise((te,Se)=>{const rt=H.transaction([Pr],"readwrite").objectStore(Pr),Xe=F.createCompositeKey(C);try{const Nt=rt.put({compositeKey:Xe,value:x});Nt.onerror=bt=>{Se(Ys(bt,"storage-set"))},Nt.onsuccess=()=>{te()}}catch(Nt){Se(Rn.create("storage-set",{originalErrorMessage:Nt?.message}))}})})()}delete(C){var x=this;return(0,O.Z)(function*(){const F=yield x.openDbPromise;return new Promise((H,te)=>{const Qe=F.transaction([Pr],"readwrite").objectStore(Pr),rt=x.createCompositeKey(C);try{const Xe=Qe.delete(rt);Xe.onerror=Nt=>{te(Ys(Nt,"storage-delete"))},Xe.onsuccess=()=>{H()}}catch(Xe){te(Rn.create("storage-delete",{originalErrorMessage:Xe?.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class la{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,O.Z)(function*(){const x=C.storage.getLastFetchStatus(),F=C.storage.getLastSuccessfulFetchTimestampMillis(),H=C.storage.getActiveConfig(),te=yield x;te&&(C.lastFetchStatus=te);const Se=yield F;Se&&(C.lastSuccessfulFetchTimestampMillis=Se);const Qe=yield H;Qe&&(C.activeConfig=Qe)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function da(){return Df.apply(this,arguments)}function Df(){return(Df=(0,O.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}!function Ti(){(0,oe._registerComponent)(new ie.wA("remote-config",function D(C,{instanceIdentifier:x}){const F=C.getProvider("app").getImmediate(),H=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Rn.create("registration-window");if(!(0,ae.hl)())throw Rn.create("indexed-db-unavailable");const{projectId:te,apiKey:Se,appId:Qe}=F.options;if(!te)throw Rn.create("registration-project-id");if(!Se)throw Rn.create("registration-api-key");if(!Qe)throw Rn.create("registration-app-id");const rt=new Ci(Qe,F.name,x=x||"firebase"),Xe=new la(rt),Nt=new fe.Yd(aa);Nt.logLevel=fe.in.ERROR;const bt=new Cs(H,oe.SDK_VERSION,x,te,Se,Qe),mr=new yg(bt,rt),jn=new ca(mr,rt,Xe,Nt),Oa=new Ks(F,jn,Xe,rt,Nt);return function yn(D){const C=(0,ae.m9)(D);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(Oa),Oa},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(aa,"0.4.1"),(0,oe.registerVersion)(aa,"0.4.1","esm2017")}();const Pc="/firebase-messaging-sw.js",rs="/firebase-cloud-messaging-push-scope",Qs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",wd="google.c.a.c_id",Eo="google.c.a.c_l",Fc="google.c.a.ts",Ed="google.c.a.e";var hu=(()=>{return(D=hu||(hu={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",hu;var D})();function Si(D){const C=new Uint8Array(D);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Id(D){const x=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(x),H=new Uint8Array(F.length);for(let te=0;te<F.length;++te)H[te]=F.charCodeAt(te);return H}const Vc="fcm_token_details_db",Fr="fcm_token_object_Store";function Dd(D){return Uc.apply(this,arguments)}function Uc(){return Uc=(0,O.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(te=>te.name).includes(Vc))return null;let C=null;return(yield(0,de.X3)(Vc,5,{upgrade:(F=(0,O.Z)(function*(H,te,Se,Qe){var rt;if(te<2||!H.objectStoreNames.contains(Fr))return;const Xe=Qe.objectStore(Fr),Nt=yield Xe.index("fcmSenderId").get(D);if(yield Xe.clear(),Nt)if(2===te){const bt=Nt;if(!bt.auth||!bt.p256dh||!bt.endpoint)return;C={token:bt.fcmToken,createTime:null!==(rt=bt.createTime)&&void 0!==rt?rt:Date.now(),subscriptionOptions:{auth:bt.auth,p256dh:bt.p256dh,endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:"string"==typeof bt.vapidKey?bt.vapidKey:Si(bt.vapidKey)}}}else if(3===te){const bt=Nt;C={token:bt.fcmToken,createTime:bt.createTime,subscriptionOptions:{auth:Si(bt.auth),p256dh:Si(bt.p256dh),endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:Si(bt.vapidKey)}}}else if(4===te){const bt=Nt;C={token:bt.fcmToken,createTime:bt.createTime,subscriptionOptions:{auth:Si(bt.auth),p256dh:Si(bt.p256dh),endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:Si(bt.vapidKey)}}}}),function(te,Se,Qe,rt){return F.apply(this,arguments)})})).close(),yield(0,de.Lj)(Vc),yield(0,de.Lj)("fcm_vapid_details_db"),yield(0,de.Lj)("undefined"),Cf(C)?C:null;var F}),Uc.apply(this,arguments)}function Cf(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:C}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}const Ts="firebase-messaging-store";let fa=null;function Js(){return fa||(fa=(0,de.X3)("firebase-messaging-database",1,{upgrade:(D,C)=>{0===C&&D.createObjectStore(Ts)}})),fa}function fu(D){return pu.apply(this,arguments)}function pu(){return(pu=(0,O.Z)(function*(D){const C=mu(D),F=yield(yield Js()).transaction(Ts).objectStore(Ts).get(C);if(F)return F;{const H=yield Dd(D.appConfig.senderId);if(H)return yield Ss(D,H),H}})).apply(this,arguments)}function Ss(D,C){return pa.apply(this,arguments)}function pa(){return(pa=(0,O.Z)(function*(D,C){const x=mu(D),H=(yield Js()).transaction(Ts,"readwrite");return yield H.objectStore(Ts).put(C,x),yield H.done,C})).apply(this,arguments)}function gu(D){return Io.apply(this,arguments)}function Io(){return(Io=(0,O.Z)(function*(D){const C=mu(D),F=(yield Js()).transaction(Ts,"readwrite");yield F.objectStore(Ts).delete(C),yield F.done})).apply(this,arguments)}function mu({appConfig:D}){return D.appId}const An=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ga(D,C){return kn.apply(this,arguments)}function kn(){return(kn=(0,O.Z)(function*(D,C){const x=yield As(D),F=ma(C),H={method:"POST",headers:x,body:JSON.stringify(F)};let te;try{te=yield(yield fetch(Do(D.appConfig),H)).json()}catch(Se){throw An.create("token-subscribe-failed",{errorInfo:Se?.toString()})}if(te.error)throw An.create("token-subscribe-failed",{errorInfo:te.error.message});if(!te.token)throw An.create("token-subscribe-no-token");return te.token})).apply(this,arguments)}function bo(D,C){return eo.apply(this,arguments)}function eo(){return(eo=(0,O.Z)(function*(D,C){const x=yield As(D),F=ma(C.subscriptionOptions),H={method:"PATCH",headers:x,body:JSON.stringify(F)};let te;try{te=yield(yield fetch(`${Do(D.appConfig)}/${C.token}`,H)).json()}catch(Se){throw An.create("token-update-failed",{errorInfo:Se?.toString()})}if(te.error)throw An.create("token-update-failed",{errorInfo:te.error.message});if(!te.token)throw An.create("token-update-no-token");return te.token})).apply(this,arguments)}function fr(D,C){return Td.apply(this,arguments)}function Td(){return(Td=(0,O.Z)(function*(D,C){const F={method:"DELETE",headers:yield As(D)};try{const te=yield(yield fetch(`${Do(D.appConfig)}/${C}`,F)).json();if(te.error)throw An.create("token-unsubscribe-failed",{errorInfo:te.error.message})}catch(H){throw An.create("token-unsubscribe-failed",{errorInfo:H?.toString()})}})).apply(this,arguments)}function Do({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function As(D){return rr.apply(this,arguments)}function rr(){return(rr=(0,O.Z)(function*({appConfig:D,installations:C}){const x=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function ma({p256dh:D,auth:C,endpoint:x,vapidKey:F}){const H={web:{endpoint:x,auth:C,p256dh:D}};return F!==Qs&&(H.web.applicationPubKey=F),H}const ya=6048e5;function yu(D){return ji.apply(this,arguments)}function ji(){return(ji=(0,O.Z)(function*(D){const C=yield jc(D.swRegistration,D.vapidKey),x={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:C.endpoint,auth:Si(C.getKey("auth")),p256dh:Si(C.getKey("p256dh"))},F=yield fu(D.firebaseDependencies);if(F){if(wu(F.subscriptionOptions,x))return Date.now()>=F.createTime+ya?At(D,{token:F.token,createTime:Date.now(),subscriptionOptions:x}):F.token;try{yield fr(D.firebaseDependencies,F.token)}catch(H){console.warn(H)}return Bc(D.firebaseDependencies,x)}return Bc(D.firebaseDependencies,x)})).apply(this,arguments)}function _a(D){return va.apply(this,arguments)}function va(){return(va=(0,O.Z)(function*(D){const C=yield fu(D.firebaseDependencies);C&&(yield fr(D.firebaseDependencies,C.token),yield gu(D.firebaseDependencies));const x=yield D.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function At(D,C){return _u.apply(this,arguments)}function _u(){return(_u=(0,O.Z)(function*(D,C){try{const x=yield bo(D.firebaseDependencies,C),F=Object.assign(Object.assign({},C),{token:x,createTime:Date.now()});return yield Ss(D.firebaseDependencies,F),x}catch(x){throw yield _a(D),x}})).apply(this,arguments)}function Bc(D,C){return vu.apply(this,arguments)}function vu(){return(vu=(0,O.Z)(function*(D,C){const F={token:yield ga(D,C),createTime:Date.now(),subscriptionOptions:C};return yield Ss(D,F),F.token})).apply(this,arguments)}function jc(D,C){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,O.Z)(function*(D,C){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Id(C)})})).apply(this,arguments)}function wu(D,C){return C.vapidKey===D.vapidKey&&C.endpoint===D.endpoint&&C.auth===D.auth&&C.p256dh===D.p256dh}function Pn(D){const C={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Ad(D,C){if(!C.notification)return;D.notification={};const x=C.notification.title;x&&(D.notification.title=x);const F=C.notification.body;F&&(D.notification.body=F);const H=C.notification.image;H&&(D.notification.image=H);const te=C.notification.icon;te&&(D.notification.icon=te)}(C,D),function Te(D,C){C.data&&(D.data=C.data)}(C,D),function Yt(D,C){var x,F,H,te,Se;if(!(C.fcmOptions||null!==(x=C.notification)&&void 0!==x&&x.click_action))return;D.fcmOptions={};const Qe=null!==(H=null===(F=C.fcmOptions)||void 0===F?void 0:F.link)&&void 0!==H?H:null===(te=C.notification)||void 0===te?void 0:te.click_action;Qe&&(D.fcmOptions.link=Qe);const rt=null===(Se=C.fcmOptions)||void 0===Se?void 0:Se.analytics_label;rt&&(D.fcmOptions.analyticsLabel=rt)}(C,D),C}function $c(D){return"object"==typeof D&&!!D&&wd in D}function xd(D,C){const x=[];for(let F=0;F<D.length;F++)x.push(D.charAt(F)),F<C.length&&x.push(C.charAt(F));return x.join("")}function Co(D){return An.create("missing-app-config-values",{valueName:D})}xd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),xd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Eu{constructor(C,x,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const H=function pr(D){if(!D||!D.options)throw Co("App Configuration Object");if(!D.name)throw Co("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:x}=D;for(const F of C)if(!x[F])throw Co(F);return{appName:D.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:H,installations:x,analyticsProvider:F}}_delete(){return Promise.resolve()}}function oi(D){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,O.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Pc,{scope:rs}),D.swRegistration.update().catch(()=>{})}catch(C){throw An.create("failed-service-worker-registration",{browserErrorMessage:C?.message})}})).apply(this,arguments)}function To(D,C){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,O.Z)(function*(D,C){if(!C&&!D.swRegistration&&(yield oi(D)),C||!D.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw An.create("invalid-sw-registration");D.swRegistration=C}})).apply(this,arguments)}function Md(D,C){return So.apply(this,arguments)}function So(){return(So=(0,O.Z)(function*(D,C){C?D.vapidKey=C:D.vapidKey||(D.vapidKey=Qs)})).apply(this,arguments)}function $i(){return($i=(0,O.Z)(function*(D,C){if(!navigator)throw An.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw An.create("permission-blocked");return yield Md(D,C?.vapidKey),yield To(D,C?.serviceWorkerRegistration),yu(D)})).apply(this,arguments)}function Gc(D,C,x){return is.apply(this,arguments)}function is(){return(is=(0,O.Z)(function*(D,C,x){const F=ai(C);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:x[wd],message_name:x[Eo],message_time:x[Fc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ai(D){switch(D){case hu.NOTIFICATION_CLICKED:return"notification_open";case hu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function zc(){return(zc=(0,O.Z)(function*(D,C){const x=C.data;if(!x.isFirebaseMessaging)return;D.onMessageHandler&&x.messageType===hu.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Pn(x)):D.onMessageHandler.next(Pn(x)));const F=x.data;$c(F)&&"1"===F[Ed]&&(yield Gc(D,x.messageType,F))})).apply(this,arguments)}const qc="@firebase/messaging",Rd=D=>{const C=new Eu(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function _g(D,C){return zc.apply(this,arguments)}(C,x)),C},to=D=>{const C=D.getProvider("messaging").getImmediate();return{getToken:F=>function bn(D,C){return $i.apply(this,arguments)}(C,F)}};function Wc(){return Od.apply(this,arguments)}function Od(){return(Od=(0,O.Z)(function*(){try{yield(0,ae.eu)()}catch{return!1}return typeof window<"u"&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Nd(){(0,oe._registerComponent)(new ie.wA("messaging",Rd,"PUBLIC")),(0,oe._registerComponent)(new ie.wA("messaging-internal",to,"PRIVATE")),(0,oe.registerVersion)(qc,"0.12.1"),(0,oe.registerVersion)(qc,"0.12.1","esm2017")}();const Zc="analytics",Qr="firebase_id",Ao="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Kc="https://www.googletagmanager.com/gtag/js",gr=new fe.Yd("@firebase/analytics");function Af(D){return Promise.all(D.map(C=>C.catch(x=>x)))}function Eg(D,C){const x=document.createElement("script");x.src=`${Kc}?l=${D}&id=${C}`,x.async=!0,document.head.appendChild(x)}function xs(D,C,x,F,H,te){return ui.apply(this,arguments)}function ui(){return(ui=(0,O.Z)(function*(D,C,x,F,H,te){const Se=F[H];try{if(Se)yield C[Se];else{const rt=(yield Af(x)).find(Xe=>Xe.measurementId===H);rt&&(yield C[rt.appId])}}catch(Qe){gr.error(Qe)}D("config",H,te)})).apply(this,arguments)}function Cu(D,C,x,F,H){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,O.Z)(function*(D,C,x,F,H){try{let te=[];if(H&&H.send_to){let Se=H.send_to;Array.isArray(Se)||(Se=[Se]);const Qe=yield Af(x);for(const rt of Se){const Xe=Qe.find(bt=>bt.measurementId===rt),Nt=Xe&&C[Xe.appId];if(!Nt){te=[];break}te.push(Nt)}}0===te.length&&(te=Object.values(C)),yield Promise.all(te),D("event",F,H||{})}catch(te){gr.error(te)}})).apply(this,arguments)}function xo(D){const C=window.document.getElementsByTagName("script");for(const x of Object.values(C))if(x.src&&x.src.includes(Kc)&&x.src.includes(D))return x;return null}const ci=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Xc=new class Hi{constructor(C={},x=1e3){this.throttleMetadata=C,this.intervalMillis=x}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,x){this.throttleMetadata[C]=x}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function Pd(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Ms(D){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,O.Z)(function*(D){var C;const{appId:x,apiKey:F}=D,H={method:"GET",headers:Pd(F)},te=Ao.replace("{app-id}",x),Se=yield fetch(te,H);if(200!==Se.status&&304!==Se.status){let Qe="";try{const rt=yield Se.json();null!==(C=rt.error)&&void 0!==C&&C.message&&(Qe=rt.error.message)}catch{}throw ci.create("config-fetch-failed",{httpStatus:Se.status,responseMessage:Qe})}return Se.json()})).apply(this,arguments)}function _n(D){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,O.Z)(function*(D,C=Xc,x){const{appId:F,apiKey:H,measurementId:te}=D.options;if(!F)throw ci.create("no-app-id");if(!H){if(te)return{measurementId:te,appId:F};throw ci.create("no-api-key")}const Se=C.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Qe=new Su;return setTimeout((0,O.Z)(function*(){Qe.abort()}),void 0!==x?x:6e4),Ro({appId:F,apiKey:H,measurementId:te},Se,Qe,C)})).apply(this,arguments)}function Ro(D,C,x){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,O.Z)(function*(D,{throttleEndTimeMillis:C,backoffCount:x},F,H=Xc){var te;const{appId:Se,measurementId:Qe}=D;try{yield Tu(F,C)}catch(rt){if(Qe)return gr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qe} provided in the "measurementId" field in the local Firebase config. [${rt?.message}]`),{appId:Se,measurementId:Qe};throw rt}try{const rt=yield Ms(D);return H.deleteThrottleMetadata(Se),rt}catch(rt){const Xe=rt;if(!Fd(Xe)){if(H.deleteThrottleMetadata(Se),Qe)return gr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qe} provided in the "measurementId" field in the local Firebase config. [${Xe?.message}]`),{appId:Se,measurementId:Qe};throw rt}const Nt=503===Number(null===(te=Xe?.customData)||void 0===te?void 0:te.httpStatus)?(0,ae.$s)(x,H.intervalMillis,30):(0,ae.$s)(x,H.intervalMillis),bt={throttleEndTimeMillis:Date.now()+Nt,backoffCount:x+1};return H.setThrottleMetadata(Se,bt),gr.debug(`Calling attemptFetch again in ${Nt} millis`),Ro(D,bt,F,H)}})).apply(this,arguments)}function Tu(D,C){return new Promise((x,F)=>{const H=Math.max(C-Date.now(),0),te=setTimeout(x,H);D.addEventListener(()=>{clearTimeout(te),F(ci.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}function Fd(D){if(!(D instanceof ae.ZR&&D.customData))return!1;const C=Number(D.customData.httpStatus);return 429===C||500===C||503===C||504===C}class Su{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let Au,Os;function ss(){return(ss=(0,O.Z)(function*(D,C,x,F,H){if(H&&H.global)D("event",x,F);else{const te=yield C;D("event",x,Object.assign(Object.assign({},F),{send_to:te}))}})).apply(this,arguments)}function Mu(D){Os=D}function Ru(D){Au=D}function tl(){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,O.Z)(function*(){if(!(0,ae.hl)())return gr.warn(ci.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(D){return gr.warn(ci.create("indexeddb-unavailable",{errorInfo:D?.toString()}).message),!1}return!0})).apply(this,arguments)}function nl(){return(nl=(0,O.Z)(function*(D,C,x,F,H,te,Se){var Qe;const rt=_n(D);rt.then(jn=>{x[jn.measurementId]=jn.appId,D.options.measurementId&&jn.measurementId!==D.options.measurementId&&gr.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${jn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(jn=>gr.error(jn)),C.push(rt);const Xe=tl().then(jn=>{if(jn)return F.getId()}),[Nt,bt]=yield Promise.all([rt,Xe]);xo(te)||Eg(te,Nt.measurementId),Os&&(H("consent","default",Os),Mu(void 0)),H("js",new Date);const mr=null!==(Qe=Se?.config)&&void 0!==Qe?Qe:{};return mr.origin="firebase",mr.update=!0,null!=bt&&(mr[Qr]=bt),H("config",Nt.measurementId,mr),Au&&(H("set",Au),Ru(void 0)),Nt.measurementId})).apply(this,arguments)}class rl{constructor(C){this.app=C}_delete(){return delete os[this.app.options.appId],Promise.resolve()}}let os={},Ou=[];const Ta={};let il,Mi,xi="dataLayer",li=!1;function Vd(D,C,x){!function Ld(){const D=[];if((0,ae.ru)()&&D.push("This is a browser extension environment."),(0,ae.zI)()||D.push("Cookies are not available."),D.length>0){const C=D.map((F,H)=>`(${H+1}) ${F}`).join(" "),x=ci.create("invalid-analytics-context",{errorInfo:C});gr.warn(x.message)}}();const F=D.options.appId;if(!F)throw ci.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw ci.create("no-api-key");gr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=os[F])throw ci.create("already-exists",{id:F});if(!li){!function xf(D){let C=[];Array.isArray(window[D])?C=window[D]:window[D]=C}(xi);const{wrappedGtag:te,gtagCore:Se}=function kd(D,C,x,F,H){let te=function(...Se){window[F].push(arguments)};return window[H]&&"function"==typeof window[H]&&(te=window[H]),window[H]=function Yc(D,C,x,F){function te(){return(te=(0,O.Z)(function*(Se,Qe,rt){try{"event"===Se?yield Cu(D,C,x,Qe,rt):"config"===Se?yield xs(D,C,x,F,Qe,rt):"consent"===Se?D("consent","update",rt):D("set",Qe)}catch(Xe){gr.error(Xe)}})).apply(this,arguments)}return function H(Se,Qe,rt){return te.apply(this,arguments)}}(te,D,C,x),{gtagCore:te,wrappedGtag:window[H]}}(os,Ou,Ta,xi,"gtag");Mi=te,il=Se,li=!0}return os[F]=function ko(D,C,x,F,H,te,Se){return nl.apply(this,arguments)}(D,Ou,Ta,C,il,xi,x),new rl(D)}function sl(){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,O.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}const on="@firebase/analytics";!function kf(){(0,oe._registerComponent)(new ie.wA(Zc,(C,{options:x})=>Vd(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,oe._registerComponent)(new ie.wA("analytics-internal",function D(C){try{const x=C.getProvider(Zc).getImmediate();return{logEvent:(F,H,te)=>function ro(D,C,x,F){D=(0,ae.m9)(D),function No(D,C,x,F,H){return ss.apply(this,arguments)}(Mi,os[D.app.options.appId],C,x,F).catch(H=>gr.error(H))}(x,F,H,te)}}catch(x){throw ci.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,oe.registerVersion)(on,"0.9.1"),(0,oe.registerVersion)(on,"0.9.1","esm2017")}();var Pf=k(4408),Ff=k(7565);const Lf=new class ol extends Ff.v{}(class Wy extends Pf.o{constructor(C,x){super(C,x),this.scheduler=C,this.work=x}schedule(C,x=0){return x>0?super.schedule(C,x):(this.delay=x,this.state=C,this.scheduler.flush(this),this)}execute(C,x){return x>0||this.closed?super.execute(C,x):this._execute(C,x)}requestAsyncId(C,x,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(C,x,F):(C.flush(this),0)}});var Vf=k(4986),ul=k(8505),fn=k(5363),Ma=k(9468);const Pu=new h.GfV("7.5.0"),jd="__angularfire_symbol__analyticsIsSupportedValue",Jr="__angularfire_symbol__analyticsIsSupported",zi="__angularfire_symbol__remoteConfigIsSupportedValue",Fu="__angularfire_symbol__remoteConfigIsSupported",Ra="__angularfire_symbol__messagingIsSupportedValue",Fo="__angularfire_symbol__messagingIsSupported";function Fn(D,C,x){if(C){if(1===C.length)return C[0];const te=C.filter(Se=>Se.app===x);if(1===te.length)return te[0]}return x.container.getProvider(D).getImmediate({optional:!0})}globalThis[Jr]||(globalThis[Jr]=sl().then(D=>globalThis[jd]=D).catch(()=>globalThis[jd]=!1)),globalThis[Fo]||(globalThis[Fo]=Wc().then(D=>globalThis[Ra]=D).catch(()=>globalThis[Ra]=!1)),globalThis[Fu]||(globalThis[Fu]=da().then(D=>globalThis[zi]=D).catch(()=>globalThis[zi]=!1));const Ye=(D,C)=>{const x=C?[C]:(0,X.C6)(),F=[];return x.forEach(H=>{H.container.getProvider(D).instances.forEach(Se=>{F.includes(Se)||F.push(Se)})}),F};function Qn(){}class ir{constructor(C,x=Lf){this.zone=C,this.delegate=x}now(){return this.delegate.now()}schedule(C,x,F){const H=this.zone;return this.delegate.schedule(function(Se){H.runGuarded(()=>{C.apply(this,[Se])})},x,F)}}class $d{constructor(C){this.zone=C,this.task=null}call(C,x){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qn,{},Qn,Qn)),x.pipe((0,ul.b)({next:F,complete:F,error:F})).subscribe(C).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Vu=(()=>{class D{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new ir(Zone.current)),this.insideAngular=x.run(()=>new ir(Zone.current,Vf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(x){return new(x||D)(h.LFG(h.R0b))},D.\u0275prov=h.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Bn(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Bf(D){return D.pipe((0,fn.Q)(Bn().outsideAngular))}function Lo(D){return Bn(),function Na(D){return function(x){return(x=x.lift(new $d(D.ngZone))).pipe((0,Ma.R)(D.outsideAngular),(0,fn.Q)(D.insideAngular))}}(Bn())(D)}},2090:(ut,Ie,k)=>{k.d(Ie,{$s:()=>We,BH:()=>_e,G6:()=>ct,L:()=>de,LL:()=>Qt,Pz:()=>Ae,Sg:()=>xe,UG:()=>U,US:()=>ie,ZB:()=>$,ZR:()=>ht,aH:()=>Fe,b$:()=>Y,eu:()=>ln,hl:()=>en,jU:()=>ye,m9:()=>kt,ne:()=>Ds,pd:()=>vn,r3:()=>bs,ru:()=>W,tV:()=>le,uI:()=>Oe,vZ:()=>dn,w1:()=>ne,xO:()=>es,xb:()=>Or,z$:()=>Le,zI:()=>Rt,zd:()=>Ei});const oe=function(B){const L=[];let Z=0;for(let ge=0;ge<B.length;ge++){let ee=B.charCodeAt(ge);ee<128?L[Z++]=ee:ee<2048?(L[Z++]=ee>>6|192,L[Z++]=63&ee|128):55296==(64512&ee)&&ge+1<B.length&&56320==(64512&B.charCodeAt(ge+1))?(ee=65536+((1023&ee)<<10)+(1023&B.charCodeAt(++ge)),L[Z++]=ee>>18|240,L[Z++]=ee>>12&63|128,L[Z++]=ee>>6&63|128,L[Z++]=63&ee|128):(L[Z++]=ee>>12|224,L[Z++]=ee>>6&63|128,L[Z++]=63&ee|128)}return L},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,L){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,ge=[];for(let ee=0;ee<B.length;ee+=3){const Je=B[ee],Pt=ee+1<B.length,qt=Pt?B[ee+1]:0,En=ee+2<B.length,mt=En?B[ee+2]:0;let Kn=(15&qt)<<2|mt>>6,yo=63&mt;En||(yo=64,Pt||(Kn=64)),ge.push(Z[Je>>2],Z[(3&Je)<<4|qt>>4],Z[Kn],Z[yo])}return ge.join("")},encodeString(B,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(B):this.encodeByteArray(oe(B),L)},decodeString(B,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(B):function(B){const L=[];let Z=0,ge=0;for(;Z<B.length;){const ee=B[Z++];if(ee<128)L[ge++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const Je=B[Z++];L[ge++]=String.fromCharCode((31&ee)<<6|63&Je)}else if(ee>239&&ee<365){const En=((7&ee)<<18|(63&B[Z++])<<12|(63&B[Z++])<<6|63&B[Z++])-65536;L[ge++]=String.fromCharCode(55296+(En>>10)),L[ge++]=String.fromCharCode(56320+(1023&En))}else{const Je=B[Z++],Pt=B[Z++];L[ge++]=String.fromCharCode((15&ee)<<12|(63&Je)<<6|63&Pt)}}return L.join("")}(this.decodeStringToByteArray(B,L))},decodeStringToByteArray(B,L){this.init_();const Z=L?this.charToByteMapWebSafe_:this.charToByteMap_,ge=[];for(let ee=0;ee<B.length;){const Je=Z[B.charAt(ee++)],qt=ee<B.length?Z[B.charAt(ee)]:0;++ee;const mt=ee<B.length?Z[B.charAt(ee)]:64;++ee;const $t=ee<B.length?Z[B.charAt(ee)]:64;if(++ee,null==Je||null==qt||null==mt||null==$t)throw Error();ge.push(Je<<2|qt>>4),64!==mt&&(ge.push(qt<<4&240|mt>>2),64!==$t&&ge.push(mt<<6&192|$t))}return ge},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}},de=function(B){return function(B){const L=oe(B);return ie.encodeByteArray(L,!0)}(B).replace(/\./g,"")},le=function(B){try{return ie.decodeString(B,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function $(B,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return L}for(const Z in L)!L.hasOwnProperty(Z)||!K(Z)||(B[Z]=$(B[Z],L[Z]));return B}function K(B){return"__proto__"!==B}const he=()=>{try{return function Ue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const B=process.env.__FIREBASE_DEFAULTS__;return B?JSON.parse(B):void 0})()||(()=>{if(typeof document>"u")return;let B;try{B=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const L=B&&le(B[1]);return L&&JSON.parse(L)})()}catch(B){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${B}`)}},Fe=()=>{var B;return null===(B=he())||void 0===B?void 0:B.config},Ae=B=>{var L;return null===(L=he())||void 0===L?void 0:L[`_${B}`]};class _e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,Z)=>{this.resolve=L,this.reject=Z})}wrapCallback(L){return(Z,ge)=>{Z?this.reject(Z):this.resolve(ge),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(Z):L(Z,ge))}}}function xe(B,L){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ge=L||"demo-project",ee=B.iat||0,Je=B.sub||B.user_id;if(!Je)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Pt=Object.assign({iss:`https://securetoken.google.com/${ge}`,aud:ge,iat:ee,exp:ee+3600,auth_time:ee,sub:Je,user_id:Je,firebase:{sign_in_provider:"custom",identities:{}}},B);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(Pt)),""].join(".")}function Le(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function U(){var B;const L=null===(B=he())||void 0===B?void 0:B.forceEnvironment;if("node"===L)return!0;if("browser"===L)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ye(){return"object"==typeof self&&self.self===self}function W(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function Y(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ne(){const B=Le();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function ct(){return!U()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function en(){try{return"object"==typeof indexedDB}catch{return!1}}function ln(){return new Promise((B,L)=>{try{let Z=!0;const ge="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(ge);ee.onsuccess=()=>{ee.result.close(),Z||self.indexedDB.deleteDatabase(ge),B(!0)},ee.onupgradeneeded=()=>{Z=!1},ee.onerror=()=>{var Je;L((null===(Je=ee.error)||void 0===Je?void 0:Je.message)||"")}}catch(Z){L(Z)}})}function Rt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ht extends Error{constructor(L,Z,ge){super(Z),this.code=L,this.customData=ge,this.name="FirebaseError",Object.setPrototypeOf(this,ht.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qt.prototype.create)}}class Qt{constructor(L,Z,ge){this.service=L,this.serviceName=Z,this.errors=ge}create(L,...Z){const ge=Z[0]||{},ee=`${this.service}/${L}`,Je=this.errors[L],Pt=Je?function vr(B,L){return B.replace(Mr,(Z,ge)=>{const ee=L[ge];return null!=ee?String(ee):`<${ge}?>`})}(Je,ge):"Error";return new ht(ee,`${this.serviceName}: ${Pt} (${ee}).`,ge)}}const Mr=/\{\$([^}]+)}/g;function bs(B,L){return Object.prototype.hasOwnProperty.call(B,L)}function Or(B){for(const L in B)if(Object.prototype.hasOwnProperty.call(B,L))return!1;return!0}function dn(B,L){if(B===L)return!0;const Z=Object.keys(B),ge=Object.keys(L);for(const ee of Z){if(!ge.includes(ee))return!1;const Je=B[ee],Pt=L[ee];if(Wr(Je)&&Wr(Pt)){if(!dn(Je,Pt))return!1}else if(Je!==Pt)return!1}for(const ee of ge)if(!Z.includes(ee))return!1;return!0}function Wr(B){return null!==B&&"object"==typeof B}function es(B){const L=[];for(const[Z,ge]of Object.entries(B))Array.isArray(ge)?ge.forEach(ee=>{L.push(encodeURIComponent(Z)+"="+encodeURIComponent(ee))}):L.push(encodeURIComponent(Z)+"="+encodeURIComponent(ge));return L.length?"&"+L.join("&"):""}function Ei(B){const L={};return B.replace(/^\?/,"").split("&").forEach(ge=>{if(ge){const[ee,Je]=ge.split("=");L[decodeURIComponent(ee)]=decodeURIComponent(Je)}}),L}function vn(B){const L=B.indexOf("?");if(!L)return"";const Z=B.indexOf("#",L);return B.substring(L,Z>0?Z:void 0)}function Ds(B,L){const Z=new St(B,L);return Z.subscribe.bind(Z)}class St{constructor(L,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{L(this)}).catch(ge=>{this.error(ge)})}next(L){this.forEachObserver(Z=>{Z.next(L)})}error(L){this.forEachObserver(Z=>{Z.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,Z,ge){let ee;if(void 0===L&&void 0===Z&&void 0===ge)throw new Error("Missing Observer.");ee=function vt(B,L){if("object"!=typeof B||null===B)return!1;for(const Z of L)if(Z in B&&"function"==typeof B[Z])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:Z,complete:ge},void 0===ee.next&&(ee.next=ts),void 0===ee.error&&(ee.error=ts),void 0===ee.complete&&(ee.complete=ts);const Je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch{}}),this.observers.push(ee),Je}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,L)}sendOne(L,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{Z(this.observers[L])}catch(ge){typeof console<"u"&&console.error&&console.error(ge)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ts(){}function We(B,L=1e3,Z=2){const ge=L*Math.pow(Z,B),ee=Math.round(.5*ge*(Math.random()-.5)*2);return Math.min(144e5,ge+ee)}function kt(B){return B&&B._delegate?B._delegate:B}},4378:(ut,Ie,k)=>{var h=k(4650);let X=null;function O(){return X}class ae{}const ie=new h.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function de(){return(0,h.LFG)(j)}()},providedIn:"platform"}),n})();const le=new h.OlP("Location Initialized");let j=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){$()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){$()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ie))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function K(){return new j((0,h.LFG)(ie))}()},providedIn:"platform"}),n})();function $(){return!!window.history.pushState}function Ue(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function De(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function He(n){return n&&"?"!==n[0]?"?"+n:n}let nt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Ce)},providedIn:"root"}),n})();const he=new h.OlP("appBaseHref");let Ce=(()=>{class n extends nt{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ue(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+He(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const l=this.prepareExternalUrl(i+He(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,u){const l=this.prepareExternalUrl(i+He(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(fe),h.LFG(he,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ee=(()=>{class n extends nt{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ue(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let l=this.prepareExternalUrl(i+He(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,u){let l=this.prepareExternalUrl(i+He(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(fe),h.LFG(he,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n{constructor(t){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Le(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(De(xe(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+He(r))}normalize(t){return n.stripTrailingSlash(function _e(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._basePath,xe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=He,n.joinWithSlash=Ue,n.stripTrailingSlash=De,n.\u0275fac=function(t){return new(t||n)(h.LFG(nt))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Ae(){return new Fe((0,h.LFG)(nt))}()},providedIn:"root"}),n})();function xe(n){return n.replace(/\/index.html$/,"")}const Oe={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var U=(()=>((U=U||{})[U.Decimal=0]="Decimal",U[U.Percent=1]="Percent",U[U.Currency=2]="Currency",U[U.Scientific=3]="Scientific",U))(),ne=(()=>((ne=ne||{})[ne.Decimal=0]="Decimal",ne[ne.Group=1]="Group",ne[ne.List=2]="List",ne[ne.PercentSign=3]="PercentSign",ne[ne.PlusSign=4]="PlusSign",ne[ne.MinusSign=5]="MinusSign",ne[ne.Exponential=6]="Exponential",ne[ne.SuperscriptingExponent=7]="SuperscriptingExponent",ne[ne.PerMille=8]="PerMille",ne[ne.Infinity=9]="Infinity",ne[ne.NaN=10]="NaN",ne[ne.TimeSeparator=11]="TimeSeparator",ne[ne.CurrencyDecimal=12]="CurrencyDecimal",ne[ne.CurrencyGroup=13]="CurrencyGroup",ne))();function pt(n,e){const t=(0,h.cg1)(n),r=t[h.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===ne.CurrencyDecimal)return t[h.wAp.NumberSymbols][ne.Decimal];if(e===ne.CurrencyGroup)return t[h.wAp.NumberSymbols][ne.Group]}return r}const En=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function lu(n,e,t,r,i){const l=function In(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],u=r[1],l=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],m=l[0],v=l[1]||"";t.posPre=m.substring(0,m.indexOf("#"));for(let S=0;S<v.length;S++){const N=v.charAt(S);"0"===N?t.minFrac=t.maxFrac=S+1:"#"===N?t.maxFrac=S+1:t.posSuf+=N}const I=m.split(",");if(t.gSize=I[1]?I[1].length:0,t.lgSize=I[2]||I[1]?(I[2]||I[1]).length:0,u){const S=i.length-t.posPre.length-t.posSuf.length,N=u.indexOf("#");t.negPre=u.substring(0,N).replace(/'/g,""),t.negSuf=u.slice(N+S).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function mn(n,e){return(0,h.cg1)(n)[h.wAp.NumberFormats][e]}(e,U.Currency),pt(e,ne.MinusSign));return l.minFrac=function Ei(n){let e;const t=Oe[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),l.maxFrac=l.minFrac,function oa(n,e,t,r,i,u,l=!1){let m="",v=!1;if(isFinite(n)){let I=function Oc(n){let r,i,u,l,m,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(u=e.search(/e/i))>0?(i<0&&(i=u),i+=+e.slice(u+1),e=e.substring(0,u)):i<0&&(i=e.length),u=0;"0"===e.charAt(u);u++);if(u===(m=e.length))r=[0],i=1;else{for(m--;"0"===e.charAt(m);)m--;for(i-=u,r=[],l=0;u<=m;u++,l++)r[l]=Number(e.charAt(u))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);l&&(I=function yd(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(I));let S=e.minInt,N=e.minFrac,V=e.maxFrac;if(u){const Et=u.match(En);if(null===Et)throw new Error(`${u} is not a valid digit info`);const ot=Et[1],it=Et[3],Ct=Et[5];null!=ot&&(S=ua(ot)),null!=it&&(N=ua(it)),null!=Ct?V=ua(Ct):null!=it&&N>V&&(V=N)}!function aa(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const u=Math.min(Math.max(e,i),t);let l=u+n.integerLen,m=r[l];if(l>0){r.splice(Math.max(n.integerLen,l));for(let N=l;N<r.length;N++)r[N]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,l=u+1),r[0]=0;for(let N=1;N<l;N++)r[N]=0}if(m>=5)if(l-1<0){for(let N=0;N>l;N--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[l-1]++;for(;i<Math.max(0,u);i++)r.push(0);let v=0!==u;const I=e+n.integerLen,S=r.reduceRight(function(N,V,G,Q){return Q[G]=(V+=N)<10?V:V-10,v&&(0===Q[G]&&G>=I?Q.pop():v=!1),V>=10?1:0},0);S&&(r.unshift(S),n.integerLen++)}(I,N,V);let G=I.digits,Q=I.integerLen;const we=I.exponent;let be=[];for(v=G.every(Et=>!Et);Q<S;Q++)G.unshift(0);for(;Q<0;Q++)G.unshift(0);Q>0?be=G.splice(Q,G.length):(be=G,G=[0]);const tt=[];for(G.length>=e.lgSize&&tt.unshift(G.splice(-e.lgSize,G.length).join(""));G.length>e.gSize;)tt.unshift(G.splice(-e.gSize,G.length).join(""));G.length&&tt.unshift(G.join("")),m=tt.join(pt(t,r)),be.length&&(m+=pt(t,i)+be.join("")),we&&(m+=pt(t,ne.Exponential)+"+"+we)}else m=pt(t,ne.Infinity);return m=n<0&&!v?e.negPre+m+e.negSuf:e.posPre+m+e.posSuf,m}(n,l,e,ne.CurrencyGroup,ne.CurrencyDecimal,i).replace("\xa4",t).replace("\xa4","").trim()}function ua(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function dr(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}class Zr{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bi=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Zr(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,l),Nn(m,i)}});for(let i=0,u=r.length;i<u;i++){const m=r.get(i).context;m.index=i,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Nn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Nn(n,e){n.context.$implicit=e.item}let yn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new _o,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Zs("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Zs("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class _o{constructor(){this.$implicit=null,this.ngIf=null}}function Zs(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}function On(n,e){return new h.vHH(2100,!1)}class sn{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class yg{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const si=new yg,_d=new sn;let Ks=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,h.QGY)(t))return si;if((0,h.F4k)(t))return _d;throw On()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.sBO,16))},n.\u0275pipe=h.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),Eo=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",u,l){if(!function Fc(n){return!(null==n||""===n||n!=n)}(t))return null;l=l||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let m=r||this._defaultCurrencyCode;"code"!==i&&(m="symbol"===i||"symbol-narrow"===i?function ft(n,e,t="en"){const r=function Nr(n){return(0,h.cg1)(n)[h.wAp.Currencies]}(t)[n]||Oe[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(m,"symbol"===i?"wide":"narrow",l):i);try{return lu(function Ed(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),l,m,r,u)}catch(v){throw On()}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.soG,16),h.Y36(h.EJc,16))},n.\u0275pipe=h.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();let Si=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function Uc(n){return"server"===n}let Ts=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new fa((0,h.LFG)(ie),window)}),n})();class fa{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function fu(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Js(this.window.history)||Js(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Js(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ss{}class xf extends ae{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class xs extends xf{static makeCurrent(){!function oe(n){X||(X=n)}(new xs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Cu(){return ui=ui||document.querySelector("base"),ui?ui.getAttribute("href"):null}();return null==t?null:function Yc(n){Ai=Ai||document.createElement("a"),Ai.setAttribute("href",n);const e=Ai.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ui=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return dr(document.cookie,e)}}let Ai,ui=null;const kd=new h.OlP("TRANSITION_ID"),Ia=[{provide:h.ip1,useFactory:function xo(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=O(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[kd,ie,h.zs3],multi:!0}];let Qc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const ba=new h.OlP("EventManagerPlugins");let Hi=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const l=i[u];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ba),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Xc{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=O().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Pd=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ms=(()=>{class n extends Pd{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(u=>{const l=this._doc.createElement("style");l.textContent=u,i.push(r.appendChild(l))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Jc),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Jc))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ie))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Jc(n){O().remove(n)}const _n={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Mo=/%COMP%/g;function No(n,e){return e.flat(100).map(t=>t.replace(Mo,n))}function ss(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let no=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ns(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case h.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Xr(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case h.ifc.ShadowDom:return new el(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=No(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Hi),h.LFG(Ms),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Ns{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(_n[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(xu(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(xu(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=_n[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=_n[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,i&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ss(r)):this.eventManager.addEventListener(e,t,ss(r))}}function xu(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Xr extends Ns{constructor(e,t,r,i){super(e),this.component=r;const u=No(i+"-"+r.id,r.styles);t.addStyles(u),this.contentAttr=function Su(n){return"_ngcontent-%COMP%".replace(Mo,n)}(i+"-"+r.id),this.hostAttr=function Au(n){return"_nghost-%COMP%".replace(Mo,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class el extends Ns{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=No(i.id,i.styles);for(let l=0;l<u.length;l++){const m=document.createElement("style");m.textContent=u[l],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Oo=(()=>{class n extends Xc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ie))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Os=["alt","control","meta","shift"],Mu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ru={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let tl=(()=>{class n extends Xc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let l="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),l="code."),Os.forEach(I=>{const S=r.indexOf(I);S>-1&&(r.splice(S,1),l+=I+".")}),l+=u,0!=r.length||0===u.length)return null;const v={};return v.domEventName=i,v.fullKey=l,v}static matchEventFullKeyCode(t,r){let i=Mu[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(i=t.code,u="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Os.forEach(l=>{l!==i&&(0,Ru[l])(t)&&(u+=l+".")}),u+=i,u===r)}static eventCallback(t,r,i){return u=>{n.matchEventFullKeyCode(u,t)&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ie))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const il=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function Ou(){xs.makeCurrent()},multi:!0},{provide:ie,useFactory:function xi(){return(0,h.RDi)(document),document},deps:[]}]),Mi=new h.OlP(""),li=[{provide:h.rWj,useClass:class ci{addToWindow(e){h.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const i=h.dqk.getAllAngularTestabilities();let u=i.length,l=!1;const m=function(v){l=l||v,u--,0==u&&r(l)};i.forEach(function(v){v.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],Mf=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function Ta(){return new h.qLn},deps:[]},{provide:ba,useClass:Oo,multi:!0,deps:[ie,h.R0b,h.Lbi]},{provide:ba,useClass:tl,multi:!0,deps:[ie]},{provide:no,useClass:no,deps:[Hi,Ms,h.AFp]},{provide:h.FYo,useExisting:no},{provide:Pd,useExisting:Ms},{provide:Ms,useClass:Ms,deps:[ie]},{provide:Hi,useClass:Hi,deps:[ba,h.R0b]},{provide:Ss,useClass:Qc,deps:[]},[]];let Ld=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:kd,useExisting:h.AFp},Ia]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Mi,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[...Mf,...li],imports:[Si,h.hGG]}),n})(),Gi=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ie))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function sl(){return new Gi((0,h.LFG)(ie))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var an=k(8996),Fn=k(7669);function Ye(...n){const e=(0,Fn.yG)(n);return(0,an.D)(n,e)}var Qn=k(7579);class ir extends Qn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Vu=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Bn=k(9751);const{isArray:cl}=Array,{getPrototypeOf:as,prototype:Bf,keys:Hd}=Object;function Lo(n){if(1===n.length){const e=n[0];if(cl(e))return{args:e,keys:null};if(function Na(n){return n&&"object"==typeof n&&as(n)===Bf}(e)){const t=Hd(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var io=k(4671),at=k(4004);const{isArray:D}=Array;function x(n){return(0,at.U)(e=>function C(n,e){return D(e)?n(...e):n(e)}(n,e))}function F(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var H=k(5403),te=k(9672);function Se(...n){const e=(0,Fn.yG)(n),t=(0,Fn.jO)(n),{args:r,keys:i}=Lo(n);if(0===r.length)return(0,an.D)([],e);const u=new Bn.y(function Qe(n,e,t=io.y){return r=>{rt(e,()=>{const{length:i}=n,u=new Array(i);let l=i,m=i;for(let v=0;v<i;v++)rt(e,()=>{const I=(0,an.D)(n[v],e);let S=!1;I.subscribe((0,H.x)(r,N=>{u[v]=N,S||(S=!0,m--),m||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>F(i,l):io.y));return t?u.pipe(x(t)):u}function rt(n,e,t){n?(0,te.f)(t,n,e):e()}var Xe=k(8189);function bt(...n){return function Nt(){return(0,Xe.J)(1)}()((0,an.D)(n,(0,Fn.yG)(n)))}var mr=k(8421);function jn(n){return new Bn.y(e=>{(0,mr.Xf)(n()).subscribe(e)})}var Oa=k(9635),ka=k(576);function qi(n,e){const t=(0,ka.m)(n)?n:()=>n,r=i=>i.error(t());return new Bn.y(e?i=>e.schedule(r,0,i):r)}var Xn=k(515),Wi=k(727),Dn=k(4482);function Gd(){return(0,Dn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,H.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Ig extends Bn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Dn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Wi.w0;const t=this.getSubject();e.add(this.source.subscribe((0,H.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Wi.w0.EMPTY)}return e}refCount(){return Gd()(this)}}function $n(n,e){return(0,Dn.e)((t,r)=>{let i=null,u=0,l=!1;const m=()=>l&&!i&&r.complete();t.subscribe((0,H.x)(r,v=>{i?.unsubscribe();let I=0;const S=u++;(0,mr.Xf)(n(v,S)).subscribe(i=(0,H.x)(r,N=>r.next(e?e(v,N,S,I++):N),()=>{i=null,m()}))},()=>{l=!0,m()}))})}function Uu(n){return n<=0?()=>Xn.E:(0,Dn.e)((e,t)=>{let r=0;e.subscribe((0,H.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ll(...n){const e=(0,Fn.yG)(n);return(0,Dn.e)((t,r)=>{(e?bt(n,t,e):bt(n,t)).subscribe(r)})}function us(n,e){return(0,Dn.e)((t,r)=>{let i=0;t.subscribe((0,H.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}var Vr=k(5577);function zd(n){return(0,Dn.e)((e,t)=>{let r=!1;e.subscribe((0,H.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Pa(n=nw){return(0,Dn.e)((e,t)=>{let r=!1;e.subscribe((0,H.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function nw(){return new Vu}function Vo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?us((i,u)=>n(i,u,r)):io.y,Uu(1),t?zd(e):Pa(()=>new Vu))}function ks(n,e){return(0,ka.m)(e)?(0,Vr.z)(n,e,1):(0,Vr.z)(n,1)}var ei=k(8505);function Fa(n){return(0,Dn.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,H.x)(t,void 0,void 0,l=>{u=(0,mr.Xf)(n(l,Fa(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}function rw(n,e,t,r,i){return(u,l)=>{let m=t,v=e,I=0;u.subscribe((0,H.x)(l,S=>{const N=I++;v=m?n(v,S,N):(m=!0,S),r&&l.next(v)},i&&(()=>{m&&l.next(v),l.complete()})))}}function qd(n,e){return(0,Dn.e)(rw(n,e,arguments.length>=2,!0))}function bg(n){return n<=0?()=>Xn.E:(0,Dn.e)((e,t)=>{let r=[];e.subscribe((0,H.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Wd(n,e){const t=arguments.length>=2;return r=>r.pipe(n?us((i,u)=>n(i,u,r)):io.y,bg(1),t?zd(e):Pa(()=>new Vu))}function Zd(n){return(0,Dn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Gt="primary",Bu=Symbol("RouteTitle");class cs{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ju(n){return new cs(n)}function Ky(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const l=r[u],m=n[u];if(l.startsWith(":"))i[l.substring(1)]=m;else if(l!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ls(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!$u(n[i],e[i]))return!1;return!0}function $u(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function Cg(n){return Array.prototype.concat.apply([],n)}function Kd(n){return n.length>0?n[n.length-1]:null}function sr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Uo(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,an.D)(Promise.resolve(n)):Ye(n)}const Hu=!1,di={exact:function Dr(n,e,t){if(!jo(n.segments,e.segments)||!fl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Dr(n.children[r],e.children[r],t))return!1;return!0},subset:Hf},dl={exact:function $f(n,e){return ls(n,e)},subset:function hl(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>$u(n[t],e[t]))},ignored:()=>!0};function Yd(n,e,t){return di[t.paths](n.root,e.root,t.matrixParams)&&dl[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Hf(n,e,t){return Gf(n,e,e.segments,t)}function Gf(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!jo(i,t)||e.hasChildren()||!fl(i,t,r))}if(n.segments.length===t.length){if(!jo(n.segments,t)||!fl(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Hf(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(jo(n.segments,i)&&fl(n.segments,i,r)&&n.children[Gt])&&Gf(n.children[Gt],e,u,r)}}function fl(n,e,t){return e.every((r,i)=>dl[t](n[i].parameters,r.parameters))}class Bo{constructor(e=new Wt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ju(this.queryParams)),this._queryParamMap}toString(){return qf.serialize(this)}}class Wt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,sr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qd(this)}}class Zi{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ju(this.parameters)),this._parameterMap}toString(){return Jd(this)}}function jo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let pl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return new La},providedIn:"root"}),n})();class La{parse(e){const t=new e_(e);return new Bo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ds(e.root,!0)}`,r=function Ag(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Xd(t)}=${Xd(i)}`).join("&"):`${Xd(t)}=${Xd(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function gl(n){return encodeURI(n)}(e.fragment)}`:""}`}}const qf=new La;function Qd(n){return n.segments.map(e=>Jd(e)).join("/")}function ds(n,e){if(!n.hasChildren())return Qd(n);if(e){const t=n.children[Gt]?ds(n.children[Gt],!1):"",r=[];return sr(n.children,(i,u)=>{u!==Gt&&r.push(`${u}:${ds(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function zf(n,e){let t=[];return sr(n.children,(r,i)=>{i===Gt&&(t=t.concat(e(r,i)))}),sr(n.children,(r,i)=>{i!==Gt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Gt?[ds(n.children[Gt],!1)]:[`${i}:${ds(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Gt]?`${Qd(n)}/${t[0]}`:`${Qd(n)}/(${t.join("//")})`}}function Tg(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xd(n){return Tg(n).replace(/%3B/gi,";")}function ml(n){return Tg(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yl(n){return decodeURIComponent(n)}function Va(n){return yl(n.replace(/\+/g,"%20"))}function Jd(n){return`${ml(n.path)}${function Sg(n){return Object.keys(n).map(e=>`;${ml(e)}=${ml(n[e])}`).join("")}(n.parameters)}`}const _l=/^[^\/()?;=#]+/;function eh(n){const e=n.match(_l);return e?e[0]:""}const Xy=/^[^=?&#]+/,Zf=/^[^&#]+/;class e_{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wt([],{}):new Wt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Gt]=new Wt(e,t)),r}parseSegment(){const e=eh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,Hu);return this.capture(e),new Zi(yl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=eh(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=eh(this.remaining);i&&(r=i,this.capture(r))}e[yl(t)]=yl(r)}parseQueryParam(e){const t=function Wf(n){const e=n.match(Xy);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function Jy(n){const e=n.match(Zf);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=Va(t),u=Va(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=eh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new h.vHH(4010,Hu);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Gt);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[Gt]:new Wt([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,Hu)}}function Ua(n){return n.segments.length>0?new Wt([],{[Gt]:n}):n}function Gu(n){const e={};for(const r of Object.keys(n.children)){const u=Gu(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function xg(n){if(1===n.numberOfChildren&&n.children[Gt]){const e=n.children[Gt];return new Wt(n.segments.concat(e.segments),e.children)}return n}(new Wt(n.segments,e))}function so(n){return n instanceof Bo}function Ba(n,e,t,r,i){if(0===t.length)return ja(e.root,e.root,e.root,r,i);const u=function Ng(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new vl(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return sr(u.outlets,(v,I)=>{m[I]="string"==typeof v?v.split("/"):v}),[...i,{outlets:m}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===l?(u.split("/").forEach((m,v)=>{0==v&&"."===m||(0==v&&""===m?t=!0:".."===m?e++:""!=m&&i.push(m))}),i):[...i,u]},[]);return new vl(t,e,r)}(t);return u.toRoot()?ja(e.root,e.root,new Wt([],{}),r,i):function l(v){const I=function nh(n,e,t,r){if(n.isAbsolute)return new $a(e.root,!0,0);if(-1===r)return new $a(t,t===e.root,0);return function qu(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new h.vHH(4005,!1);i=r.segments.length}return new $a(r,!1,i-u)}(t,r+(Ps(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,v),S=I.processChildren?Fs(I.segmentGroup,I.index,u.commands):Wu(I.segmentGroup,I.index,u.commands);return ja(e.root,I.segmentGroup,S,r,i)}(n.snapshot?._lastPathIndex)}function Ps(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function zu(n){return"object"==typeof n&&null!=n&&n.outlets}function ja(n,e,t,r,i){let l,u={};r&&sr(r,(v,I)=>{u[I]=Array.isArray(v)?v.map(S=>`${S}`):`${v}`}),l=n===e?t:t_(n,e,t);const m=Ua(Gu(l));return new Bo(m,u,i)}function t_(n,e,t){const r={};return sr(n.children,(i,u)=>{r[u]=i===e?t:t_(i,e,t)}),new Wt(n.segments,r)}class vl{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ps(r[0]))throw new h.vHH(4003,!1);const i=r.find(zu);if(i&&i!==Kd(r))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $a{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Wu(n,e,t){if(n||(n=new Wt([],{})),0===n.segments.length&&n.hasChildren())return Fs(n,e,t);const r=function Og(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const l=n.segments[i],m=t[r];if(zu(m))break;const v=`${m}`,I=r<t.length-1?t[r+1]:null;if(i>0&&void 0===v)break;if(v&&I&&"object"==typeof I&&void 0===I.outlets){if(!Zu(v,I,l))return u;r+=2}else{if(!Zu(v,{},l))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Wt(n.segments.slice(0,r.pathIndex),{});return u.children[Gt]=new Wt(n.segments.slice(r.pathIndex),n.children),Fs(u,0,i)}return r.match&&0===i.length?new Wt(n.segments,{}):r.match&&!n.hasChildren()?Cr(n,e,t):r.match?Fs(n,0,i):Cr(n,e,t)}function Fs(n,e,t){if(0===t.length)return new Wt(n.segments,{});{const r=function Yf(n){return zu(n[0])?n[0].outlets:{[Gt]:n}}(t),i={};return sr(r,(u,l)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[l]=Wu(n.children[l],e,u))}),sr(n.children,(u,l)=>{void 0===r[l]&&(i[l]=u)}),new Wt(n.segments,i)}}function Cr(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(zu(u)){const v=Ha(u.outlets);return new Wt(r,v)}if(0===i&&Ps(t[0])){r.push(new Zi(n.segments[e].path,wl(t[0]))),i++;continue}const l=zu(u)?u.outlets[Gt]:`${u}`,m=i<t.length-1?t[i+1]:null;l&&m&&Ps(m)?(r.push(new Zi(l,wl(m))),i+=2):(r.push(new Zi(l,{})),i++)}return new Wt(r,{})}function Ha(n){const e={};return sr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Cr(new Wt([],{}),0,t))}),e}function wl(n){const e={};return sr(n,(t,r)=>e[r]=`${t}`),e}function Zu(n,e,t){return n==t.path&&ls(e,t.parameters)}const Ga="imperative";class Ri{constructor(e,t){this.id=e,this.url=t}}class Qf extends Ri{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $o extends Ri{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rh extends Ri{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ls extends Ri{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class ih extends Ri{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class sh extends Ri{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xf extends Ri{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class za extends Ri{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class kg extends Ri{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hi extends Ri{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pg{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Jf{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ep{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oo{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ku{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class El{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Il{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Lg=(()=>{class n{createUrlTree(t,r,i,u,l,m){return Ba(t||r.root,i,u,l,m)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),r_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(e){return Lg.\u0275fac(e)},providedIn:"root"}),n})();class Vg{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=y(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=y(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=f(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return f(e,this._root).map(t=>t.value)}}function y(n,e){if(n===e.value)return e;for(const t of e.children){const r=y(n,t);if(r)return r}return null}function f(n,e){if(n===e.value)return[e];for(const t of e.children){const r=f(n,t);if(r.length)return r.unshift(e),r}return[]}class g{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function w(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class A extends Vg{constructor(e,t){super(e),this.snapshot=t,Hn(this,e)}toString(){return this.snapshot.toString()}}function R(n,e){const t=function q(n,e){const l=new _t([],{},{},"",{},Gt,e,null,n.root,-1,{});return new dt("",new g(l,[]))}(n,e),r=new ir([new Zi("",{})]),i=new ir({}),u=new ir({}),l=new ir({}),m=new ir(""),v=new ce(r,i,l,m,u,Gt,e,t.root);return v.snapshot=t.root,new A(new g(v,[]),t)}class ce{constructor(e,t,r,i,u,l,m,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=l,this.component=m,this.title=this.data?.pipe((0,at.U)(I=>I[Bu]))??Ye(void 0),this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,at.U)(e=>ju(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,at.U)(e=>ju(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Be(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function Ze(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class _t{get title(){return this.data?.[Bu]}constructor(e,t,r,i,u,l,m,v,I,S,N){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=l,this.component=m,this.routeConfig=v,this._urlSegment=I,this._lastPathIndex=S,this._resolve=N}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ju(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ju(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class dt extends Vg{constructor(e,t){super(t),this.url=e,Hn(this,t)}toString(){return Ki(this._root)}}function Hn(n,e){e.value._routerState=n,e.children.forEach(t=>Hn(n,t))}function Ki(n){const e=n.children.length>0?` { ${n.children.map(Ki).join(", ")} } `:"";return`${n.value}${e}`}function Yu(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ls(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ls(e.params,t.params)||n.params.next(t.params),function Yy(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ls(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ls(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function oh(n,e){const t=ls(n.params,e.params)&&function Qy(n,e){return jo(n,e)&&n.every((t,r)=>ls(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||oh(n.parent,e.parent))}function fi(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Qu(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return fi(n,r,i);return fi(n,r)})}(n,e,t);return new g(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(m=>fi(n,m)),l}}const r=function ah(n){return new ce(new ir(n.url),new ir(n.params),new ir(n.queryParams),new ir(n.fragment),new ir(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>fi(n,u));return new g(r,i)}}const Dl="ngNavigationCancelingError";function uh(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=so(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=np(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function np(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Dl]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Ug(n){return i_(n)&&so(n.url)}function i_(n){return n&&n[Dl]}class Cl{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new qa,this.attachRef=null}}let qa=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Cl,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const s_=!1;let ow=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Gt,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(qa),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,s_);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,s_);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,s_);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new h.vHH(4013,s_);this._activatedRoute=t;const i=this.location,l=t.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,v=new aw(t,m,i.injector);if(r&&function oD(n){return!!n.resolveComponentFactory}(r)){const I=r.resolveComponentFactory(l);this.activated=i.createComponent(I,i.length,v)}else this.activated=i.createComponent(l,{index:i.length,injector:v,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]}),n})();class aw{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ce?this.route:e===qa?this.childContexts:this.parent.get(e,t)}}let o_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},dependencies:[ow],encapsulation:2}),n})();function uw(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function u_(n){const e=n.children&&n.children.map(u_),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Gt&&(t.component=o_),t}function Yi(n){return n.outlet||Gt}function c_(n,e){const t=n.filter(r=>Yi(r)===e);return t.push(...n.filter(r=>Yi(r)!==e)),t}function ip(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class dD{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Yu(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=w(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,i[l],r),delete i[l]}),sr(i,(u,l)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=w(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],i);if(r&&r.outlet){const l=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=w(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=w(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new El(u.value.snapshot))}),e.children.length&&this.forwardEvent(new oo(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(Yu(i),i===u)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(m.contexts),l.attachRef=m.componentRef,l.route=m.route.value,l.outlet&&l.outlet.attach(m.componentRef,m.route.value),Yu(m.route.value),this.activateChildRoutes(e,null,l.children)}else{const m=ip(i.snapshot),v=m?.get(h._Vd)??null;l.attachRef=null,l.route=i,l.resolver=v,l.injector=m,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class cw{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class sp{constructor(e,t){this.component=e,this.route=t}}function FA(n,e,t){const r=n._root;return Tl(r,e?e._root:null,t,[r.value])}function Ho(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,h.Z0I)(n)?e.get(n):n:r}function Tl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=w(e);return n.children.forEach(l=>{(function lw(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const v=function dw(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!jo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!jo(n.url,e.url)||!ls(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!oh(n,e)||!ls(n.queryParams,e.queryParams);default:return!oh(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);v?i.canActivateChecks.push(new cw(r)):(u.data=l.data,u._resolvedData=l._resolvedData),Tl(n,e,u.component?m?m.children:null:t,r,i),v&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new sp(m.outlet.component,l))}else l&&ch(e,m,i),i.canActivateChecks.push(new cw(r)),Tl(n,null,u.component?m?m.children:null:t,r,i)})(l,u[l.value.outlet],t,r.concat([l.value]),i),delete u[l.value.outlet]}),sr(u,(l,m)=>ch(l,t.getContext(m),i)),i}function ch(n,e,t){const r=w(n),i=n.value;sr(r,(u,l)=>{ch(u,i.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new sp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function op(n){return"function"==typeof n}function Bg(n){return n instanceof Vu||"EmptyError"===n?.name}const ap=Symbol("INITIAL_VALUE");function Vs(){return $n(n=>Se(n.map(e=>e.pipe(Uu(1),ll(ap)))).pipe((0,at.U)(e=>{for(const t of e)if(!0!==t){if(t===ap)return ap;if(!1===t||t instanceof Bo)return t}return!0}),us(e=>e!==ap),Uu(1)))}function gw(n){return(0,Oa.z)((0,ei.b)(e=>{if(so(e))throw uh(0,e)}),(0,at.U)(e=>!0===e))}const Hg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Al(n,e,t,r,i){const u=m_(n,e,t);return u.matched?function gD(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Ye(i.map(l=>{const m=Ho(l,n);return Uo(function d_(n){return n&&op(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))})).pipe(Vs(),gw()):Ye(!0)}(r=uw(e,r),e,t).pipe((0,at.U)(l=>!0===l?u:{...Hg})):Ye(u)}function m_(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Hg}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Ky)(t,n,e);if(!i)return{...Hg};const u={};sr(i.posParams,(m,v)=>{u[v]=m.path});const l=i.consumed.length>0?{...u,...i.consumed[i.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function Gg(n,e,t,r){if(t.length>0&&function yD(n,e,t){return t.some(r=>zg(n,e,r)&&Yi(r)!==Gt)}(n,t,r)){const u=new Wt(e,function y_(n,e,t,r){const i={};i[Gt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Yi(u)!==Gt){const l=new Wt([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,i[Yi(u)]=l}return i}(n,e,r,new Wt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function mw(n,e,t){return t.some(r=>zg(n,e,r))}(n,t,r)){const u=new Wt(n.segments,function mD(n,e,t,r,i){const u={};for(const l of r)if(zg(n,t,l)&&!i[Yi(l)]){const m=new Wt([],{});m._sourceSegment=n,m._segmentIndexShift=e.length,u[Yi(l)]=m}return{...i,...u}}(n,e,t,r,n.children));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const i=new Wt(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function zg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function __(n,e,t,r){return!!(Yi(n)===r||r!==Gt&&zg(e,t,n))&&("**"===n.path||m_(e,n,t).matched)}function _D(n,e,t){return 0===e.length&&!n.children[t]}const qg=!1;class Xu{constructor(e){this.segmentGroup=e||null}}class yw{constructor(e){this.urlTree=e}}function Go(n){return qi(new Xu(n))}function lh(n){return qi(new yw(n))}class ED{constructor(e,t,r,i,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0}apply(){const e=Gg(this.urlTree.root,[],[],this.config).segmentGroup,t=new Wt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Gt).pipe((0,at.U)(u=>this.createUrlTree(Gu(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Fa(u=>{if(u instanceof yw)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Xu?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Gt).pipe((0,at.U)(i=>this.createUrlTree(Gu(i),e.queryParams,e.fragment))).pipe(Fa(i=>{throw i instanceof Xu?this.noMatchError(i):i}))}noMatchError(e){return new h.vHH(4002,qg)}createUrlTree(e,t,r){const i=Ua(e);return new Bo(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,at.U)(u=>new Wt([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,an.D)(i).pipe(ks(u=>{const l=r.children[u],m=c_(t,u);return this.expandSegmentGroup(e,m,l,u).pipe((0,at.U)(v=>({segment:v,outlet:u})))}),qd((u,l)=>(u[l.outlet]=l.segment,u),{}),Wd())}expandSegment(e,t,r,i,u,l){return(0,an.D)(r).pipe(ks(m=>this.expandSegmentAgainstRoute(e,t,r,m,i,u,l).pipe(Fa(I=>{if(I instanceof Xu)return Ye(null);throw I}))),Vo(m=>!!m),Fa((m,v)=>{if(Bg(m))return _D(t,i,u)?Ye(new Wt([],{})):Go(t);throw m}))}expandSegmentAgainstRoute(e,t,r,i,u,l,m){return __(i,t,u,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,l):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,l):Go(t):Go(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?lh(u):this.lineralizeSegments(r,u).pipe((0,Vr.z)(l=>{const m=new Wt(l,{});return this.expandSegment(e,m,t,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,l){const{matched:m,consumedSegments:v,remainingSegments:I,positionalParamSegments:S}=m_(t,i,u);if(!m)return Go(t);const N=this.applyRedirectCommands(v,i.redirectTo,S);return i.redirectTo.startsWith("/")?lh(N):this.lineralizeSegments(i,N).pipe((0,Vr.z)(V=>this.expandSegment(e,t,r,V.concat(I),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){return"**"===r.path?(e=uw(r,e),r.loadChildren?(r._loadedRoutes?Ye({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,at.U)(m=>(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,new Wt(i,{})))):Ye(new Wt(i,{}))):Al(t,r,i,e).pipe($n(({matched:l,consumedSegments:m,remainingSegments:v})=>l?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Vr.z)(S=>{const N=S.injector??e,V=S.routes,{segmentGroup:G,slicedSegments:Q}=Gg(t,m,v,V),we=new Wt(G.segments,G.children);if(0===Q.length&&we.hasChildren())return this.expandChildren(N,V,we).pipe((0,at.U)(ot=>new Wt(m,ot)));if(0===V.length&&0===Q.length)return Ye(new Wt(m,{}));const be=Yi(r)===u;return this.expandSegment(N,we,V,Q,be?Gt:u,!0).pipe((0,at.U)(Et=>new Wt(m.concat(Et.segments),Et.children)))})):Go(t)))}getChildConfig(e,t,r){return t.children?Ye({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Ye({routes:t._loadedRoutes,injector:t._loadedInjector}):function g_(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Ye(!0):Ye(i.map(l=>{const m=Ho(l,n);return Uo(function hw(n){return n&&op(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))})).pipe(Vs(),gw())}(e,t,r).pipe((0,Vr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,ei.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function _w(n){return qi(np(qg,3))}())):Ye({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ye(r);if(i.numberOfChildren>1||!i.children[Gt])return qi(new h.vHH(4e3,qg));i=i.children[Gt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new Bo(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return sr(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const m=i.substring(1);r[u]=t[m]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let l={};return sr(t.children,(m,v)=>{l[v]=this.createSegmentGroup(e,m,r,i)}),new Wt(u,l)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new h.vHH(4001,qg);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class vw{}class bD{constructor(e,t,r,i,u,l,m){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=u,this.paramsInheritanceStrategy=l,this.urlSerializer=m}recognize(){const e=Gg(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Gt).pipe((0,at.U)(t=>{if(null===t)return null;const r=new _t([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Gt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new g(r,t),u=new dt(this.url,i);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=Be(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,an.D)(Object.keys(r.children)).pipe(ks(i=>{const u=r.children[i],l=c_(t,i);return this.processSegmentGroup(e,l,u,i)}),qd((i,u)=>i&&u?(i.push(...u),i):null),function Dg(n,e=!1){return(0,Dn.e)((t,r)=>{let i=0;t.subscribe((0,H.x)(r,u=>{const l=n(u,i++);(l||e)&&r.next(u),!l&&r.complete()}))})}(i=>null!==i),zd(null),Wd(),(0,at.U)(i=>{if(null===i)return null;const u=ww(i);return function I_(n){n.sort((e,t)=>e.value.outlet===Gt?-1:t.value.outlet===Gt?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,i,u){return(0,an.D)(t).pipe(ks(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,i,u)),Vo(l=>!!l),Fa(l=>{if(Bg(l))return _D(r,i,u)?Ye([]):Ye(null);throw l}))}processSegmentAgainstRoute(e,t,r,i,u){if(t.redirectTo||!__(t,r,i,u))return Ye(null);let l;if("**"===t.path){const m=i.length>0?Kd(i).parameters:{},v=Iw(r)+i.length;l=Ye({snapshot:new _t(i,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bw(t),Yi(t),t.component??t._loadedComponent??null,t,Ew(r),v,xl(t)),consumedSegments:[],remainingSegments:[]})}else l=Al(r,t,i,e).pipe((0,at.U)(({matched:m,consumedSegments:v,remainingSegments:I,parameters:S})=>{if(!m)return null;const N=Iw(r)+v.length;return{snapshot:new _t(v,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bw(t),Yi(t),t.component??t._loadedComponent??null,t,Ew(r),N,xl(t)),consumedSegments:v,remainingSegments:I}}));return l.pipe($n(m=>{if(null===m)return Ye(null);const{snapshot:v,consumedSegments:I,remainingSegments:S}=m;e=t._injector??e;const N=t._loadedInjector??e,V=function up(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:G,slicedSegments:Q}=Gg(r,I,S,V.filter(be=>void 0===be.redirectTo));if(0===Q.length&&G.hasChildren())return this.processChildren(N,V,G).pipe((0,at.U)(be=>null===be?null:[new g(v,be)]));if(0===V.length&&0===Q.length)return Ye([new g(v,[])]);const we=Yi(t)===u;return this.processSegment(N,V,G,Q,we?Gt:u).pipe((0,at.U)(be=>null===be?null:[new g(v,be)]))}))}}function DD(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ww(n){const e=[],t=new Set;for(const r of n){if(!DD(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=ww(r.children);e.push(new g(r.value,i))}return e.filter(r=>!t.has(r))}function Ew(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Iw(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function bw(n){return n.data||{}}function xl(n){return n.resolve||{}}function AD(n){return"string"==typeof n.title||null===n.title}function Wg(n){return $n(e=>{const t=n(e);return t?(0,an.D)(t).pipe((0,at.U)(()=>e)):Ye(e)})}const Ml=new h.OlP("ROUTES");let b_=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ye(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Uo(t.loadComponent()).pipe((0,at.U)(Us),(0,ei.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Zd(()=>{this.componentLoaders.delete(t)})),i=new Ig(r,()=>new Qn.x).pipe(Gd());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ye({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,at.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let v,I,S=!1;Array.isArray(m)?I=m:(v=m.create(t).injector,I=Cg(v.get(Ml,[],h.XFs.Self|h.XFs.Optional)));return{routes:I.map(u_),injector:v}}),Zd(()=>{this.childrenLoaders.delete(r)})),l=new Ig(u,()=>new Qn.x).pipe(Gd());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return Uo(t()).pipe((0,at.U)(Us),(0,Vr.z)(i=>i instanceof h.YKP||Array.isArray(i)?Ye(i):(0,an.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.zs3),h.LFG(h.Sil))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Us(n){return function xD(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let cp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Qn.x,this.configLoader=(0,h.f3M)(b_),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(pl),this.rootContexts=(0,h.f3M)(qa),this.navigationId=0,this.afterPreactivation=()=>Ye(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Jf(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Pg(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new ir({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ga,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(us(r=>0!==r.id),(0,at.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),$n(r=>{let i=!1,u=!1;return Ye(r).pipe((0,ei.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),$n(l=>{const m=t.browserUrlTree.toString(),v=!t.navigated||l.extractedUrl.toString()!==m||m!==t.currentUrlTree.toString();if(!v&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const S="";return this.events.next(new Ls(l.id,t.serializeUrl(r.rawUrl),S,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),Xn.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Sw(l.source)&&(t.browserUrlTree=l.extractedUrl),Ye(l).pipe($n(S=>{const N=this.transitions?.getValue();return this.events.next(new Qf(S.id,this.urlSerializer.serialize(S.extractedUrl),S.source,S.restoredState)),N!==this.transitions?.getValue()?Xn.E:Promise.resolve(S)}),function ID(n,e,t,r){return $n(i=>function wD(n,e,t,r,i){return new ED(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,at.U)(u=>({...i,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,ei.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},r.urlAfterRedirects=S.urlAfterRedirects}),function Wa(n,e,t,r,i){return(0,Vr.z)(u=>function E_(n,e,t,r,i,u,l="emptyOnly"){return new bD(n,e,t,r,i,l,u).recognize().pipe($n(m=>null===m?function w_(n){return new Bn.y(e=>e.error(n))}(new vw):Ye(m)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,i).pipe((0,at.U)(l=>({...u,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,ei.b)(S=>{if(r.targetSnapshot=S.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!S.extras.skipLocationChange){const V=t.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);t.setBrowserUrl(V,S)}t.browserUrlTree=S.urlAfterRedirects}const N=new sh(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(N)}));if(v&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:S,extractedUrl:N,source:V,restoredState:G,extras:Q}=l,we=new Qf(S,this.urlSerializer.serialize(N),V,G);this.events.next(we);const be=R(N,this.rootComponentType).snapshot;return Ye(r={...l,targetSnapshot:be,urlAfterRedirects:N,extras:{...Q,skipLocationChange:!1,replaceUrl:!1}})}{const S="";return this.events.next(new Ls(l.id,t.serializeUrl(r.extractedUrl),S,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),Xn.E}}),(0,ei.b)(l=>{const m=new Xf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(m)}),(0,at.U)(l=>r={...l,guards:FA(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function fD(n,e){return(0,Vr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?Ye({...t,guardsResult:!0}):function f_(n,e,t,r){return(0,an.D)(n).pipe((0,Vr.z)(i=>function pw(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?Ye(u.map(m=>{const v=ip(e)??i,I=Ho(m,v);return Uo(function VA(n){return n&&op(n.canDeactivate)}(I)?I.canDeactivate(n,e,t,r):v.runInContext(()=>I(n,e,t,r))).pipe(Vo())})).pipe(Vs()):Ye(!0)}(i.component,i.route,t,e,r)),Vo(i=>!0!==i,!0))}(l,r,i,n).pipe((0,Vr.z)(m=>m&&function hD(n){return"boolean"==typeof n}(m)?function jg(n,e,t,r){return(0,an.D)(e).pipe(ks(i=>bt(function p_(n,e){return null!==n&&e&&e(new ep(n)),Ye(!0)}(i.route.parent,r),function pD(n,e){return null!==n&&e&&e(new Ku(n)),Ye(!0)}(i.route,r),function Sl(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function LA(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>jn(()=>Ye(l.guards.map(v=>{const I=ip(l.node)??t,S=Ho(v,I);return Uo(function l_(n){return n&&op(n.canActivateChild)}(S)?S.canActivateChild(r,n):I.runInContext(()=>S(r,n))).pipe(Vo())})).pipe(Vs())));return Ye(u).pipe(Vs())}(n,i.path,t),function $g(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ye(!0);const i=r.map(u=>jn(()=>{const l=ip(e)??t,m=Ho(u,l);return Uo(function fw(n){return n&&op(n.canActivate)}(m)?m.canActivate(e,n):l.runInContext(()=>m(e,n))).pipe(Vo())}));return Ye(i).pipe(Vs())}(n,i.route,t))),Vo(i=>!0!==i,!0))}(r,u,n,e):Ye(m)),(0,at.U)(m=>({...t,guardsResult:m})))})}(this.environmentInjector,l=>this.events.next(l)),(0,ei.b)(l=>{if(r.guardsResult=l.guardsResult,so(l.guardsResult))throw uh(0,l.guardsResult);const m=new za(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(m)}),us(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3,t),!1)),Wg(l=>{if(l.guards.canActivateChecks.length)return Ye(l).pipe((0,ei.b)(m=>{const v=new kg(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}),$n(m=>{let v=!1;return Ye(m).pipe(function TD(n,e){return(0,Vr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Ye(t);let u=0;return(0,an.D)(i).pipe(ks(l=>function SD(n,e,t,r){const i=n.routeConfig,u=n._resolve;return void 0!==i?.title&&!AD(i)&&(u[Bu]=i.title),function jA(n,e,t,r){const i=function $A(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Ye({});const u={};return(0,an.D)(i).pipe((0,Vr.z)(l=>function Dw(n,e,t,r){const i=ip(e)??r,u=Ho(n,i);return Uo(u.resolve?u.resolve(e,t):i.runInContext(()=>u(e,t)))}(n[l],e,t,r).pipe(Vo(),(0,ei.b)(m=>{u[l]=m}))),bg(1),function jf(n){return(0,at.U)(()=>n)}(u),Fa(l=>Bg(l)?Xn.E:qi(l)))}(u,n,e,r).pipe((0,at.U)(l=>(n._resolvedData=l,n.data=Be(n,t).resolve,i&&AD(i)&&(n.data[Bu]=i.title),null)))}(l.route,r,n,e)),(0,ei.b)(()=>u++),bg(1),(0,Vr.z)(l=>u===i.length?Ye(t):Xn.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,ei.b)({next:()=>v=!0,complete:()=>{v||(t.restoreHistory(m),this.cancelNavigationTransition(m,"",2,t))}}))}),(0,ei.b)(m=>{const v=new hi(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}))}),Wg(l=>{const m=v=>{const I=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,ei.b)(S=>{v.component=S}),(0,at.U)(()=>{})));for(const S of v.children)I.push(...m(S));return I};return Se(m(l.targetSnapshot.root)).pipe(zd(),Uu(1))}),Wg(()=>this.afterPreactivation()),(0,at.U)(l=>{const m=function bl(n,e,t){const r=fi(n,e._root,t?t._root:void 0);return new A(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:m}}),(0,ei.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>(0,at.U)(r=>(new dD(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l)),(0,ei.b)({next:l=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new $o(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{i=!0}}),Zd(()=>{i||u||this.cancelNavigationTransition(r,"",1,t),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Fa(l=>{if(u=!0,i_(l)){Ug(l)||(t.navigated=!0,t.restoreHistory(r,!0));const m=new rh(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(m),Ug(l)){const v=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Sw(r.source)};t.scheduleNavigation(v,Ga,null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const m=new ih(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(m);try{r.resolve(t.errorHandler(l))}catch(v){r.reject(v)}}return Xn.E}))}))}cancelNavigationTransition(t,r,i,u){const l=new rh(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(l),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Sw(n){return n!==Ga}let Aw=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(u=>u.outlet===Gt);return r}getResolvedTitleForRoute(t){return t.data[Bu]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(MD)},providedIn:"root"}),n})(),MD=(()=>{class n extends Aw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Gi))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(ND)},providedIn:"root"}),n})();class xw{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let ND=(()=>{class n extends xw{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Kg=new h.OlP("",{providedIn:"root",factory:()=>({})});let jt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Mw)},providedIn:"root"}),n})(),Mw=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Rw(n){throw n}function kD(n,e,t){return e.parse("/")}const PD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Nw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ni=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this.options=(0,h.f3M)(Kg,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Rw,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||kD,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(jt),this.routeReuseStrategy=(0,h.f3M)(RD),this.urlCreationStrategy=(0,h.f3M)(r_),this.titleStrategy=(0,h.f3M)(Aw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Cg((0,h.f3M)(Ml,{optional:!0})??[]),this.navigationTransitions=(0,h.f3M)(cp),this.urlSerializer=(0,h.f3M)(pl),this.location=(0,h.f3M)(Fe),this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Bo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=R(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ga,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const u={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const v={...i};delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(u.state=v)}const m=this.parseUrl(t);this.scheduleNavigation(m,r,l,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(u_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:l,queryParamsHandling:m,preserveFragment:v}=r,I=v?this.currentUrlTree.fragment:l;let S=null;switch(m){case"merge":S={...this.currentUrlTree.queryParams,...u};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=u||null}return null!==S&&(S=this.removeEmptyProps(S)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,S,I??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=so(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,Ga,null,r)}navigate(t,r={skipLocationChange:!1}){return function Ow(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new h.vHH(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...PD}:!1===r?{...Nw}:r,so(t))return Yd(this.currentUrlTree,t,i);const u=this.parseUrl(t);return Yd(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}scheduleNavigation(t,r,i,u,l){if(this.disposed)return Promise.resolve(!1);let m,v,I,S;return l?(m=l.resolve,v=l.reject,I=l.promise):I=new Promise((N,V)=>{m=N,v=V}),S="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:S,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:m,reject:v,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(N=>Promise.reject(N))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Za=(()=>{class n{constructor(t,r,i,u,l,m){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=u,this.el=l,this.locationStrategy=m,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Qn.x;const v=l.nativeElement.tagName;this.isAnchorElement="A"===v||"AREA"===v,this.isAnchorElement?this.subscription=t.events.subscribe(I=>{I instanceof $o&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,h.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,h.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,h.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,u,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||u||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,h.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,u=this.el.nativeElement;null!==r?i.setAttribute(u,t,r):i.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ni),h.Y36(ce),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(nt))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&h.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&h.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[h.TTD]}),n})();class C_{}let VD=(()=>{class n{constructor(t,r,i,u,l){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(us(t=>t instanceof $o),ks(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,h.MMx)(u.providers,t,`Route: ${u.path}`));const l=u._injector??t,m=u._loadedInjector??l;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?i.push(this.preloadConfig(l,u)):(u.children||u._loadedRoutes)&&i.push(this.processRoutes(m,u.children??u._loadedRoutes))}return(0,an.D)(i).pipe((0,Xe.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Ye(null);const u=i.pipe((0,Vr.z)(l=>null===l?Ye(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,an.D)([u,l]).pipe((0,Xe.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ni),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(C_),h.LFG(b_))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lp=new h.OlP("");let Yg=(()=>{class n{constructor(t,r,i,u,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=u,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Qf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof $o&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Il&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Il(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function fh(n,e){return{\u0275kind:n,\u0275providers:e}}function Rl(){const n=(0,h.f3M)(h.zs3);return e=>{const t=n.get(h.z2F);if(e!==t.components[0])return;const r=n.get(Ni),i=n.get(Pw);1===n.get(Qg)&&r.initialNavigation(),n.get(Lw,null,h.XFs.Optional)?.setUpPreloading(),n.get(lp,null,h.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const Pw=new h.OlP("",{factory:()=>new Qn.x}),Qg=new h.OlP("",{providedIn:"root",factory:()=>1});const Lw=new h.OlP("");function jD(n){return fh(0,[{provide:Lw,useExisting:VD},{provide:C_,useExisting:n}])}const Vw=new h.OlP("ROUTER_FORROOT_GUARD"),Uw=[Fe,{provide:pl,useClass:La},Ni,qa,{provide:ce,useFactory:function UD(n){return n.routerState.root},deps:[Ni]},b_,[]];function Bw(){return new h.PXZ("Router",Ni)}let hp=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Uw,[],{provide:Ml,multi:!0,useValue:t},{provide:Vw,useFactory:ZA,deps:[[Ni,new h.FiY,new h.tp0]]},{provide:Kg,useValue:r||{}},r?.useHash?{provide:nt,useClass:Ee}:{provide:nt,useClass:Ce},{provide:lp,useFactory:()=>{const n=(0,h.f3M)(Ts),e=(0,h.f3M)(h.R0b),t=(0,h.f3M)(Kg),r=(0,h.f3M)(cp),i=(0,h.f3M)(pl);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Yg(i,r,n,e,t)}},r?.preloadingStrategy?jD(r.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:Bw},r?.initialNavigation?ph(r):[],[{provide:A_,useFactory:Rl},{provide:h.tb,multi:!0,useExisting:A_}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Ml,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Vw,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[o_]}),n})();function ZA(n){return"guarded"}function ph(n){return["disabled"===n.initialNavigation?fh(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(Ni);return()=>{e.setUpLocationChangeListener()}}},{provide:Qg,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?fh(2,[{provide:Qg,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const t=e.get(le,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const u=e.get(Ni),l=e.get(Pw);(function r(i){e.get(Ni).events.pipe(us(l=>l instanceof $o||l instanceof rh||l instanceof ih),(0,at.U)(l=>l instanceof $o||l instanceof rh&&(0===l.code||1===l.code)&&null),us(l=>null!==l),Uu(1)).subscribe(()=>{i()})})(()=>{i(!0)}),e.get(cp).afterPreactivation=()=>(i(!0),l.closed?Ye(void 0):l),u.initialNavigation()}))}}]).\u0275providers:[]]}const A_=new h.OlP("");class gh{}gh.\u0275fac=function(e){return new(e||gh)},gh.\u0275mod=h.oAB({type:gh}),gh.\u0275inj=h.cJS({imports:[hp.forRoot([]),hp]});var fp=k(4986),gn=k(2122);function pp(){return(0,Dn.e)((n,e)=>{let t,r=!1;n.subscribe((0,H.x)(e,i=>{const u=t;t=i,r&&e.next([u,i]),r=!0}))})}function x_(n,e){return n===e}var lt,Ur=k(2011),Jg=(k(750),k(3942)),pe=k(5861),hs=k(9681),Nl=k(4859),zo=k(1877),Ht=k(2090),ZD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qo={},em=em||{},Ot=ZD||self;function tm(){}function nm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ti(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var M_="closure_uid_"+(1e9*Math.random()>>>0),KA=0;function R_(n,e,t){return n.call.apply(n.bind,arguments)}function $w(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function pi(n,e,t){return(pi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?R_:$w).apply(null,arguments)}function rm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ni(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,u){for(var l=Array(arguments.length-2),m=2;m<arguments.length;m++)l[m-2]=arguments[m];return e.prototype[i].apply(r,l)}}function Ka(){this.s=this.s,this.o=this.o}Ka.prototype.s=!1,Ka.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function jw(n){Object.prototype.hasOwnProperty.call(n,M_)&&n[M_]||(n[M_]=++KA)}(this)},Ka.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Hw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function mp(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Gw(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(nm(r)){const i=n.length||0,u=r.length||0;n.length=i+u;for(let l=0;l<u;l++)n[i+l]=r[l]}else n.push(r)}}function gi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}gi.prototype.h=function(){this.defaultPrevented=!0};var YD=function(){if(!Ot.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ot.addEventListener("test",tm,e),Ot.removeEventListener("test",tm,e)}catch{}return n}();function im(n){return/^[\s\xa0]*$/.test(n)}var zw=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Bs(n,e){return n<e?-1:n>e?1:0}function mh(){var n=Ot.navigator;return n&&(n=n.userAgent)?n:""}function Wo(n){return-1!=mh().indexOf(n)}function N_(n){return N_[" "](n),n}N_[" "]=tm;var _h,n,QD=Wo("Opera"),yh=Wo("Trident")||Wo("MSIE"),Ww=Wo("Edge"),yp=Ww||yh,Zw=Wo("Gecko")&&!(-1!=mh().toLowerCase().indexOf("webkit")&&!Wo("Edge"))&&!(Wo("Trident")||Wo("MSIE"))&&!Wo("Edge"),XD=-1!=mh().toLowerCase().indexOf("webkit")&&!Wo("Edge");function _p(){var n=Ot.document;return n?n.documentMode:void 0}e:{var vh="",Kw=(n=mh(),Zw?/rv:([^\);]+)(\)|;)/.exec(n):Ww?/Edge\/([\d\.]+)/.exec(n):yh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):XD?/WebKit\/(\S+)/.exec(n):QD?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Kw&&(vh=Kw?Kw[1]:""),yh){var vp=_p();if(null!=vp&&vp>parseFloat(vh)){_h=String(vp);break e}}_h=vh}var YA={};var Qw=Ot.document&&yh&&(_p()||parseInt(_h,10))||void 0;function Ol(n,e){if(gi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Zw){e:{try{N_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Ya[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ol.X.h.call(this)}}ni(Ol,gi);var Ya={2:"touch",3:"pen",4:"mouse"};Ol.prototype.h=function(){Ol.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ju="closure_listenable_"+(1e6*Math.random()|0),om=0;function wp(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++om,this.ba=this.ea=!1}function am(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function um(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function k_(n){const e={};for(const t in n)e[t]=n[t];return e}const Xw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Jw(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<Xw.length;u++)t=Xw[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function ec(n){this.src=n,this.g={},this.h=0}function P_(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=Hw(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(am(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function eE(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.ba&&u.listener==e&&u.capture==!!t&&u.ha==r)return i}return-1}ec.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=eE(n,e,r,i);return-1<l?(e=n[l],t||(e.ea=!1)):((e=new wp(e,this.src,u,!!r,i)).ea=t,n.push(e)),e};var F_="closure_lm_"+(1e6*Math.random()|0),L_={};function tE(n,e,t,r,i){if(r&&r.once)return rE(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)tE(n,e[u],t,r,i);return null}return t=U_(t),n&&n[Ju]?n.N(e,t,ti(r)?!!r.capture:!!r,i):nE(n,e,t,!1,r,i)}function nE(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var l=ti(i)?!!i.capture:!!i,m=Ep(n);if(m||(n[F_]=m=new ec(n)),(t=m.add(e,t,r,l,u)).proxy)return t;if(r=function JD(){const e=eC;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)YD||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(lm(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function rE(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)rE(n,e[u],t,r,i);return null}return t=U_(t),n&&n[Ju]?n.O(e,t,ti(r)?!!r.capture:!!r,i):nE(n,e,t,!0,r,i)}function iE(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)iE(n,e[u],t,r,i);else r=ti(r)?!!r.capture:!!r,t=U_(t),n&&n[Ju]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=eE(u=n.g[e],t,r,i))&&(am(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Ep(n))&&(e=n.g[e.toString()],n=-1,e&&(n=eE(e,t,r,i)),(t=-1<n?e[n]:null)&&cm(t))}function cm(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Ju])P_(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(lm(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Ep(e))?(P_(t,n),0==t.h&&(t.src=null,e[F_]=null)):am(n)}}}function lm(n){return n in L_?L_[n]:L_[n]="on"+n}function eC(n,e){if(n.ba)n=!0;else{e=new Ol(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&cm(n),n=t.call(r,e)}return n}function Ep(n){return(n=n[F_])instanceof ec?n:null}var V_="__closure_events_fn_"+(1e9*Math.random()>>>0);function U_(n){return"function"==typeof n?n:(n[V_]||(n[V_]=function(e){return n.handleEvent(e)}),n[V_])}function Br(){Ka.call(this),this.i=new ec(this),this.P=this,this.I=null}function ri(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new gi(e,n);else if(e instanceof gi)e.target=e.target||n;else{var i=e;Jw(e=new gi(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];i=dm(l,r,!0,e)&&i}if(i=dm(l=e.g=n,r,!0,e)&&i,i=dm(l,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=dm(l=e.g=t[u],r,!1,e)&&i}function dm(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.ba&&l.capture==t){var m=l.listener,v=l.ha||l.src;l.ea&&P_(n.i,l),i=!1!==m.call(v,r)&&i}}return i&&!r.defaultPrevented}ni(Br,Ka),Br.prototype[Ju]=!0,Br.prototype.removeEventListener=function(n,e,t,r){iE(this,n,e,t,r)},Br.prototype.M=function(){if(Br.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)am(t[r]);delete n.g[e],n.h--}}this.I=null},Br.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Br.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var B_=Ot.JSON.stringify;function tC(){var n=Eh;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var wh,j_=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new nC,n=>n.reset());class nC{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function QA(n){Ot.setTimeout(()=>{throw n},0)}function $_(n,e){wh||function kl(){var n=Ot.Promise.resolve(void 0);wh=function(){n.then(rC)}}(),oE||(wh(),oE=!0),Eh.add(n,e)}var oE=!1,Eh=new class sE{constructor(){this.h=this.g=null}add(e,t){const r=j_.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function rC(){for(var n;n=tC();){try{n.h.call(n.g)}catch(t){QA(t)}var e=j_;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}oE=!1}function hm(n,e){Br.call(this),this.h=n||1,this.g=e||Ot,this.j=pi(this.lb,this),this.l=Date.now()}function Ip(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function H_(n,e,t){if("function"==typeof n)t&&(n=pi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=pi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ot.setTimeout(n,e||0)}function ao(n){n.g=H_(()=>{n.g=null,n.i&&(n.i=!1,ao(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ni(hm,Br),(lt=hm.prototype).ca=!1,lt.R=null,lt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ri(this,"tick"),this.ca&&(Ip(this),this.start()))}},lt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},lt.M=function(){hm.X.M.call(this),Ip(this),delete this.g};class bp extends Ka{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ao(this)}M(){super.M(),this.g&&(Ot.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _r(n){Ka.call(this),this.h=n,this.g={}}ni(_r,Ka);var tc=[];function Dp(n,e,t,r){Array.isArray(t)||(t&&(tc[0]=t.toString()),t=tc);for(var i=0;i<t.length;i++){var u=tE(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function fs(n){um(n.g,function(e,t){this.g.hasOwnProperty(t)&&cm(e)},n),n.g={}}function Ih(){this.g=!0}function uo(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Th(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<i.length;l++)i[l]=""}}}return B_(t)}catch{return e}}(n,t)+(r?" "+r:"")})}_r.prototype.M=function(){_r.X.M.call(this),fs(this)},_r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ih.prototype.Aa=function(){this.g=!1},Ih.prototype.info=function(){};var js={},Pl=null;function Qa(){return Pl=Pl||new Br}function Fl(n){gi.call(this,js.Pa,n)}function Sh(n){const e=Qa();ri(e,new Fl(e))}function G_(n,e){gi.call(this,js.STAT_EVENT,n),this.stat=e}function mi(n){const e=Qa();ri(e,new G_(e,n))}function z_(n,e){gi.call(this,js.Qa,n),this.size=e}function Ah(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ot.setTimeout(function(){n()},e)}js.Pa="serverreachability",ni(Fl,gi),js.STAT_EVENT="statevent",ni(G_,gi),js.Qa="timingevent",ni(z_,gi);var Cp={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},q_={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function fm(){}function aE(){}fm.prototype.h=null;var K_,Tp={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function pm(){gi.call(this,"d")}function Z_(){gi.call(this,"c")}function xh(){}function Ll(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new _r(this),this.O=gm,this.T=new hm(n=yp?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new uE}function uE(){this.i=null,this.g="",this.h=!1}ni(pm,gi),ni(Z_,gi),ni(xh,fm),xh.prototype.g=function(){return new XMLHttpRequest},xh.prototype.i=function(){return{}},K_=new xh;var gm=45e3,Mh={},Rh={};function Y_(n,e,t){n.K=1,n.v=Ap(Xa(e)),n.s=t,n.P=!0,mm(n,null)}function mm(n,e){n.F=Date.now(),Vl(n),n.A=Xa(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),pE(t.i,"t",r),n.C=0,t=n.l.H,n.h=new uE,n.g=AE(n.l,t?e:null,!n.s),0<n.N&&(n.L=new bp(pi(n.La,n,n.g),n.N)),Dp(n.S,n.g,"readystatechange",n.ib),e=n.H?k_(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Sh(),function bh(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var l="",m=u.split("&"),v=0;v<m.length;v++){var I=m[v].split("=");if(1<I.length){var S=I[0];I=I[1];var N=S.split("_");l=2<=N.length&&"type"==N[1]?l+(S+"=")+I+"&":l+(S+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.U,n.s)}function ym(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Q_(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=cE(n,t),i==Rh){4==e&&(n.o=4,mi(14),r=!1),uo(n.j,n.m,null,"[Incomplete Response]");break}if(i==Mh){n.o=4,mi(15),uo(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}uo(n.j,n.m,i,null),J_(n,i)}ym(n)&&i!=Rh&&i!=Mh&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,mi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),xm(e),e.K=!0,mi(11))):(uo(n.j,n.m,t,"[Invalid Chunked Response]"),nc(n),Ul(n))}function cE(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Rh:(t=Number(e.substring(t,r)),isNaN(t)?Mh:(r+=1)+t>e.length?Rh:(e=e.substr(r,t),n.C=r+t,e))}function Vl(n){n.V=Date.now()+n.O,X_(n,n.O)}function X_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ah(pi(n.gb,n),e)}function Sp(n){n.B&&(Ot.clearTimeout(n.B),n.B=null)}function Ul(n){0==n.l.G||n.I||cv(n.l,n)}function nc(n){Sp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Ip(n.T),fs(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function J_(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||or(t.h,n)))if(!n.J&&or(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;kp(t),Tm(t)}Vh(t),mi(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Ah(pi(t.cb,t),6e3));if(1>=mE(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else oc(t,11)}else if((n.J||t.g==n)&&kp(t),!im(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let I=i[e];if(t.T=I[0],I=I[1],2==t.G)if("c"==I[0]){t.I=I[1],t.ka=I[2];const S=I[3];null!=S&&(t.ma=S,t.j.info("VER="+t.ma));const N=I[4];null!=N&&(t.Ca=N,t.j.info("SVER="+t.Ca));const V=I[5];null!=V&&"number"==typeof V&&0<V&&(t.J=r=1.5*V,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const G=n.g;if(G){const Q=G.g?G.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Q){var u=r.h;u.g||-1==Q.indexOf("spdy")&&-1==Q.indexOf("quic")&&-1==Q.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(wm(u,u.h),u.h=null))}if(r.D){const we=G.g?G.g.getResponseHeader("X-HTTP-Session-Id"):null;we&&(r.za=we,xn(r.F,r.D,we))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var l=n;if((r=t).sa=hv(r,r.H?r.ka:null,r.V),l.J){yE(r.h,l);var m=l,v=r.J;v&&m.setTimeout(v),m.B&&(Sp(m),Vl(m)),r.g=l}else Am(r);0<t.i.length&&Op(t)}else"stop"!=I[0]&&"close"!=I[0]||oc(t,7);else 3==t.G&&("stop"==I[0]||"close"==I[0]?"stop"==I[0]?oc(t,7):Cm(t):"noop"!=I[0]&&t.l&&t.l.wa(I),t.A=0)}Sh()}catch{}}function ev(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(nm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function dE(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(nm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function lE(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(nm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}(lt=Ll.prototype).setTimeout=function(n){this.O=n},lt.ib=function(n){n=n.target;const e=this.L;e&&3==eu(n)?e.l():this.La(n)},lt.La=function(n){try{if(n==this.g)e:{const S=eu(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>S)&&(3!=S||yp||this.g&&(this.h.h||this.g.fa()||DE(this.g)))){this.I||4!=S||7==e||Sh(),Sp(this);var t=this.g.aa();this.Y=t;t:if(ym(this)){var r=DE(this.g);n="";var i=r.length,u=4==eu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){nc(this),Ul(this);var l="";break t}this.h.i=new Ot.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.fa();if(this.i=200==t,function Dh(n,e,t,r,i,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.U,S,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var m,v=this.g;if((m=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!im(m)){var I=m;break t}}I=null}if(!(t=I)){this.i=!1,this.o=3,mi(12),nc(this),Ul(this);break e}uo(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,J_(this,t)}this.P?(Q_(this,S,l),yp&&this.i&&3==S&&(Dp(this.S,this.T,"tick",this.hb),this.T.start())):(uo(this.j,this.m,l,null),J_(this,l)),4==S&&nc(this),this.i&&!this.I&&(4==S?cv(this.l,this):(this.i=!1,Vl(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,mi(12)):(this.o=0,mi(13)),nc(this),Ul(this)}}}catch{}},lt.hb=function(){if(this.g){var n=eu(this.g),e=this.g.fa();this.C<e.length&&(Sp(this),Q_(this,n,e),this.i&&4!=n&&Vl(this))}},lt.cancel=function(){this.I=!0,nc(this)},lt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Ch(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Sh(),mi(17)),nc(this),this.o=2,Ul(this)):X_(this,this.V-n)};var tv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bl(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Bl){this.h=void 0!==e?e:n.h,Nh(this,n.j),this.s=n.s,this.g=n.g,Oh(this,n.m),this.l=n.l,e=n.i;var t=new xp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),nv(this,t),this.o=n.o}else n&&(t=String(n).match(tv))?(this.h=!!e,Nh(this,t[1]||"",!0),this.s=kh(t[2]||""),this.g=kh(t[3]||"",!0),Oh(this,t[4]),this.l=kh(t[5]||"",!0),nv(this,t[6]||"",!0),this.o=kh(t[7]||"")):(this.h=!!e,this.i=new xp(null,this.h))}function Xa(n){return new Bl(n)}function Nh(n,e,t){n.j=t?kh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Oh(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function nv(n,e,t){e instanceof xp?(n.i=e,function XA(n,e){e&&!n.j&&(Zo(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(ic(this,r),pE(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Ph(e,rc)),n.i=new xp(e,n.h))}function xn(n,e,t){n.i.set(e,t)}function Ap(n){return xn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function kh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ph(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,hE),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function hE(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Bl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ph(e,rv,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ph(e,rv,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ph(t,"/"==t.charAt(0)?_m:fE,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ph(t,sC)),n.join("")};var rv=/[#\/\?@]/g,fE=/[#\?:]/g,_m=/[#\?]/g,rc=/[#\?@]/g,sC=/#/g;function xp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Zo(n){n.g||(n.g=new Map,n.h=0,n.i&&function iC(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ic(n,e){Zo(n),e=sc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function vm(n,e){return Zo(n),e=sc(n,e),n.g.has(e)}function pE(n,e,t){ic(n,e),0<t.length&&(n.i=null,n.g.set(sc(n,e),mp(t)),n.h+=t.length)}function sc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function gE(n){this.l=n||oC,n=Ot.PerformanceNavigationTiming?0<(n=Ot.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ot.g&&Ot.g.Ga&&Ot.g.Ga()&&Ot.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(lt=xp.prototype).add=function(n,e){Zo(this),this.i=null,n=sc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},lt.forEach=function(n,e){Zo(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},lt.oa=function(){Zo(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let u=0;u<i.length;u++)t.push(e[r])}return t},lt.W=function(n){Zo(this);let e=[];if("string"==typeof n)vm(this,n)&&(e=e.concat(this.g.get(sc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},lt.set=function(n,e){return Zo(this),this.i=null,vm(this,n=sc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},lt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},lt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.W(r);for(r=0;r<l.length;r++){var i=u;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var oC=10;function iv(n){return!!n.h||!!n.g&&n.g.size>=n.j}function mE(n){return n.h?1:n.g?n.g.size:0}function or(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function wm(n,e){n.g?n.g.add(e):n.h=e}function yE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function _E(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return mp(n.i)}function Em(){}function aC(){this.g=new Em}function vE(n,e,t){const r=t||"";try{ev(n,function(i,u){let l=i;ti(i)&&(l=B_(i)),e.push(r+u+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ja(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Mp(n){this.l=n.ac||null,this.j=n.jb||!1}function Im(n,e){Br.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=bm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gE.prototype.cancel=function(){if(this.i=_E(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Em.prototype.stringify=function(n){return Ot.JSON.stringify(n,void 0)},Em.prototype.parse=function(n){return Ot.JSON.parse(n,void 0)},ni(Mp,fm),Mp.prototype.g=function(){return new Im(this.l,this.j)},Mp.prototype.i=function(n){return function(){return n}}({}),ni(Im,Br);var bm=0;function EE(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Fh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Dm(n)}function Dm(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(lt=Im.prototype).open=function(n,e){if(this.readyState!=bm)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Dm(this)},lt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ot).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},lt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fh(this)),this.readyState=bm},lt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Dm(this)),this.g&&(this.readyState=3,Dm(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Ot.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;EE(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},lt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Fh(this):Dm(this),3==this.readyState&&EE(this)}},lt.Va=function(n){this.g&&(this.response=this.responseText=n,Fh(this))},lt.Ua=function(n){this.g&&(this.response=n,Fh(this))},lt.ga=function(){this.g&&Fh(this)},lt.setRequestHeader=function(n,e){this.v.append(n,e)},lt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},lt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Im.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var IE=Ot.JSON.parse;function Ln(n){Br.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=co,this.K=this.L=!1}ni(Ln,Br);var co="",uC=/^https?$/i,cC=["POST","PUT"];function $s(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Hs(n),Rp(n)}function Hs(n){n.D||(n.D=!0,ri(n,"complete"),ri(n,"error"))}function sv(n){if(n.h&&typeof em<"u"&&(!n.C[1]||4!=eu(n)||2!=n.aa()))if(n.v&&4==eu(n))H_(n.Ha,0,n);else if(ri(n,"readystatechange"),4==eu(n)){n.h=!1;try{const m=n.aa();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var i=String(n.H).match(tv)[1]||null;if(!i&&Ot.self&&Ot.self.location){var u=Ot.self.location.protocol;i=u.substr(0,u.length-1)}r=!uC.test(i?i.toLowerCase():"")}t=r}if(t)ri(n,"complete"),ri(n,"success");else{n.m=6;try{var l=2<eu(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.aa()+"]",Hs(n)}}finally{Rp(n)}}}function Rp(n,e){if(n.g){bE(n);const t=n.g,r=n.C[0]?tm:null;n.g=null,n.C=null,e||ri(n,"ready");try{t.onreadystatechange=r}catch{}}}function bE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ot.clearTimeout(n.A),n.A=null)}function eu(n){return n.g?n.g.readyState:0}function DE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case co:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function CE(n){let e="";return um(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Np(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=CE(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):xn(n,e,t))}function tu(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function TE(n){this.Ca=0,this.i=[],this.j=new Ih,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=tu("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=tu("baseRetryDelayMs",5e3,n),this.bb=tu("retryDelaySeedMs",1e4,n),this.$a=tu("forwardChannelMaxRetries",2,n),this.ta=tu("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new gE(n&&n.concurrentRequestLimit),this.Fa=new aC,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Cm(n){if(ov(n),3==n.G){var e=n.U++,t=Xa(n.F);xn(t,"SID",n.I),xn(t,"RID",e),xn(t,"TYPE","terminate"),Lh(n,t),(e=new Ll(n,n.j,e,void 0)).K=2,e.v=Ap(Xa(t)),t=!1,Ot.navigator&&Ot.navigator.sendBeacon&&(t=Ot.navigator.sendBeacon(e.v.toString(),"")),!t&&Ot.Image&&((new Image).src=e.v,t=!0),t||(e.g=AE(e.l,null),e.g.da(e.v)),e.F=Date.now(),Vl(e)}dv(n)}function Tm(n){n.g&&(xm(n),n.g.cancel(),n.g=null)}function ov(n){Tm(n),n.u&&(Ot.clearTimeout(n.u),n.u=null),kp(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Ot.clearTimeout(n.m),n.m=null)}function Op(n){iv(n.h)||n.m||(n.m=!0,$_(n.Ja,n),n.C=0)}function SE(n,e){var t;t=e?e.m:n.U++;const r=Xa(n.F);xn(r,"SID",n.I),xn(r,"RID",t),xn(r,"AID",n.T),Lh(n,r),n.o&&n.s&&Np(r,n.o,n.s),t=new Ll(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=av(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),wm(n.h,t),Y_(t,r,e)}function Lh(n,e){n.ia&&um(n.ia,function(t,r){xn(e,r,t)}),n.l&&ev({},function(t,r){xn(e,r,t)})}function av(n,e,t){t=Math.min(n.i.length,t);var r=n.l?pi(n.l.Ra,n.l,n):null;e:{var i=n.i;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=i[0].h,l.push("ofs="+u)):u=0:l.push("ofs="+u);let m=!0;for(let v=0;v<t;v++){let I=i[v].h;const S=i[v].g;if(I-=u,0>I)u=Math.max(0,i[v].h-100),m=!1;else try{vE(S,l,"req"+I+"_")}catch{r&&r(S)}}if(m){r=l.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function Am(n){n.g||n.u||(n.Z=1,$_(n.Ia,n),n.A=0)}function Vh(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Ah(pi(n.Ia,n),lv(n,n.A)),n.A++,0))}function xm(n){null!=n.B&&(Ot.clearTimeout(n.B),n.B=null)}function uv(n){n.g=new Ll(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Xa(n.sa);xn(e,"RID","rpc"),xn(e,"SID",n.I),xn(e,"CI",n.L?"0":"1"),xn(e,"AID",n.T),xn(e,"TYPE","xmlhttp"),Lh(n,e),n.o&&n.s&&Np(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Ap(Xa(e)),t.s=null,t.P=!0,mm(t,n)}function kp(n){null!=n.v&&(Ot.clearTimeout(n.v),n.v=null)}function cv(n,e){var t=null;if(n.g==e){kp(n),xm(n),n.g=null;var r=2}else{if(!or(n.h,e))return;t=e.D,yE(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;ri(r=Qa(),new z_(r,t)),Op(n)}else Am(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function Sm(n,e){return!(mE(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Ah(pi(n.Ja,n,e),lv(n,n.C)),n.C++,0)))}(n,e)||2==r&&Vh(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:oc(n,5);break;case 4:oc(n,10);break;case 3:oc(n,6);break;default:oc(n,2)}}function lv(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function oc(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=pi(n.kb,n);t||(t=new Bl("//www.google.com/images/cleardot.gif"),Ot.location&&"http"==Ot.location.protocol||Nh(t,"https"),Ap(t)),function wE(n,e){const t=new Ih;if(Ot.Image){const r=new Image;r.onload=rm(Ja,t,r,"TestLoadImage: loaded",!0,e),r.onerror=rm(Ja,t,r,"TestLoadImage: error",!1,e),r.onabort=rm(Ja,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=rm(Ja,t,r,"TestLoadImage: timeout",!1,e),Ot.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else mi(2);n.G=0,n.l&&n.l.va(e),dv(n),ov(n)}function dv(n){if(n.G=0,n.la=[],n.l){const e=_E(n.h);(0!=e.length||0!=n.i.length)&&(Gw(n.la,e),Gw(n.la,n.i),n.h.i.length=0,mp(n.i),n.i.length=0),n.l.ua()}}function hv(n,e,t){var r=t instanceof Bl?Xa(t):new Bl(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Oh(r,r.m);else{var i=Ot.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var u=new Bl(null,void 0);r&&Nh(u,r),e&&(u.g=e),i&&Oh(u,i),t&&(u.l=t),r=u}return e=n.za,(t=n.D)&&e&&xn(r,t,e),xn(r,"VER",n.ma),Lh(n,r),r}function AE(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ln(t&&n.Da&&!n.ra?new Mp({jb:!0}):n.ra)).Ka(n.H),e}function xE(){}function Mm(){if(yh&&!(10<=Number(Qw)))throw Error("Environmental error: no available transport.")}function ps(n,e){Br.call(this),this.g=new TE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!im(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!im(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Uh(this)}function ME(n){pm.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function RE(){Z_.call(this),this.status=1}function Uh(n){this.g=n}(lt=Ln.prototype).Ka=function(n){this.L=n},lt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():K_.g(),this.C=function W_(n){return n.h||(n.h=n.i())}(this.u?this.u:K_),this.g.onreadystatechange=pi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void $s(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),i=Ot.FormData&&n instanceof Ot.FormData,!(0<=Hw(cC,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{bE(this),0<this.B&&((this.K=function Ko(n){return yh&&function Yw(){return function qw(n){var e=YA;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=zw(String(_h)).split("."),t=zw("9").split("."),r=Math.max(e.length,t.length);for(let l=0;0==n&&l<r;l++){var i=e[l]||"",u=t[l]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=Bs(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||Bs(0==i[2].length,0==u[2].length)||Bs(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pi(this.qa,this)):this.A=H_(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){$s(this,u)}},lt.qa=function(){typeof em<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ri(this,"timeout"),this.abort(8))},lt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ri(this,"complete"),ri(this,"abort"),Rp(this))},lt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rp(this,!0)),Ln.X.M.call(this)},lt.Ha=function(){this.s||(this.F||this.v||this.l?sv(this):this.fb())},lt.fb=function(){sv(this)},lt.aa=function(){try{return 2<eu(this)?this.g.status:-1}catch{return-1}},lt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},lt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),IE(e)}},lt.Ea=function(){return this.m},lt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(lt=TE.prototype).ma=8,lt.G=1,lt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Ll(this,this.j,n,void 0);let u=this.s;if(this.S&&(u?(u=k_(u),Jw(u,this.S)):u=this.S),null!==this.o||this.N||(i.H=u,u=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=av(this,i,e),xn(t=Xa(this.F),"RID",n),xn(t,"CVER",22),this.D&&xn(t,"X-HTTP-Session-Id",this.D),Lh(this,t),u&&(this.N?e="headers="+encodeURIComponent(String(CE(u)))+"&"+e:this.o&&Np(t,this.o,u)),wm(this.h,i),this.Ya&&xn(t,"TYPE","init"),this.O?(xn(t,"$req",e),xn(t,"SID","null"),i.Z=!0,Y_(i,t,null)):Y_(i,t,e),this.G=2}}else 3==this.G&&(n?SE(this,n):0==this.i.length||iv(this.h)||SE(this))},lt.Ia=function(){if(this.u=null,uv(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Ah(pi(this.eb,this),n)}},lt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,mi(10),Tm(this),uv(this))},lt.cb=function(){null!=this.v&&(this.v=null,Tm(this),Vh(this),mi(19))},lt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),mi(2)):(this.j.info("Failed to ping google.com"),mi(1))},(lt=xE.prototype).xa=function(){},lt.wa=function(){},lt.va=function(){},lt.ua=function(){},lt.Ra=function(){},Mm.prototype.g=function(n,e){return new ps(n,e)},ni(ps,Br),ps.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;mi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=hv(n,null,n.V),Op(n)},ps.prototype.close=function(){Cm(this.g)},ps.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=B_(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Op(e)},ps.prototype.M=function(){this.g.l=null,delete this.j,Cm(this.g),delete this.g,ps.X.M.call(this)},ni(ME,pm),ni(RE,Z_),ni(Uh,xE),Uh.prototype.xa=function(){ri(this.g,"a")},Uh.prototype.wa=function(n){ri(this.g,new ME(n))},Uh.prototype.va=function(n){ri(this.g,new RE)},Uh.prototype.ua=function(){ri(this.g,"b")},Mm.prototype.createWebChannel=Mm.prototype.g,ps.prototype.send=ps.prototype.u,ps.prototype.open=ps.prototype.m,ps.prototype.close=ps.prototype.close,Cp.NO_ERROR=0,Cp.TIMEOUT=8,Cp.HTTP_ERROR=6,q_.COMPLETE="complete",aE.EventType=Tp,Tp.OPEN="a",Tp.CLOSE="b",Tp.ERROR="c",Tp.MESSAGE="d",Br.prototype.listen=Br.prototype.N,Ln.prototype.listenOnce=Ln.prototype.O,Ln.prototype.getLastError=Ln.prototype.Oa,Ln.prototype.getLastErrorCode=Ln.prototype.Ea,Ln.prototype.getStatus=Ln.prototype.aa,Ln.prototype.getResponseJson=Ln.prototype.Sa,Ln.prototype.getResponseText=Ln.prototype.fa,Ln.prototype.send=Ln.prototype.da,Ln.prototype.setWithCredentials=Ln.prototype.Ka;var lC=qo.createWebChannelTransport=function(){return new Mm},dC=qo.getStatEventTarget=function(){return Qa()},fv=qo.ErrorCode=Cp,hC=qo.EventType=q_,fC=qo.Event=js,NE=qo.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},pC=qo.FetchXmlHttpFactory=Mp,Rm=qo.WebChannel=aE,gC=qo.XhrIo=Ln;const OE="@firebase/firestore";class jr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jr.UNAUTHENTICATED=new jr(null),jr.GOOGLE_CREDENTIALS=new jr("google-credentials-uid"),jr.FIRST_PARTY=new jr("first-party-uid"),jr.MOCK_USER=new jr("mock-user");let jl="9.16.0";const nu=new zo.Yd("@firebase/firestore");function Nm(){return nu.logLevel}function Ne(n,...e){if(nu.logLevel<=zo.in.DEBUG){const t=e.map(Om);nu.debug(`Firestore (${jl}): ${n}`,...t)}}function Jn(n,...e){if(nu.logLevel<=zo.in.ERROR){const t=e.map(Om);nu.error(`Firestore (${jl}): ${n}`,...t)}}function ac(n,...e){if(nu.logLevel<=zo.in.WARN){const t=e.map(Om);nu.warn(`Firestore (${jl}): ${n}`,...t)}}function Om(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ke(n="Unexpected state"){const e=`FIRESTORE (${jl}) INTERNAL ASSERTION FAILED: `+n;throw Jn(e),new Error(e)}function st(n,e){n||Ke()}function $e(n,e){return n}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends Ht.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class FE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jr.UNAUTHENTICATED))}shutdown(){}}class ex{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class LE{constructor(e){this.t=e,this.currentUser=jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=I=>this.i!==i?(i=this.i,t(I)):Promise.resolve();let l=new Vn;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Vn,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const I=l;e.enqueueRetryable((0,pe.Z)(function*(){yield I.promise,yield u(r.currentUser)}))},v=I=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=I,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(I=>v(I)),setTimeout(()=>{if(!this.auth){const I=this.t.getImmediate({optional:!0});I?v(I):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Vn)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st("string"==typeof r.accessToken),new FE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return st(null===e||"string"==typeof e),new jr(e)}}class VE{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=jr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(st(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class tx{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new VE(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mC{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=u=>{null!=u.error&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.A;return this.A=u.token,Ne("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?i(u):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(st("string"==typeof t.token),this.A=t.token,new wt(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function yC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class $l{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=yC(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function Ft(n,e){return n<e?-1:n>e?1:0}function ru(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Pp(n){return n+"\0"}class Lt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Me(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Lt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ft(this.nanoseconds,e.nanoseconds):Ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class yt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new yt(e)}static min(){return new yt(new Lt(0,0))}static max(){return new yt(new Lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Bh{constructor(e,t,r){void 0===t?t=0:t>e.length&&Ke(),void 0===r?r=e.length-t:r>e.length-t&&Ke(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Bh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),l=t.get(i);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class tn extends Bh{construct(e,t,r){return new tn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new tn(t)}static emptyPath(){return new tn([])}}const _C=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends Bh{construct(e,t,r){return new Gn(e,t,r)}static isValidIdentifier(e){return _C.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Gn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Me(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const m=e[i];if("\\"===m){if(i+1===e.length)throw new Me(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[i+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new Me(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,i+=2}else"`"===m?(l=!l,i++):"."!==m||l?(r+=m,i++):(u(),i++)}if(u(),l)throw new Me(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gn(t)}static emptyPath(){return new Gn([])}}class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(tn.fromString(e))}static fromName(e){return new Ge(tn.fromString(e).popFirst(5))}static empty(){return new Ge(tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new tn(e.slice()))}}class Fp{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function km(n){return n.fields.find(e=>2===e.kind)}function Hl(n){return n.fields.filter(e=>2!==e.kind)}Fp.UNKNOWN_ID=-1;class Pm{constructor(e,t){this.fieldPath=e,this.kind=t}}class Vp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Vp(0,yi.min())}}function UE(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=yt.fromTimestamp(1e9===r?new Lt(t+1,0):new Lt(t,r));return new yi(i,Ge.empty(),e)}function BE(n){return new yi(n.readTime,n.key,-1)}class yi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new yi(yt.min(),Ge.empty(),-1)}static max(){return new yi(yt.max(),Ge.empty(),-1)}}function Fm(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ge.comparator(n.documentKey,e.documentKey),0!==t?t:Ft(n.largestBatchId,e.largestBatchId))}const gv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function uc(n){return Gl.apply(this,arguments)}function Gl(){return Gl=(0,pe.Z)(function*(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==gv)throw n;Ne("LocalStore","Unexpectedly lost primary lease")}),Gl.apply(this,arguments)}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,r)=>{t(e)})}static reject(e){return new re((t,r)=>{r(e)})}static waitFor(e){return new re((t,r)=>{let i=0,u=0,l=!1;e.forEach(m=>{++i,m.next(()=>{++u,l&&u===i&&t()},v=>r(v))}),l=!0,u===i&&t()})}static or(e){let t=re.resolve(!1);for(const r of e)t=t.next(i=>i?re.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new re((r,i)=>{const u=e.length,l=new Array(u);let m=0;for(let v=0;v<u;v++){const I=v;t(e[I]).next(S=>{l[I]=S,++m,m===u&&r(l)},S=>i(S))}})}static doWhile(e,t){return new re((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}class Lm{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Vn,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new jh(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=_v(r.target.error);this.P.reject(new jh(e,i))}}static open(e,t,r,i){try{return new Lm(t,e.transaction(i,r))}catch(u){throw new jh(t,u)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ne("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new jE(t)}}class lo{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===lo.D((0,Ht.z$)())&&Jn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ne("SimpleDb","Removing database:",e),zl(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Ht.hl)())return!1;if(lo.N())return!0;const e=(0,Ht.z$)(),t=lo.D(e),r=0<t&&t<10,i=lo.k(e),u=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,pe.Z)(function*(){return t.db||(Ne("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=l=>{r(l.target.result)},u.onblocked=()=>{i(new jh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=l=>{const m=l.target.error;i("VersionError"===m.name?new Me(ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Me(ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new jh(e,m))},u.onupgradeneeded=l=>{Ne("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.S.$(l.target.result,u.transaction,l.oldVersion,t.version).next(()=>{Ne("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var u=this;return(0,pe.Z)(function*(){const l="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.F(e);const v=Lm.open(u.db,e,l?"readonly":"readwrite",r),I=i(v).next(S=>(v.V(),S)).catch(S=>(v.abort(S),re.reject(S))).toPromise();return I.catch(()=>{}),yield v.v,I}catch(v){const I=v,S="FirebaseError"!==I.name&&m<3;if(Ne("SimpleDb","Transaction failed with error:",I.message,"Retrying:",S),u.close(),!S)return Promise.reject(I)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class wC{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return zl(this.q.delete())}}class jh extends Me{constructor(e,t){super(ue.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function iu(n){return"IndexedDbTransactionError"===n.name}class jE{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ne("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ne("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),zl(r)}add(e){return Ne("SimpleDb","ADD",this.store.name,e,e),zl(this.store.add(e))}get(e){return zl(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ne("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ne("SimpleDb","DELETE",this.store.name,e),zl(this.store.delete(e))}count(){return Ne("SimpleDb","COUNT",this.store.name),zl(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),u=[];return this.H(i,(l,m)=>{u.push(m)}).next(()=>u)}{const i=this.store.getAll(r.range);return new re((u,l)=>{i.onerror=m=>{l(m.target.error)},i.onsuccess=m=>{u(m.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new re((i,u)=>{r.onerror=l=>{u(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}Y(e,t){Ne("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(u,l,m)=>m.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new re((r,i)=>{t.onerror=u=>{const l=_v(u.target.error);i(l)},t.onsuccess=u=>{const l=u.target.result;l?e(l.primaryKey,l.value).next(m=>{m?l.continue():r()}):r()}})}H(e,t){const r=[];return new re((i,u)=>{e.onerror=l=>{u(l.target.error)},e.onsuccess=l=>{const m=l.target.result;if(!m)return void i();const v=new wC(m),I=t(m.primaryKey,m.value,v);if(I instanceof re){const S=I.catch(N=>(v.done(),re.reject(N)));r.push(S)}v.isDone?i():null===v.G?m.continue():m.continue(v.G)}}).next(()=>re.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function zl(n){return new re((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=_v(r.target.error);t(i)}})}let yv=!1;function _v(n){const e=lo.D((0,Ht.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return yv||(yv=!0,setTimeout(()=>{throw r},0)),r}}return n}class EC{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Ne("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,pe.Z)(function*(){t.task=null;try{Ne("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){iu(r)?Ne("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield uc(r)}yield t.nt(6e4)}))}}class rx{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,pe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,u=!0;return re.doWhile(()=>!0===u&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return Ne("IndexBackiller",`Processing collection: ${l}`),this.rt(e,l,i).next(m=>{i-=m,r.add(l)});u=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(u=>{const l=u.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.ot(i,u)).next(m=>(Ne("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>l.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,u)=>{const l=BE(u);Fm(l,r)>0&&(r=l)}),new yi(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Gs=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class ix{constructor(e,t,r,i,u,l,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=m,this.useFetchStreams=v}}class ql{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ql("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ql&&e.projectId===this.projectId&&e.database===this.database}}function vv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Yo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function $E(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Up(n){return null==n}function $h(n){return 0===n&&1/n==-1/0}function Hh(n){return"number"==typeof n&&Number.isInteger(n)&&!$h(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Tr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Tr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new Tr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const bC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cc(n){if(st(!!n),"string"==typeof n){let e=0;const t=bC.exec(n);if(st(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ar(n.seconds),nanos:ar(n.nanos)}}function ar(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Wl(n){return"string"==typeof n?Tr.fromBase64String(n):Tr.fromUint8Array(n)}function Vm(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function HE(n){const e=n.mapValue.fields.__previous_value__;return Vm(e)?HE(e):e}function Bp(n){const e=cc(n.mapValue.fields.__local_write_time__.timestampValue);return new Lt(e.seconds,e.nanos)}const zs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Um={nullValue:"NULL_VALUE"};function lc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Vm(n)?4:qE(n)?9007199254740991:10:Ke()}function Qo(n,e){if(n===e)return!0;const t=lc(n);if(t!==lc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Bp(n).isEqual(Bp(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=cc(r.timestampValue),l=cc(i.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Wl(n.bytesValue).isEqual(Wl(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return ar(r.geoPointValue.latitude)===ar(i.geoPointValue.latitude)&&ar(r.geoPointValue.longitude)===ar(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ar(r.integerValue)===ar(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=ar(r.doubleValue),l=ar(i.doubleValue);return u===l?$h(u)===$h(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return ru(n.arrayValue.values||[],e.arrayValue.values||[],Qo);case 10:return function(r,i){const u=r.mapValue.fields||{},l=i.mapValue.fields||{};if(vv(u)!==vv(l))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===l[m]||!Qo(u[m],l[m])))return!1;return!0}(n,e);default:return Ke()}var i}function Gh(n,e){return void 0!==(n.values||[]).find(t=>Qo(t,e))}function dc(n,e){if(n===e)return 0;const t=lc(n),r=lc(e);if(t!==r)return Ft(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ft(n.booleanValue,e.booleanValue);case 2:return function(i,u){const l=ar(i.integerValue||i.doubleValue),m=ar(u.integerValue||u.doubleValue);return l<m?-1:l>m?1:l===m?0:isNaN(l)?isNaN(m)?0:-1:1}(n,e);case 3:return wv(n.timestampValue,e.timestampValue);case 4:return wv(Bp(n),Bp(e));case 5:return Ft(n.stringValue,e.stringValue);case 6:return function(i,u){const l=Wl(i),m=Wl(u);return l.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const l=i.split("/"),m=u.split("/");for(let v=0;v<l.length&&v<m.length;v++){const I=Ft(l[v],m[v]);if(0!==I)return I}return Ft(l.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const l=Ft(ar(i.latitude),ar(u.latitude));return 0!==l?l:Ft(ar(i.longitude),ar(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const l=i.values||[],m=u.values||[];for(let v=0;v<l.length&&v<m.length;++v){const I=dc(l[v],m[v]);if(I)return I}return Ft(l.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===zs.mapValue&&u===zs.mapValue)return 0;if(i===zs.mapValue)return 1;if(u===zs.mapValue)return-1;const l=i.fields||{},m=Object.keys(l),v=u.fields||{},I=Object.keys(v);m.sort(),I.sort();for(let S=0;S<m.length&&S<I.length;++S){const N=Ft(m[S],I[S]);if(0!==N)return N;const V=dc(l[m[S]],v[I[S]]);if(0!==V)return V}return Ft(m.length,I.length)}(n.mapValue,e.mapValue);default:throw Ke()}}function wv(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ft(n,e);const t=cc(n),r=cc(e),i=Ft(t.seconds,r.seconds);return 0!==i?i:Ft(t.nanos,r.nanos)}function zh(n){return jp(n)}function jp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=cc(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Wl(n.bytesValue).toBase64():"referenceValue"in n?Ge.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const l of r.values||[])u?u=!1:i+=",",i+=jp(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const m of i)l?l=!1:u+=",",u+=`${m}:${jp(r.fields[m])}`;return u+"}"}(n.mapValue):Ke();var e}function Zl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Bm(n){return!!n&&"integerValue"in n}function qh(n){return!!n&&"arrayValue"in n}function GE(n){return!!n&&"nullValue"in n}function zE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jm(n){return!!n&&"mapValue"in n}function Kl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Yo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Kl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Kl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function qE(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function WE(n){return"nullValue"in n?Um:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Zl(ql.empty(),Ge.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ke()}function DC(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Zl(ql.empty(),Ge.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?zs:Ke()}function ZE(n,e){const t=dc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function KE(n,e){const t=dc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class hc{constructor(e,t){this.position=e,this.inclusive=t}}function YE(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],l=n.position[i];if(r=u.field.isKeyField()?Ge.comparator(Ge.fromName(l.referenceValue),t.key):dc(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function QE(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qo(n.position[t],e.position[t]))return!1;return!0}class XE{}class Xt extends XE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Cv(e,t,r):"array-contains"===t?new CC(e,r):"in"===t?new Hm(e,r):"not-in"===t?new TC(e,r):"array-contains-any"===t?new rI(e,r):new Xt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new tI(e,r):new Tv(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(dc(t,this.value)):null!==t&&lc(this.value)===lc(t)&&this.matchesComparison(dc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class un extends XE{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new un(e,t)}matches(e){return Yl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Yl(n){return"and"===n.op}function Ev(n){return"or"===n.op}function Iv(n){return bv(n)&&Yl(n)}function bv(n){for(const e of n.filters)if(e instanceof un)return!1;return!0}function Dv(n){if(n instanceof Xt)return n.field.canonicalString()+n.op.toString()+zh(n.value);if(Iv(n))return n.filters.map(e=>Dv(e)).join(",");{const e=n.filters.map(t=>Dv(t)).join(",");return`${n.op}(${e})`}}function JE(n,e){return n instanceof Xt?(t=n,(r=e)instanceof Xt&&t.op===r.op&&t.field.isEqual(r.field)&&Qo(t.value,r.value)):n instanceof un?function(t,r){return r instanceof un&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,u,l)=>i&&JE(u,r.filters[l]),!0)}(n,e):void Ke();var t,r}function eI(n,e){const t=n.filters.concat(e);return un.create(t,n.op)}function $m(n){return n instanceof Xt?`${(e=n).field.canonicalString()} ${e.op} ${zh(e.value)}`:n instanceof un?function(e){return e.op.toString()+" {"+e.getFilters().map($m).join(" ,")+"}"}(n):"Filter";var e}class Cv extends Xt{constructor(e,t,r){super(e,t,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const t=Ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class tI extends Xt{constructor(e,t){super(e,"in",t),this.keys=nI(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Tv extends Xt{constructor(e,t){super(e,"not-in",t),this.keys=nI(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nI(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ge.fromName(r.referenceValue))}class CC extends Xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qh(t)&&Gh(t.arrayValue,this.value)}}class Hm extends Xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Gh(this.value.arrayValue,t)}}class TC extends Xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Gh(this.value.arrayValue,t)}}class rI extends Xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Gh(this.value.arrayValue,r))}}class ho{constructor(e,t="asc"){this.field=e,this.dir=t}}function iI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class er{constructor(e,t){this.comparator=e,this.root=t||$r.EMPTY}insert(e,t){return new er(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$r.BLACK,null,null))}remove(e){return new er(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$r.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sv(this.root,e,this.comparator,!0)}}class Sv{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $r{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??$r.RED,this.left=i??$r.EMPTY,this.right=u??$r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new $r(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return $r.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ke();const e=this.left.check();if(e!==this.right.check())throw Ke();return e+(this.isRed()?0:1)}}$r.EMPTY=null,$r.RED=!0,$r.BLACK=!1,$r.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke()}get value(){throw Ke()}get color(){throw Ke()}get left(){throw Ke()}get right(){throw Ke()}copy(n,e,t,r,i){return this}insert(n,e,t){return new $r(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cn{constructor(e){this.comparator=e,this.data=new er(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sI(this.data.getIterator())}getIteratorFrom(e){return new sI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof cn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new cn(this.comparator);return t.data=e,t}}class sI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function fc(n){return n.hasNext()?n.getNext():void 0}class Qi{constructor(e){this.fields=e,e.sort(Gn.comparator)}static empty(){return new Qi([])}unionWith(e){let t=new cn(Gn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Qi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ru(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Hr{constructor(e){this.value=e}static empty(){return new Hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!jm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(t)}setAll(e){let t=Gn.emptyPath(),r={},i=[];e.forEach((l,m)=>{if(!t.isImmediateParentOf(m)){const v=this.getFieldsMap(t);this.applyChanges(v,r,i),r={},i=[],t=m.popLast()}l?r[m.lastSegment()]=Kl(l):i.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());jm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];jm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Yo(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new Hr(Kl(this.value))}}function Gm(n){const e=[];return Yo(n.fields,(t,r)=>{const i=new Gn([t]);if(jm(r)){const u=Gm(r.mapValue).fields;if(0===u.length)e.push(i);else for(const l of u)e.push(i.child(l))}else e.push(i)}),new Qi(e)}class Cn{constructor(e,t,r,i,u,l,m){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=u,this.data=l,this.documentState=m}static newInvalidDocument(e){return new Cn(e,0,yt.min(),yt.min(),yt.min(),Hr.empty(),0)}static newFoundDocument(e,t,r,i){return new Cn(e,1,t,yt.min(),r,i,0)}static newNoDocument(e,t){return new Cn(e,2,t,yt.min(),yt.min(),Hr.empty(),0)}static newUnknownDocument(e,t){return new Cn(e,3,t,yt.min(),yt.min(),Hr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(yt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class oI{constructor(e,t=null,r=[],i=[],u=null,l=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=l,this.endAt=m,this.ft=null}}function zm(n,e=null,t=[],r=[],i=null,u=null,l=null){return new oI(n,e,t,r,i,u,l)}function pc(n){const e=$e(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Dv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Up(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>zh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>zh(r)).join(",")),e.ft=t}return e.ft}function $p(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!iI(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!JE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!QE(n.startAt,e.startAt)&&QE(n.endAt,e.endAt)}function qm(n){return Ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Wm(n,e){return n.filters.filter(t=>t instanceof Xt&&t.field.isEqual(e))}function aI(n,e,t){let r=Um,i=!0;for(const u of Wm(n,e)){let l=Um,m=!0;switch(u.op){case"<":case"<=":l=WE(u.value);break;case"==":case"in":case">=":l=u.value;break;case">":l=u.value,m=!1;break;case"!=":case"not-in":l=Um}ZE({value:r,inclusive:i},{value:l,inclusive:m})<0&&(r=l,i=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];ZE({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}function Av(n,e,t){let r=zs,i=!0;for(const u of Wm(n,e)){let l=zs,m=!0;switch(u.op){case">=":case">":l=DC(u.value),m=!1;break;case"==":case"in":case"<=":l=u.value;break;case"<":l=u.value,m=!1;break;case"!=":case"not-in":l=zs}KE({value:r,inclusive:i},{value:l,inclusive:m})>0&&(r=l,i=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];KE({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}class gc{constructor(e,t=null,r=[],i=[],u=null,l="F",m=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=l,this.startAt=m,this.endAt=v,this.dt=null,this._t=null}}function xv(n,e,t,r,i,u,l,m){return new gc(n,e,t,r,i,u,l,m)}function Wh(n){return new gc(n)}function uI(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function cI(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Zm(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Mv(n){return null!==n.collectionGroup}function Ql(n){const e=$e(n);if(null===e.dt){e.dt=[];const t=Zm(e),r=cI(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new ho(t)),e.dt.push(new ho(Gn.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.dt.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new ho(Gn.keyField(),u))}}}return e.dt}function _i(n){const e=$e(n);if(!e._t)if("F"===e.limitType)e._t=zm(e.path,e.collectionGroup,Ql(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Ql(e))t.push(new ho(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new hc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new hc(e.startAt.position,e.startAt.inclusive):null;e._t=zm(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function Rv(n,e){e.getFirstInequalityField(),Zm(n);const t=n.filters.concat([e]);return new gc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Km(n,e,t){return new gc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Hp(n,e){return $p(_i(n),_i(e))&&n.limitType===e.limitType}function lI(n){return`${pc(_i(n))}|lt:${n.limitType}`}function Nv(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>$m(r)).join(", ")}]`),Up(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>zh(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>zh(r)).join(",")),`Target(${t})`}(_i(n))}; limitType=${n.limitType})`}function Ov(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ge.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Ql(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,l){const m=YE(i,u,l);return i.inclusive?m<=0:m<0}(t.startAt,Ql(t),r)||t.endAt&&!function(i,u,l){const m=YE(i,u,l);return i.inclusive?m>=0:m>0}(t.endAt,Ql(t),r)));var t,r}function dI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function hI(n){return(e,t)=>{let r=!1;for(const i of Ql(n)){const u=Gp(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function Gp(n,e,t){const r=n.field.isKeyField()?Ge.comparator(e.key,t.key):function(i,u,l){const m=u.data.field(i),v=l.data.field(i);return null!==m&&null!==v?dc(m,v):Ke()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ke()}}function kv(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$h(e)?"-0":e}}function Pv(n){return{integerValue:""+n}}function Fv(n,e){return Hh(e)?Pv(e):kv(n,e)}class zp{constructor(){this._=void 0}}function fI(n,e,t){return n instanceof qp?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof mc?mI(n,e):n instanceof Xl?Lv(n,e):function(r,i){const u=gI(r,i),l=Kh(u)+Kh(r.gt);return Bm(u)&&Bm(r.gt)?Pv(l):kv(r.yt,l)}(n,e)}function pI(n,e,t){return n instanceof mc?mI(n,e):n instanceof Xl?Lv(n,e):t}function gI(n,e){return n instanceof Zh?Bm(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class qp extends zp{}class mc extends zp{constructor(e){super(),this.elements=e}}function mI(n,e){const t=yI(e);for(const r of n.elements)t.some(i=>Qo(i,r))||t.push(r);return{arrayValue:{values:t}}}class Xl extends zp{constructor(e){super(),this.elements=e}}function Lv(n,e){let t=yI(e);for(const r of n.elements)t=t.filter(i=>!Qo(i,r));return{arrayValue:{values:t}}}class Zh extends zp{constructor(e,t){super(),this.yt=e,this.gt=t}}function Kh(n){return ar(n.integerValue||n.doubleValue)}function yI(n){return qh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Jl{constructor(e,t){this.field=e,this.transform=t}}class SC{constructor(e,t){this.version=e,this.transformResults=t}}class Tn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Tn}static exists(e){return new Tn(void 0,e)}static updateTime(e){return new Tn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yc(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Ym{}function _I(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new vc(n.key,Tn.none()):new Yh(n.key,n.data,Tn.none());{const t=n.data,r=Hr.empty();let i=new cn(Gn.comparator);for(let u of e.fields)if(!i.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),i=i.add(u)}return new Jo(n.key,r,new Qi(i.toArray()),Tn.none())}}function AC(n,e,t){n instanceof Yh?function(r,i,u){const l=r.value.clone(),m=Xm(r.fieldTransforms,i,u.transformResults);l.setAll(m),i.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Jo?function(r,i,u){if(!yc(r.precondition,i))return void i.convertToUnknownDocument(u.version);const l=Xm(r.fieldTransforms,i,u.transformResults),m=i.data;m.setAll(Vv(r)),m.setAll(l),i.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function _c(n,e,t,r){return n instanceof Yh?function(i,u,l,m){if(!yc(i.precondition,u))return l;const v=i.value.clone(),I=Uv(i.fieldTransforms,m,u);return v.setAll(I),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),null}(n,e,t,r):n instanceof Jo?function(i,u,l,m){if(!yc(i.precondition,u))return l;const v=Uv(i.fieldTransforms,m,u),I=u.data;return I.setAll(Vv(i)),I.setAll(v),u.convertToFoundDocument(u.version,I).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(S=>S.field))}(n,e,t,r):(l=t,yc(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function Qm(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=gI(r.transform,i||null);null!=u&&(null===t&&(t=Hr.empty()),t.set(r.field,u))}return t||null}function vI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ru(t,r,(i,u)=>function Xo(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof mc&&r instanceof mc||t instanceof Xl&&r instanceof Xl?ru(t.elements,r.elements,Qo):t instanceof Zh&&r instanceof Zh?Qo(t.gt,r.gt):t instanceof qp&&r instanceof qp);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Yh extends Ym{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Jo extends Ym{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Vv(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Xm(n,e,t){const r=new Map;st(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],l=u.transform,m=e.data.field(u.field);r.set(u.field,pI(l,m,t[i]))}return r}function Uv(n,e,t){const r=new Map;for(const i of n){const u=i.transform,l=t.data.field(i.field);r.set(i.field,fI(u,l,e))}return r}class vc extends Ym{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wp extends Ym{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wI{constructor(e){this.count=e}}var tr,Jt;function EI(n){switch(n){default:return Ke();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function II(n){if(void 0===n)return Jn("GRPC error has no .code"),ue.UNKNOWN;switch(n){case tr.OK:return ue.OK;case tr.CANCELLED:return ue.CANCELLED;case tr.UNKNOWN:return ue.UNKNOWN;case tr.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case tr.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case tr.INTERNAL:return ue.INTERNAL;case tr.UNAVAILABLE:return ue.UNAVAILABLE;case tr.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case tr.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case tr.NOT_FOUND:return ue.NOT_FOUND;case tr.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case tr.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case tr.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case tr.ABORTED:return ue.ABORTED;case tr.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case tr.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case tr.DATA_LOSS:return ue.DATA_LOSS;default:return Ke()}}(Jt=tr||(tr={}))[Jt.OK=0]="OK",Jt[Jt.CANCELLED=1]="CANCELLED",Jt[Jt.UNKNOWN=2]="UNKNOWN",Jt[Jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jt[Jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jt[Jt.NOT_FOUND=5]="NOT_FOUND",Jt[Jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jt[Jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jt[Jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jt[Jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jt[Jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jt[Jt.ABORTED=10]="ABORTED",Jt[Jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jt[Jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jt[Jt.INTERNAL=13]="INTERNAL",Jt[Jt.UNAVAILABLE=14]="UNAVAILABLE",Jt[Jt.DATA_LOSS=15]="DATA_LOSS";class wc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yo(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return $E(this.inner)}size(){return this.innerSize}}const xC=new er(Ge.comparator);function Oi(){return xC}const Jm=new er(Ge.comparator);function Qh(...n){let e=Jm;for(const t of n)e=e.insert(t.key,t);return e}function bI(n){let e=Jm;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function fo(){return Zp()}function Bv(){return Zp()}function Zp(){return new wc(n=>n.toString(),(n,e)=>n.isEqual(e))}const DI=new er(Ge.comparator),CI=new cn(Ge.comparator);function zt(...n){let e=CI;for(const t of n)e=e.add(t);return e}const TI=new cn(Ft);function ey(){return TI}class Sr{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,ea.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Sr(yt.min(),i,ey(),Oi(),zt())}}class ea{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ea(r,t,zt(),zt(),zt())}}class ty{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class SI{constructor(e,t){this.targetId=e,this.Et=t}}class MC{constructor(e,t,r=Tr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class RC{constructor(){this.At=0,this.Rt=Xh(),this.bt=Tr.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=zt(),t=zt(),r=zt();return this.Rt.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ke()}}),new ea(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=Xh()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class AI{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Oi(),this.qt=jv(),this.Ut=new cn(Ft)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:Ke()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const u=i.target;if(qm(u))if(0===r){const l=new Ge(u.path);this.Qt(t,l,Cn.newNoDocument(l,yt.min()))}else st(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((u,l)=>{const m=this.Yt(l);if(m){if(u.current&&qm(m.target)){const v=new Ge(m.target.path);null!==this.Lt.get(v)||this.te(l,v)||this.Qt(l,v,Cn.newNoDocument(v,e))}u.St&&(t.set(l,u.Ct()),u.xt())}});let r=zt();this.qt.forEach((u,l)=>{let m=!0;l.forEachWhile(v=>{const I=this.Yt(v);return!I||2===I.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.Lt.forEach((u,l)=>l.setReadTime(e));const i=new Sr(e,t,this.Ut,this.Lt,r);return this.Lt=Oi(),this.qt=jv(),this.Ut=new cn(Ft),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new RC,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new cn(Ft),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new RC),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function jv(){return new er(Ge.comparator)}function Xh(){return new er(Ge.comparator)}const NC={asc:"ASCENDING",desc:"DESCENDING"},$v={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OC={and:"AND",or:"OR"};class xI{constructor(e,t){this.databaseId=e,this.wt=t}}function Jh(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MI(n,e){return n.wt?e.toBase64():e.toUint8Array()}function kC(n,e){return Jh(n,e.toTimestamp())}function zn(n){return st(!!n),yt.fromTimestamp(function(e){const t=cc(e);return new Lt(t.seconds,t.nanos)}(n))}function ny(n,e){return(t=n,new tn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Hv(n){const e=tn.fromString(n);return st(Qv(e)),e}function Ec(n,e){return ny(n.databaseId,e.path)}function qs(n,e){const t=Hv(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ge(zv(t))}function RI(n,e){return ny(n.databaseId,e)}function Gv(n){const e=Hv(n);return 4===e.length?tn.emptyPath():zv(e)}function Kp(n){return new tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zv(n){return st(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function ed(n,e,t){return{name:Ec(n,e),fields:t.value.mapValue.fields}}function NI(n,e,t){const r=qs(n,e.name),i=zn(e.updateTime),u=e.createTime?zn(e.createTime):yt.min(),l=new Hr({mapValue:{fields:e.fields}}),m=Cn.newFoundDocument(r,i,u,l);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function ry(n,e){let t;if(e instanceof Yh)t={update:ed(n,e.key,e.value)};else if(e instanceof vc)t={delete:Ec(n,e.key)};else if(e instanceof Jo)t={update:ed(n,e.key,e.data),updateMask:FC(e.fieldMask)};else{if(!(e instanceof Wp))return Ke();t={verify:Ec(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const l=u.transform;if(l instanceof qp)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof mc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Xl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Zh)return{fieldPath:u.field.canonicalString(),increment:l.gt};throw Ke()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:kC(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Ke()),t;var i}function Wv(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Tn.updateTime(zn(i.updateTime)):void 0!==i.exists?Tn.exists(i.exists):Tn.none():Tn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,l){let m=null;"setToServerValue"in l?(st("REQUEST_TIME"===l.setToServerValue),m=new qp):"appendMissingElements"in l?m=new mc(l.appendMissingElements.values||[]):"removeAllFromArray"in l?m=new Xl(l.removeAllFromArray.values||[]):"increment"in l?m=new Zh(u,l.increment):Ke();const v=Gn.fromServerFormat(l.fieldPath);return new Jl(v,m)}(n,i)):[];var i;if(e.update){const i=qs(n,e.update.name),u=new Hr({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Qi((e.updateMask.fieldPaths||[]).map(I=>Gn.fromServerFormat(I)));return new Jo(i,u,l,t,r)}return new Yh(i,u,t,r)}if(e.delete){const i=qs(n,e.delete);return new vc(i,t)}if(e.verify){const i=qs(n,e.verify);return new Wp(i,t)}return Ke()}function kI(n,e){return{documents:[RI(n,e.path)]}}function Zv(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=RI(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=RI(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(v){if(0!==v.length)return Yv(un.create(v,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const u=function(v){if(0!==v.length)return v.map(I=>{return{field:ef((S=I).field),direction:PC(S.dir)};var S})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=(I=e.limit,n.wt||Up(I)?I:{value:I});var I,m,v;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function PI(n){let e=Gv(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){st(1===r);const S=t.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let u=[];t.where&&(u=function(S){const N=Kv(S);return N instanceof un&&Iv(N)?N.getFilters():[N]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(S=>{return new ho(tf((N=S).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction));var N}));let m=null;t.limit&&(m=function(S){let N;return N="object"==typeof S?S.value:S,Up(N)?null:N}(t.limit));let v=null;var S;t.startAt&&(v=new hc((S=t.startAt).values||[],!!S.before));let I=null;return t.endAt&&(I=function(S){return new hc(S.values||[],!S.before)}(t.endAt)),xv(e,i,l,u,m,"F",v,I)}function Kv(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=tf(e.unaryFilter.field);return Xt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=tf(e.unaryFilter.field);return Xt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=tf(e.unaryFilter.field);return Xt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=tf(e.unaryFilter.field);return Xt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ke()}}(n):void 0!==n.fieldFilter?Xt.create(tf((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ke()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return un.create(e.compositeFilter.filters.map(t=>Kv(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Ke()}}(e.compositeFilter.op))}(n):Ke();var e}function PC(n){return NC[n]}function LI(n){return $v[n]}function VI(n){return OC[n]}function ef(n){return{fieldPath:n.canonicalString()}}function tf(n){return Gn.fromServerFormat(n.fieldPath)}function Yv(n){return n instanceof Xt?function(e){if("=="===e.op){if(zE(e.value))return{unaryFilter:{field:ef(e.field),op:"IS_NAN"}};if(GE(e.value))return{unaryFilter:{field:ef(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(zE(e.value))return{unaryFilter:{field:ef(e.field),op:"IS_NOT_NAN"}};if(GE(e.value))return{unaryFilter:{field:ef(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ef(e.field),op:LI(e.op),value:e.value}}}(n):n instanceof un?function(e){const t=e.getFilters().map(r=>Yv(r));return 1===t.length?t[0]:{compositeFilter:{op:VI(e.op),filters:t}}}(n):Ke()}function FC(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Qv(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function vi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Xv(e)),e=UI(n.get(t),e);return Xv(e)}function UI(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const u=n.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Xv(n){return n+"\x01\x01"}function ta(n){const e=n.length;if(st(e>=2),2===e)return st("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),tn.emptyPath();const t=e-2,r=[];let i="";for(let u=0;u<e;){const l=n.indexOf("\x01",u);switch((l<0||l>t)&&Ke(),n.charAt(l+1)){case"\x01":const m=n.substring(u,l);let v;0===i.length?v=m:(i+=m,v=i,i=""),r.push(v);break;case"\x10":i+=n.substring(u,l),i+="\0";break;case"\x11":i+=n.substring(u,l+1);break;default:Ke()}u=l+2}return new tn(r)}const BI=["userId","batchId"];function Jv(n,e){return[n,vi(e)]}function e0(n,e,t){return[n,vi(e),t]}const ox={},ax=["prefixPath","collectionGroup","readTime","documentId"],ux=["prefixPath","collectionGroup","documentId"],cx=["collectionGroup","readTime","prefixPath","documentId"],lx=["canonicalId","targetId"],dx=["targetId","path"],hx=["path","targetId"],fx=["collectionId","parent"],iy=["indexId","uid"],px=["uid","sequenceNumber"],jI=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],sy=["indexId","uid","orderedDocumentKey"],$I=["userId","collectionPath","documentId"],HI=["userId","collectionPath","largestBatchId"],gx=["userId","collectionGroup","largestBatchId"],oy=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],GI=[...oy,"documentOverlays"],zI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],t0=zI,mx=[...t0,"indexConfiguration","indexState","indexEntries"];class qI extends mv{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function Gr(n,e){const t=$e(n);return lo.M(t.se,e)}class n0{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&AC(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=_c(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=_c(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Bv();return this.mutations.forEach(i=>{const u=e.get(i.key),l=u.overlayedDocument;let m=this.applyToLocalView(l,u.mutatedFields);m=t.has(i.key)?null:m;const v=_I(l,m);null!==v&&r.set(i.key,v),l.isValidDocument()||l.convertToNoDocument(yt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),zt())}isEqual(e){return this.batchId===e.batchId&&ru(this.mutations,e.mutations,(t,r)=>vI(t,r))&&ru(this.baseMutations,e.baseMutations,(t,r)=>vI(t,r))}}class nf{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){st(e.mutations.length===r.length);let i=DI;const u=e.mutations;for(let l=0;l<u.length;l++)i=i.insert(u[l].key,r[l].version);return new nf(e,t,r,i)}}class r0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class td{constructor(e,t,r,i,u=yt.min(),l=yt.min(),m=Tr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=m}withSequenceNumber(e){return new td(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new td(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new td(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class LC{constructor(e){this.ie=e}}function WI(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ay(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Ec(i=n.ie,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Jh(i,u.version.toTimestamp()),createTime:Jh(i,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:nd(e.version)};else{if(!e.isUnknownDocument())return Ke();r.unknownDocument={path:t.path.toArray(),version:nd(e.version)}}var i,u;return r}function ay(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function nd(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function rf(n){const e=new Lt(n.seconds,n.nanoseconds);return yt.fromTimestamp(e)}function rd(n,e){const t=(e.baseMutations||[]).map(u=>Wv(n.ie,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const r=e.mutations.map(u=>Wv(n.ie,u)),i=Lt.fromMillis(e.localWriteTimeMs);return new n0(e.batchId,i,t,r)}function sf(n){const e=rf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?rf(n.lastLimboFreeSnapshotVersion):yt.min();let r;var i;return void 0!==n.query.documents?(st(1===(i=n.query).documents.length),r=_i(Wh(Gv(i.documents[0])))):r=_i(PI(n.query)),new td(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Tr.fromBase64String(n.resumeToken))}function s0(n,e){const t=nd(e.snapshotVersion),r=nd(e.lastLimboFreeSnapshotVersion);let i;i=qm(e.target)?kI(n.ie,e.target):Zv(n.ie,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:pc(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function ZI(n){const e=PI({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Km(e,e.limit,"L"):e}function gs(n,e){return new r0(e.largestBatchId,Wv(n.ie,e.overlayMutation))}function KI(n,e){const t=e.path.lastSegment();return[n,vi(e.path.popLast()),t]}function uy(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:nd(r.readTime),documentKey:vi(r.documentKey.path),largestBatchId:r.largestBatchId}}class VC{getBundleMetadata(e,t){return UC(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:rf(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return UC(e).put({bundleId:(r=t).id,createTime:nd(zn(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return ms(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:ZI(i.bundledQuery),readTime:rf(i.readTime)};var i})}saveNamedQuery(e,t){return ms(e).put({name:(r=t).name,readTime:nd(zn(r.readTime)),bundledQuery:r.bundledQuery});var r}}function UC(n){return Gr(n,"bundles")}function ms(n){return Gr(n,"namedQueries")}class cy{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new cy(e,t.uid||"")}getOverlay(e,t){return id(e).get(KI(this.userId,t)).next(r=>r?gs(this.yt,r):null)}getOverlays(e,t){const r=fo();return re.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((u,l)=>{const m=new r0(t,l);i.push(this.oe(e,m))}),re.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(vi(l.getCollectionPath())));const u=[];return i.forEach(l=>{const m=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);u.push(id(e).Y("collectionPathOverlayIndex",m))}),re.waitFor(u)}getOverlaysForCollection(e,t,r){const i=fo(),u=vi(t),l=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return id(e).W("collectionPathOverlayIndex",l).next(m=>{for(const v of m){const I=gs(this.yt,v);i.set(I.getKey(),I)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const u=fo();let l;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return id(e).Z({index:"collectionGroupOverlayIndex",range:m},(v,I,S)=>{const N=gs(this.yt,I);u.size()<i||N.largestBatchId===l?(u.set(N.getKey(),N),l=N.largestBatchId):S.done()}).next(()=>u)}oe(e,t){return id(e).put(function(r,i,u){const[l,m,v]=KI(i,u.mutation.key);return{userId:i,collectionPath:m,documentId:v,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:ry(r.ie,u.mutation)}}(this.yt,this.userId,t))}}function id(n){return Gr(n,"documentOverlays")}class sd{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(ar(e.integerValue));else if("doubleValue"in e){const r=ar(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),$h(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(Wl(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?qE(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Ke()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),Ge.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function BC(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function ly(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const u=BC(255&t[i]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}sd.Ie=new sd;class YI{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ee(r.value),r=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.be(r.value),r=t.next();this.Pe()}ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const i=t.codePointAt(0);this.Ee(240|i>>>18),this.Ee(128|63&i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i)}}this.Ae()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=t.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Pe()}Se(e){const t=this.De(e),r=ly(t);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}xe(e){const t=this.De(e),r=ly(t);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class QI{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class jC{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class af{constructor(){this.$e=new YI,this.Be=new QI(this.$e),this.Le=new jC(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class Ic{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ic(this.indexId,this.documentKey,this.arrayValue,r)}}function bc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=o0(n.arrayValue,e.arrayValue),0!==t?t:(t=o0(n.directionalValue,e.directionalValue),0!==t?t:Ge.comparator(n.documentKey,e.documentKey)))}function o0(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class $C{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const r=t;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){st(e.collectionGroup===this.collectionId);const t=km(e);if(void 0!==t&&!this.We(t))return!1;const r=Hl(e);let i=0,u=0;for(;i<r.length&&this.We(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Qe){const l=r[i];if(!this.ze(this.Qe,l)||!this.He(this.Ke[u++],l))return!1;++i}for(;i<r.length;++i)if(u>=this.Ke.length||!this.He(this.Ke[u++],r[i]))return!1;return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function dy(n){var e,t;if(st(n instanceof Xt||n instanceof un),n instanceof Xt){if(n instanceof Hm){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>Xt.create(n.field,"==",u)))||[];return un.create(i,"or")}return n}const r=n.filters.map(i=>dy(i));return un.create(r,n.op)}function Dc(n){if(0===n.getFilters().length)return[];const e=a0(dy(n));return st(na(e)),hy(e)||Yp(e)?[e]:e.getFilters()}function hy(n){return n instanceof Xt}function Yp(n){return n instanceof un&&Iv(n)}function na(n){return hy(n)||Yp(n)||function(e){if(e instanceof un&&Ev(e)){for(const t of e.getFilters())if(!hy(t)&&!Yp(t))return!1;return!0}return!1}(n)}function a0(n){if(st(n instanceof Xt||n instanceof un),n instanceof Xt)return n;if(1===n.filters.length)return a0(n.filters[0]);const e=n.filters.map(r=>a0(r));let t=un.create(e,n.op);return t=fy(t),na(t)?t:(st(t instanceof un),st(Yl(t)),st(t.filters.length>1),t.filters.reduce((r,i)=>XI(r,i)))}function XI(n,e){let t;return st(n instanceof Xt||n instanceof un),st(e instanceof Xt||e instanceof un),t=n instanceof Xt?e instanceof Xt?un.create([n,e],"and"):JI(n,e):e instanceof Xt?JI(e,n):function(r,i){if(st(r.filters.length>0&&i.filters.length>0),Yl(r)&&Yl(i))return eI(r,i.getFilters());const u=Ev(r)?r:i,l=Ev(r)?i:r,m=u.filters.map(v=>XI(v,l));return un.create(m,"or")}(n,e),fy(t)}function JI(n,e){if(Yl(e))return eI(e,n.getFilters());{const t=e.filters.map(r=>XI(n,r));return un.create(t,"or")}}function fy(n){if(st(n instanceof Xt||n instanceof un),n instanceof Xt)return n;const e=n.getFilters();if(1===e.length)return fy(e[0]);if(bv(n))return n;const t=e.map(i=>fy(i)),r=[];return t.forEach(i=>{i instanceof Xt?r.push(i):i instanceof un&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:un.create(r,n.op)}class HC{constructor(){this.Je=new u0}addToCollectionParentIndex(e,t){return this.Je.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(yi.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(yi.min())}updateCollectionGroup(e,t,r){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class u0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new cn(tn.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new cn(tn.comparator)).toArray()}}const Qp=new Uint8Array(0);class _x{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new u0,this.Xe=new wc(r=>pc(r),(r,i)=>$p(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const u={collectionId:r,parent:vi(i)};return c0(e).put(u)}return re.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Pp(t),""],!1,!0);return c0(e).W(i).next(u=>{for(const l of u){if(l.collectionId!==t)break;r.push(ta(l.parent))}return r})}addFieldIndex(e,t){const r=Jp(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var l;delete i.indexId;const u=r.add(i);if(t.indexState){const l=py(e);return u.next(m=>{l.put(uy(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=Jp(e),i=py(e),u=Xp(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Xp(e);let i=!0;const u=new Map;return re.forEach(this.Ze(t),l=>this.tn(e,l).next(m=>{i&&(i=!!m),u.set(l,m)})).next(()=>{if(i){let l=zt();const m=[];return re.forEach(u,(v,I)=>{var S;Ne("IndexedDbIndexManager",`Using index ${S=v,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(ot=>`${ot.fieldPath}:${ot.kind}`).join(",")}`} to execute ${pc(t)}`);const N=function(ot,it){const Ct=km(it);if(void 0===Ct)return null;for(const Ut of Wm(ot,Ct.fieldPath))switch(Ut.op){case"array-contains-any":return Ut.value.arrayValue.values||[];case"array-contains":return[Ut.value]}return null}(I,v),V=function(ot,it){const Ct=new Map;for(const Ut of Hl(it))for(const lr of Wm(ot,Ut.fieldPath))switch(lr.op){case"==":case"in":Ct.set(Ut.fieldPath.canonicalString(),lr.value);break;case"not-in":case"!=":return Ct.set(Ut.fieldPath.canonicalString(),lr.value),Array.from(Ct.values())}return null}(I,v),G=function(ot,it){const Ct=[];let Ut=!0;for(const lr of Hl(it)){const cu=0===lr.kind?aI(ot,lr.fieldPath,ot.startAt):Av(ot,lr.fieldPath,ot.startAt);Ct.push(cu.value),Ut&&(Ut=cu.inclusive)}return new hc(Ct,Ut)}(I,v),Q=function(ot,it){const Ct=[];let Ut=!0;for(const lr of Hl(it)){const cu=0===lr.kind?Av(ot,lr.fieldPath,ot.endAt):aI(ot,lr.fieldPath,ot.endAt);Ct.push(cu.value),Ut&&(Ut=cu.inclusive)}return new hc(Ct,Ut)}(I,v),we=this.en(v,I,G),be=this.en(v,I,Q),tt=this.nn(v,I,V),Et=this.sn(v.indexId,N,we,G.inclusive,be,Q.inclusive,tt);return re.forEach(Et,ot=>r.J(ot,t.limit).next(it=>{it.forEach(Ct=>{const Ut=Ge.fromSegments(Ct.documentKey);l.has(Ut)||(l=l.add(Ut),m.push(Ut))})}))}).next(()=>m)}return re.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:Dc(un.create(e.filters,"and")).map(r=>zm(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,r,i,u,l,m){const v=(null!=t?t.length:1)*Math.max(r.length,u.length),I=v/(null!=t?t.length:1),S=[];for(let N=0;N<v;++N){const V=t?this.rn(t[N/I]):Qp,G=this.on(e,V,r[N%I],i),Q=this.un(e,V,u[N%I],l),we=m.map(be=>this.on(e,V,be,!0));S.push(...this.createRange(G,Q,we))}return S}on(e,t,r,i){const u=new Ic(e,Ge.empty(),t,r);return i?u:u.Ue()}un(e,t,r,i){const u=new Ic(e,Ge.empty(),t,r);return i?u.Ue():u}tn(e,t){const r=new $C(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(u=>{let l=null;for(const m of u)r.je(m)&&(!l||m.fields.length>l.fields.length)&&(l=m);return l})}getIndexType(e,t){let r=2;const i=this.Ze(t);return re.forEach(i,u=>this.tn(e,u).next(l=>{l?0!==r&&l.fields.length<function(m){let v=new cn(Gn.comparator),I=!1;for(const S of m.filters)for(const N of S.getFlattenedFilters())N.field.isKeyField()||("array-contains"===N.op||"array-contains-any"===N.op?I=!0:v=v.add(N.field));for(const S of m.orderBy)S.field.isKeyField()||(v=v.add(S.field));return v.size+(I?1:0)}(u)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}cn(e,t){const r=new af;for(const i of Hl(e)){const u=t.data.field(i.fieldPath);if(null==u)return null;const l=r.qe(i.kind);sd.Ie.ue(u,l)}return r.Fe()}rn(e){const t=new af;return sd.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const r=new af;return sd.Ie.ue(Zl(this.databaseId,t),r.qe(function(i){const u=Hl(i);return 0===u.length?0:u[u.length-1].kind}(e))),r.Fe()}nn(e,t,r){if(null===r)return[];let i=[];i.push(new af);let u=0;for(const l of Hl(e)){const m=r[u++];for(const v of i)if(this.hn(t,l.fieldPath)&&qh(m))i=this.ln(i,l,m);else{const I=v.qe(l.kind);sd.Ie.ue(m,I)}}return this.fn(i)}en(e,t,r){return this.nn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Fe();return t}ln(e,t,r){const i=[...e],u=[];for(const l of r.arrayValue.values||[])for(const m of i){const v=new af;v.seed(m.Fe()),sd.Ie.ue(l,v.qe(t.kind)),u.push(v)}return u}hn(e,t){return!!e.filters.find(r=>r instanceof Xt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Jp(e),i=py(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(u=>{const l=[];return re.forEach(u,m=>i.get([m.indexId,this.uid]).next(v=>{l.push(function(I,S){const N=S?new Vp(S.sequenceNumber,new yi(rf(S.readTime),new Ge(ta(S.documentKey)),S.largestBatchId)):Vp.empty(),V=I.fields.map(([G,Q])=>new Pm(Gn.fromServerFormat(G),Q));return new Fp(I.indexId,I.collectionGroup,V,N)}(m,v))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const u=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==u?u:Ft(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Jp(e),u=py(e);return this.dn(e).next(l=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>re.forEach(m,v=>u.put(uy(v.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return re.forEach(t,(i,u)=>{const l=r.get(i.collectionGroup);return(l?re.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(m=>(r.set(i.collectionGroup,m),re.forEach(m,v=>this._n(e,i,v).next(I=>{const S=this.wn(u,v);return I.isEqual(S)?re.resolve():this.mn(e,u,v,I,S)}))))})}gn(e,t,r,i){return Xp(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(r,t.key),documentKey:t.key.path.toArray()})}yn(e,t,r,i){return Xp(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(r,t.key),t.key.path.toArray()])}_n(e,t,r){const i=Xp(e);let u=new cn(bc);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,t)])},(l,m)=>{u=u.add(new Ic(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}wn(e,t){let r=new cn(bc);const i=this.cn(t,e);if(null==i)return r;const u=km(t);if(null!=u){const l=e.data.field(u.fieldPath);if(qh(l))for(const m of l.arrayValue.values||[])r=r.add(new Ic(t.indexId,e.key,this.rn(m),i))}else r=r.add(new Ic(t.indexId,e.key,Qp,i));return r}mn(e,t,r,i,u){Ne("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(m,v,I,S,N){const V=m.getIterator(),G=v.getIterator();let Q=fc(V),we=fc(G);for(;Q||we;){let be=!1,tt=!1;if(Q&&we){const Et=I(Q,we);Et<0?tt=!0:Et>0&&(be=!0)}else null!=Q?tt=!0:be=!0;be?(S(we),we=fc(G)):tt?(N(Q),Q=fc(V)):(Q=fc(V),we=fc(G))}}(i,u,bc,m=>{l.push(this.gn(e,t,r,m))},m=>{l.push(this.yn(e,t,r,m))}),re.waitFor(l)}dn(e){let t=1;return py(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,u)=>{u.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,m)=>bc(l,m)).filter((l,m,v)=>!m||0!==bc(l,v[m-1]));const i=[];i.push(e);for(const l of r){const m=bc(l,e),v=bc(l,t);if(0===m)i[0]=e.Ue();else if(m>0&&v<0)i.push(l),i.push(l.Ue());else if(v>0)break}i.push(t);const u=[];for(let l=0;l<i.length;l+=2){if(this.pn(i[l],i[l+1]))return[];u.push(IDBKeyRange.bound([i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,Qp,[]],[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,Qp,[]]))}return u}pn(e,t){return bc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(gy)}getMinOffset(e,t){return re.mapArray(this.Ze(t),r=>this.tn(e,r).next(i=>i||Ke())).next(gy)}}function c0(n){return Gr(n,"collectionParents")}function Xp(n){return Gr(n,"indexEntries")}function Jp(n){return Gr(n,"indexConfiguration")}function py(n){return Gr(n,"indexState")}function gy(n){st(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Fm(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new yi(e.readTime,e.documentKey,t)}const l0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ki{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ki(e,ki.DEFAULT_COLLECTION_PERCENTILE,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function d0(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),u=[],l=IDBKeyRange.only(t.batchId);let m=0;const v=r.Z({range:l},(S,N,V)=>(m++,V.delete()));u.push(v.next(()=>{st(1===m)}));const I=[];for(const S of t.mutations){const N=e0(e,S.key.path,t.batchId);u.push(i.delete(N)),I.push(S.key)}return re.waitFor(u).next(()=>I)}function eg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ke();e=n.noDocument}return JSON.stringify(e).length}ki.DEFAULT_COLLECTION_PERCENTILE=10,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ki.DEFAULT=new ki(41943040,ki.DEFAULT_COLLECTION_PERCENTILE,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ki.DISABLED=new ki(-1,0,0);class tg{constructor(e,t,r,i){this.userId=e,this.yt=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static re(e,t,r,i){st(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new tg(u,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return po(e).Z({index:"userMutationsIndex",range:r},(i,u,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const u=od(e),l=po(e);return l.add({}).next(m=>{st("number"==typeof m);const v=new n0(m,t,r,i),I=function(V,G,Q){const we=Q.baseMutations.map(tt=>ry(V.ie,tt)),be=Q.mutations.map(tt=>ry(V.ie,tt));return{userId:G,batchId:Q.batchId,localWriteTimeMs:Q.localWriteTime.toMillis(),baseMutations:we,mutations:be}}(this.yt,this.userId,v),S=[];let N=new cn((V,G)=>Ft(V.canonicalString(),G.canonicalString()));for(const V of i){const G=e0(this.userId,V.key.path,m);N=N.add(V.key.path.popLast()),S.push(l.put(I)),S.push(u.put(G,ox))}return N.forEach(V=>{S.push(this.indexManager.addToCollectionParentIndex(e,V))}),e.addOnCommittedListener(()=>{this.In[m]=v.keys()}),re.waitFor(S).next(()=>v)})}lookupMutationBatch(e,t){return po(e).get(t).next(r=>r?(st(r.userId===this.userId),rd(this.yt,r)):null)}Tn(e,t){return this.In[t]?re.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return po(e).Z({index:"userMutationsIndex",range:i},(l,m,v)=>{m.userId===this.userId&&(st(m.batchId>=r),u=rd(this.yt,m)),v.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return po(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,u,l)=>{r=u.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return po(e).W("userMutationsIndex",t).next(r=>r.map(i=>rd(this.yt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Jv(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return od(e).Z({range:i},(l,m,v)=>{const[I,S,N]=l,V=ta(S);if(I===this.userId&&t.path.isEqual(V))return po(e).get(N).next(G=>{if(!G)throw Ke();st(G.userId===this.userId),u.push(rd(this.yt,G))});v.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new cn(Ft);const i=[];return t.forEach(u=>{const l=Jv(this.userId,u.path),m=IDBKeyRange.lowerBound(l),v=od(e).Z({range:m},(I,S,N)=>{const[V,G,Q]=I,we=ta(G);V===this.userId&&u.path.isEqual(we)?r=r.add(Q):N.done()});i.push(v)}),re.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,u=Jv(this.userId,r),l=IDBKeyRange.lowerBound(u);let m=new cn(Ft);return od(e).Z({range:l},(v,I,S)=>{const[N,V,G]=v,Q=ta(V);N===this.userId&&r.isPrefixOf(Q)?Q.length===i&&(m=m.add(G)):S.done()}).next(()=>this.En(e,m))}En(e,t){const r=[],i=[];return t.forEach(u=>{i.push(po(e).get(u).next(l=>{if(null===l)throw Ke();st(l.userId===this.userId),r.push(rd(this.yt,l))}))}),re.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return d0(e.se,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),re.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return re.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return od(e).Z({range:r},(u,l,m)=>{if(u[0]===this.userId){const v=ta(u[1]);i.push(v)}else m.done()}).next(()=>{st(0===i.length)})})}containsKey(e,t){return ng(e,this.userId,t)}Rn(e){return eb(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ng(n,e,t){const r=Jv(e,t.path),i=r[1],u=IDBKeyRange.lowerBound(r);let l=!1;return od(n).Z({range:u,X:!0},(m,v,I)=>{const[S,N,V]=m;S===e&&N===i&&(l=!0),I.done()}).next(()=>l)}function po(n){return Gr(n,"mutations")}function od(n){return Gr(n,"documentMutations")}function eb(n){return Gr(n,"mutationQueues")}class ad{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new ad(0)}static vn(){return new ad(-1)}}class vx{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new ad(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>yt.fromTimestamp(new Lt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>rg(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(st(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const u=[];return rg(e).Z((l,m)=>{const v=sf(m);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(i++,u.push(this.removeTargetData(e,v)))}).next(()=>re.waitFor(u)).next(()=>i)}forEachTarget(e,t){return rg(e).Z((r,i)=>{const u=sf(i);t(u)})}Vn(e){return GC(e).get("targetGlobalKey").next(t=>(st(null!==t),t))}Sn(e,t){return GC(e).put("targetGlobalKey",t)}Dn(e,t){return rg(e).put(s0(this.yt,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=pc(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return rg(e).Z({range:i,index:"queryTargetsIndex"},(l,m,v)=>{const I=sf(m);$p(t,I.target)&&(u=I,v.done())}).next(()=>u)}addMatchingKeys(e,t,r){const i=[],u=su(e);return t.forEach(l=>{const m=vi(l.path);i.push(u.put({targetId:r,path:m})),i.push(this.referenceDelegate.addReference(e,r,l))}),re.waitFor(i)}removeMatchingKeys(e,t,r){const i=su(e);return re.forEach(t,u=>{const l=vi(u.path);return re.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=su(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=su(e);let u=zt();return i.Z({range:r,X:!0},(l,m,v)=>{const I=ta(l[1]),S=new Ge(I);u=u.add(S)}).next(()=>u)}containsKey(e,t){const r=vi(t.path),i=IDBKeyRange.bound([r],[Pp(r)],!1,!0);let u=0;return su(e).Z({index:"documentTargetsIndex",X:!0,range:i},([l,m],v,I)=>{0!==l&&(u++,I.done())}).next(()=>u>0)}ne(e,t){return rg(e).get(t).next(r=>r?sf(r):null)}}function rg(n){return Gr(n,"targets")}function GC(n){return Gr(n,"targetGlobal")}function su(n){return Gr(n,"targetDocuments")}function tb([n,e],[t,r]){const i=Ft(n,t);return 0===i?Ft(e,r):i}class zC{constructor(e){this.xn=e,this.buffer=new cn(tb),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();tb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qC{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Ne("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,pe.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){iu(r)?Ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield uc(r)}yield t.Fn(3e5)}))}}class wx{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return re.resolve(Gs.at);const r=new zC(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(l0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),l0):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let r,i,u,l,m,v,I;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),i=this.params.maximumSequenceNumbersToCollect):i=N,l=Date.now(),this.nthSequenceNumber(e,i))).next(N=>(r=N,m=Date.now(),this.removeTargets(e,r,t))).next(N=>(u=N,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(N=>(I=Date.now(),Nm()<=zo.in.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-S}ms\n\tDetermined least recently used ${i} in `+(m-l)+`ms\n\tRemoved ${u} targets in `+(v-m)+`ms\n\tRemoved ${N} documents in `+(I-v)+`ms\nTotal Duration: ${I-S}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:N})))}}class Ex{constructor(e,t){this.db=e,this.garbageCollector=new wx(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Un(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return h0(e,r)}removeReference(e,t,r){return h0(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return h0(e,t)}Gn(e,t){return function(r,i){let u=!1;return eb(r).tt(l=>ng(r,l,i).next(m=>(m&&(u=!0),re.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.Kn(e,(l,m)=>{if(m<=t){const v=this.Gn(e,l).next(I=>{if(!I)return u++,r.getEntry(e,l).next(()=>(r.removeEntry(l,yt.min()),su(e).delete([0,vi(l.path)])))});i.push(v)}}).next(()=>re.waitFor(i)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return h0(e,t)}Kn(e,t){const r=su(e);let i,u=Gs.at;return r.Z({index:"documentTargetsIndex"},([l,m],{path:v,sequenceNumber:I})=>{0===l?(u!==Gs.at&&t(new Ge(ta(i)),u),u=I,i=v):u=Gs.at}).next(()=>{u!==Gs.at&&t(new Ge(ta(i)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function h0(n,e){return su(n).put((r=n.currentSequenceNumber,{targetId:0,path:vi(e.path),sequenceNumber:r}));var r}class WC{constructor(){this.changes=new wc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?re.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ix{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ud(e).put(r)}removeEntry(e,t,r){return ud(e).delete(function(i,u){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],ay(u),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Cn.newInvalidDocument(t);return ud(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(uf(t))},(i,u)=>{r=this.jn(t,u)}).next(()=>r)}Wn(e,t){let r={size:0,document:Cn.newInvalidDocument(t)};return ud(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(uf(t))},(i,u)=>{r={document:this.jn(t,u),size:eg(u)}}).next(()=>r)}getEntries(e,t){let r=Oi();return this.zn(e,t,(i,u)=>{const l=this.jn(i,u);r=r.insert(i,l)}).next(()=>r)}Hn(e,t){let r=Oi(),i=new er(Ge.comparator);return this.zn(e,t,(u,l)=>{const m=this.jn(u,l);r=r.insert(u,m),i=i.insert(u,eg(l))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return re.resolve();let i=new cn(f0);t.forEach(v=>i=i.add(v));const u=IDBKeyRange.bound(uf(i.first()),uf(i.last())),l=i.getIterator();let m=l.getNext();return ud(e).Z({index:"documentKeyIndex",range:u},(v,I,S)=>{const N=Ge.fromSegments([...I.prefixPath,I.collectionGroup,I.documentId]);for(;m&&f0(m,N)<0;)r(m,null),m=l.getNext();m&&m.isEqual(N)&&(r(m,I),m=l.hasNext()?l.getNext():null),m?S.j(uf(m)):S.done()}).next(()=>{for(;m;)r(m,null),m=l.hasNext()?l.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),ay(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ud(e).W(IDBKeyRange.bound(i,u,!0)).next(l=>{let m=Oi();for(const v of l){const I=this.jn(Ge.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);m=m.insert(I.key,I)}return m})}getAllFromCollectionGroup(e,t,r,i){let u=Oi();const l=Cc(t,r),m=Cc(t,yi.max());return ud(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,m,!0)},(v,I,S)=>{const N=this.jn(Ge.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);u=u.insert(N.key,N),u.size===i&&S.done()}).next(()=>u)}newChangeBuffer(e){return new my(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return rb(e).get("remoteDocumentGlobalKey").next(t=>(st(!!t),t))}Qn(e,t){return rb(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function yx(n,e){let t;if(e.document)t=NI(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ge.fromSegments(e.noDocument.path),i=rf(e.noDocument.readTime);t=Cn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ke();{const r=Ge.fromSegments(e.unknownDocument.path),i=rf(e.unknownDocument.version);t=Cn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Lt(r[0],r[1]);return yt.fromTimestamp(i)}(e.readTime)),t}(this.yt,t);if(!r.isNoDocument()||!r.version.isEqual(yt.min()))return r}return Cn.newInvalidDocument(e)}}function nb(n){return new Ix(n)}class my extends WC{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new wc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new cn((u,l)=>Ft(u.canonicalString(),l.canonicalString()));return this.changes.forEach((u,l)=>{const m=this.Xn.get(u);if(t.push(this.Yn.removeEntry(e,u,m.readTime)),l.isValidDocument()){const v=WI(this.Yn.yt,l);i=i.add(u.path.popLast());const I=eg(v);r+=I-m.size,t.push(this.Yn.addEntry(e,u,v))}else if(r-=m.size,this.trackRemovals){const v=WI(this.Yn.yt,l.convertToNoDocument(yt.min()));t.push(this.Yn.addEntry(e,u,v))}}),i.forEach(u=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Yn.updateMetadata(e,r)),re.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((u,l)=>{this.Xn.set(u,{size:l,readTime:r.get(u).readTime})}),r))}}function rb(n){return Gr(n,"remoteDocumentGlobal")}function ud(n){return Gr(n,"remoteDocumentsV14")}function uf(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Cc(n,e){const t=e.documentKey.path.toArray();return[n,ay(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function f0(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(i=Ft(t[u],r[u]),i)return i;return i=Ft(t.length,r.length),i||(i=Ft(t[t.length-2],r[r.length-2]),i||Ft(t[t.length-1],r[r.length-1]))}class p0{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class yy{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&_c(r.mutation,i,Qi.empty(),Lt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,zt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=zt()){const i=fo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let l=Qh();return u.forEach((m,v)=>{l=l.insert(m,v.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=fo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,zt()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((l,m)=>{t.set(l,m)})})}computeViews(e,t,r,i){let u=Oi();const l=Zp(),m=Zp();return t.forEach((v,I)=>{const S=r.get(I.key);i.has(I.key)&&(void 0===S||S.mutation instanceof Jo)?u=u.insert(I.key,I):void 0!==S?(l.set(I.key,S.mutation.getFieldMask()),_c(S.mutation,I,S.mutation.getFieldMask(),Lt.now())):l.set(I.key,Qi.empty())}),this.recalculateAndSaveOverlays(e,u).next(v=>(v.forEach((I,S)=>l.set(I,S)),t.forEach((I,S)=>{var N;return m.set(I,new p0(S,null!==(N=l.get(I))&&void 0!==N?N:null))}),m))}recalculateAndSaveOverlays(e,t){const r=Zp();let i=new er((l,m)=>l-m),u=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const m of l)m.keys().forEach(v=>{const I=t.get(v);if(null===I)return;let S=r.get(v)||Qi.empty();S=m.applyToLocalView(I,S),r.set(v,S);const N=(i.get(m.batchId)||zt()).add(v);i=i.insert(m.batchId,N)})}).next(()=>{const l=[],m=i.getReverseIterator();for(;m.hasNext();){const v=m.getNext(),I=v.key,S=v.value,N=Bv();S.forEach(V=>{if(!u.has(V)){const G=_I(t.get(V),r.get(V));null!==G&&N.set(V,G),u=u.add(V)}}),l.push(this.documentOverlayCache.saveOverlays(e,I,N))}return re.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ge.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Mv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const l=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):re.resolve(fo());let m=-1,v=u;return l.next(I=>re.forEach(I,(S,N)=>(m<N.largestBatchId&&(m=N.largestBatchId),u.get(S)?re.resolve():this.remoteDocumentCache.getEntry(e,S).next(V=>{v=v.insert(S,V)}))).next(()=>this.populateOverlays(e,I,u)).next(()=>this.computeViews(e,v,I,zt())).next(S=>({batchId:m,changes:bI(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ge(t)).next(r=>{let i=Qh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=Qh();return this.indexManager.getCollectionParents(e,i).next(l=>re.forEach(l,m=>{const v=(I=t,S=m.child(i),new gc(S,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt));var I,S;return this.getDocumentsMatchingCollectionQuery(e,v,r).next(I=>{I.forEach((S,N)=>{u=u.insert(S,N)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(i=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((m,v)=>{const I=v.getKey();null===i.get(I)&&(i=i.insert(I,Cn.newInvalidDocument(I)))});let l=Qh();return i.forEach((m,v)=>{const I=u.get(m);void 0!==I&&_c(I.mutation,v,Qi.empty(),Lt.now()),Ov(t,v)&&(l=l.insert(m,v))}),l})}}class ZC{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return re.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:zn(r.createTime)}),re.resolve()}getNamedQuery(e,t){return re.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:ZI(r.bundledQuery),readTime:zn(r.readTime)}),re.resolve();var r}}class g0{constructor(){this.overlays=new er(Ge.comparator),this.es=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const r=fo();return re.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.oe(e,t,u)}),re.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(r)),re.resolve()}getOverlaysForCollection(e,t,r){const i=fo(),u=t.length+1,l=new Ge(t.child("")),m=this.overlays.getIteratorFrom(l);for(;m.hasNext();){const v=m.getNext().value,I=v.getKey();if(!t.isPrefixOf(I.path))break;I.path.length===u&&v.largestBatchId>r&&i.set(v.getKey(),v)}return re.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new er((I,S)=>I-S);const l=this.overlays.getIterator();for(;l.hasNext();){const I=l.getNext().value;if(I.getKey().getCollectionGroup()===t&&I.largestBatchId>r){let S=u.get(I.largestBatchId);null===S&&(S=fo(),u=u.insert(I.largestBatchId,S)),S.set(I.getKey(),I)}}const m=fo(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((I,S)=>m.set(I,S)),!(m.size()>=i)););return re.resolve(m)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new r0(t,r));let u=this.es.get(t);void 0===u&&(u=zt(),this.es.set(t,u)),this.es.set(t,u.add(r.key))}}class ig{constructor(){this.ns=new cn(ur.ss),this.rs=new cn(ur.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new ur(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new ur(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new Ge(new tn([])),r=new ur(t,e),i=new ur(t,e+1),u=[];return this.rs.forEachInRange([r,i],l=>{this.cs(l),u.push(l.key)}),u}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Ge(new tn([])),r=new ur(t,e),i=new ur(t,e+1);let u=zt();return this.rs.forEachInRange([r,i],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new ur(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ur{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Ge.comparator(e.key,t.key)||Ft(e._s,t._s)}static os(e,t){return Ft(e._s,t._s)||Ge.comparator(e.key,t.key)}}class bx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new cn(ur.ss)}checkEmpty(e){return re.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.ws;this.ws++;const l=new n0(u,t,r,i);this.mutationQueue.push(l);for(const m of i)this.gs=this.gs.add(new ur(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return re.resolve(l)}lookupMutationBatch(e,t){return re.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),u=i<0?0:i;return re.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ur(t,0),i=new ur(t,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([r,i],l=>{const m=this.ys(l._s);u.push(m)}),re.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new cn(Ft);return t.forEach(i=>{const u=new ur(i,0),l=new ur(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,l],m=>{r=r.add(m._s)})}),re.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;Ge.isDocumentKey(u)||(u=u.child(""));const l=new ur(new Ge(u),0);let m=new cn(Ft);return this.gs.forEachWhile(v=>{const I=v.key.path;return!!r.isPrefixOf(I)&&(I.length===i&&(m=m.add(v._s)),!0)},l),re.resolve(this.Is(m))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){st(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return re.forEach(t.mutations,i=>{const u=new ur(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new ur(t,0),i=this.gs.firstAfterOrEqual(r);return re.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return re.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Dx{constructor(e){this.Es=e,this.docs=new er(Ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,l=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return re.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(t))}getEntries(e,t){let r=Oi();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():Cn.newInvalidDocument(i))}),re.resolve(r)}getAllFromCollection(e,t,r){let i=Oi();const u=new Ge(t.child("")),l=this.docs.getIteratorFrom(u);for(;l.hasNext();){const{key:m,value:{document:v}}=l.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||Fm(BE(v),r)<=0||(i=i.insert(v.key,v.mutableCopy()))}return re.resolve(i)}getAllFromCollectionGroup(e,t,r,i){Ke()}As(e,t){return re.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Cx(this)}getSize(e){return re.resolve(this.size)}}class Cx extends WC{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),re.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Tx{constructor(e){this.persistence=e,this.Rs=new wc(t=>pc(t),$p),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new ig,this.targetCount=0,this.vs=ad.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),re.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new ad(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Dn(t),re.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.Rs.forEach((l,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Rs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),i++)}),re.waitFor(u).next(()=>i)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return re.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),re.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(l=>{u.push(i.markPotentiallyOrphaned(e,l))}),re.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),re.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return re.resolve(r)}containsKey(e,t){return re.resolve(this.Ps.containsKey(t))}}class m0{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Gs(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Tx(this),this.indexManager=new HC,this.remoteDocumentCache=new Dx(r=>this.referenceDelegate.xs(r)),this.yt=new LC(t),this.Ns=new ZC(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new g0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new bx(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ne("MemoryPersistence","Starting transaction:",e);const i=new KC(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(u=>this.referenceDelegate.Os(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Ms(e,t){return re.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class KC extends mv{constructor(e){super(),this.currentSequenceNumber=e}}class _y{constructor(e){this.persistence=e,this.Fs=new ig,this.$s=null}static Bs(e){return new _y(e)}get Ls(){if(this.$s)return this.$s;throw Ke()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),re.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),re.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Ls.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.Ls,r=>{const i=Ge.fromPath(r);return this.qs(e,i).next(u=>{u||t.removeEntry(i,yt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return re.or([()=>re.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class YC{constructor(e){this.yt=e}$(e,t,r,i){const u=new Lm("createOrUpgrade",t);var m;r<1&&i>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",BI,{unique:!0}),m.createObjectStore("documentMutations"),ib(e),function(m){m.createObjectStore("remoteDocuments")}(e));let l=re.resolve();return r<3&&i>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),ib(e)),l=l.next(()=>function(m){const v=m.store("targetGlobal"),I={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:yt.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",I)}(u))),r<4&&i>=4&&(0!==r&&(l=l.next(()=>function(m,v){return v.store("mutations").W().next(I=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",BI,{unique:!0});const S=v.store("mutations"),N=I.map(V=>S.put(V));return re.waitFor(N)})}(e,u))),l=l.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(l=l.next(()=>this.Us(u))),r<6&&i>=6&&(l=l.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(u)))),r<7&&i>=7&&(l=l.next(()=>this.Gs(u))),r<8&&i>=8&&(l=l.next(()=>this.Qs(e,u))),r<9&&i>=9&&(l=l.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(l=l.next(()=>this.js(u))),r<11&&i>=11&&(l=l.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(l=l.next(()=>{!function(m){const v=m.createObjectStore("documentOverlays",{keyPath:$I});v.createIndex("collectionPathOverlayIndex",HI,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",gx,{unique:!1})}(e)})),r<13&&i>=13&&(l=l.next(()=>function(m){const v=m.createObjectStore("remoteDocumentsV14",{keyPath:ax});v.createIndex("documentKeyIndex",ux),v.createIndex("collectionGroupIndex",cx)}(e)).next(()=>this.Ws(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(l=l.next(()=>this.zs(e,u))),r<15&&i>=15&&(l=l.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:iy}).createIndex("sequenceNumberIndex",px,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:jI}).createIndex("documentKeyIndex",sy,{unique:!1})}(e))),l}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=eg(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>re.forEach(i,u=>{const l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",l).next(m=>re.forEach(m,v=>{st(v.userId===u.userId);const I=rd(this.yt,v);return d0(e,u.userId,I).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const u=[];return r.Z((l,m)=>{const v=new tn(l),I=[0,vi(v)];u.push(t.get(I).next(S=>S?re.resolve():t.put({targetId:0,path:vi(v),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>re.waitFor(u))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:fx});const r=t.store("collectionParents"),i=new u0,u=l=>{if(i.add(l)){const m=l.lastSegment(),v=l.popLast();return r.put({collectionId:m,parent:vi(v)})}};return t.store("remoteDocuments").Z({X:!0},(l,m)=>{const v=new tn(l);return u(v.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([l,m,v],I)=>{const S=ta(m);return u(S.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const u=sf(i),l=s0(this.yt,u);return t.put(l)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((u,l)=>{const m=t.store("remoteDocumentsV14"),v=(I=l,I.document?new Ge(tn.fromString(I.document.name).popFirst(5)):I.noDocument?Ge.fromSegments(I.noDocument.path):I.unknownDocument?Ge.fromSegments(I.unknownDocument.path):Ke()).path.toArray();var I;const S={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(m.put(S))}).next(()=>re.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=nb(this.yt),u=new m0(_y.Bs,this.yt.ie);return r.W().next(l=>{const m=new Map;return l.forEach(v=>{var I;let S=null!==(I=m.get(v.userId))&&void 0!==I?I:zt();rd(this.yt,v).keys().forEach(N=>S=S.add(N)),m.set(v.userId,S)}),re.forEach(m,(v,I)=>{const S=new jr(I),N=cy.re(this.yt,S),V=u.getIndexManager(S),G=tg.re(S,this.yt,V,u.referenceDelegate);return new yy(i,G,N,V).recalculateAndSaveOverlaysForDocumentKeys(new qI(t,Gs.at),v).next()})})}}function ib(n){n.createObjectStore("targetDocuments",{keyPath:dx}).createIndex("documentTargetsIndex",hx,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",lx,{unique:!0}),n.createObjectStore("targetGlobal")}const vy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class wy{constructor(e,t,r,i,u,l,m,v,I,S,N=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=u,this.window=l,this.document=m,this.Js=I,this.Ys=S,this.Xs=N,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=V=>Promise.resolve(),!wy.C())throw new Me(ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ex(this,i),this.ii=t+"main",this.yt=new LC(v),this.ri=new lo(this.ii,this.Xs,new YC(this.yt)),this.Cs=new vx(this.referenceDelegate,this.yt),this.remoteDocumentCache=nb(this.yt),this.Ns=new VC,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===S&&Jn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(ue.FAILED_PRECONDITION,vy);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Gs(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,pe.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,pe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,pe.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ey(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(iu(e))return Ne("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return cf(e).get("owner").next(t=>re.resolve(this.mi(t)))}gi(e){return Ey(e).delete(this.clientId)}yi(){var e=this;return(0,pe.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Gr(r,"clientMetadata");return i.W().next(u=>{const l=e.Ii(u,18e5),m=u.filter(v=>-1===l.indexOf(v));return re.forEach(m,v=>i.delete(v.clientId)).next(()=>m)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?re.resolve(!0):cf(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Me(ue.FAILED_PRECONDITION,vy);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ey(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ne("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,pe.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new qI(t,Gs.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Ey(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return tg.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new _x(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return cy.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ne("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",u=15===(l=this.Xs)?mx:14===l?t0:13===l?zI:12===l?GI:11===l?oy:void Ke();var l;let m;return this.ri.runTransaction(e,i,u,v=>(m=new qI(v,this.Ss?this.Ss.next():Gs.at),"readwrite-primary"===t?this.fi(m).next(I=>!!I||this.di(m)).next(I=>{if(!I)throw Jn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Me(ue.FAILED_PRECONDITION,gv);return r(m)}).next(I=>this.wi(m).next(()=>I)):this.Vi(m).next(()=>r(m)))).then(v=>(m.raiseOnCommittedEvent(),v))}Vi(e){return cf(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Me(ue.FAILED_PRECONDITION,vy)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cf(e).put("owner",t)}static C(){return lo.C()}_i(e){const t=cf(e);return t.get("owner").next(r=>this.mi(r)?(Ne("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):re.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Jn(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Ht.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ne("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Jn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Jn("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function cf(n){return Gr(n,"owner")}function Ey(n){return Gr(n,"clientMetadata")}function y0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Iy{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=zt(),i=zt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new Iy(e,t.fromCache,r,i)}}class by{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(u=>u||this.Oi(e,t,i,r)).next(u=>u||this.Mi(e,t))}ki(e,t){if(uI(t))return re.resolve(null);let r=_i(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Km(t,null,"F"),r=_i(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=zt(...u);return this.Ni.getDocuments(e,l).next(m=>this.indexManager.getMinOffset(e,r).next(v=>{const I=this.Fi(t,m);return this.$i(t,I,l,v.readTime)?this.ki(e,Km(t,null,"F")):this.Bi(e,I,t,v)}))})))}Oi(e,t,r,i){return uI(t)||i.isEqual(yt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(u=>{const l=this.Fi(t,u);return this.$i(t,l,r,i)?this.Mi(e,t):(Nm()<=zo.in.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Nv(t)),this.Bi(e,l,t,UE(i,-1)))})}Fi(e,t){let r=new cn(hI(e));return t.forEach((i,u)=>{Ov(e,u)&&(r=r.add(u))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Mi(e,t){return Nm()<=zo.in.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Nv(t)),this.Ni.getDocumentsMatchingQuery(e,t,yi.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class Sx{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new er(Ft),this.Ui=new wc(u=>pc(u),$p),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yy(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function _0(n,e,t,r){return new Sx(n,e,t,r)}function Dy(n,e){return v0.apply(this,arguments)}function v0(){return v0=(0,pe.Z)(function*(n,e){const t=$e(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(u=>(i=u,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],m=[];let v=zt();for(const I of i){l.push(I.batchId);for(const S of I.mutations)v=v.add(S.key)}for(const I of u){m.push(I.batchId);for(const S of I.mutations)v=v.add(S.key)}return t.localDocuments.getDocuments(r,v).next(I=>({ji:I,removedBatchIds:l,addedBatchIds:m}))})})}),v0.apply(this,arguments)}function QC(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Gi.newChangeBuffer({trackRemovals:!0});return function(l,m,v,I){const S=v.batch,N=S.keys();let V=re.resolve();return N.forEach(G=>{V=V.next(()=>I.getEntry(m,G)).next(Q=>{const we=v.docVersions.get(G);st(null!==we),Q.version.compareTo(we)<0&&(S.applyToRemoteDocument(Q,v),Q.isValidDocument()&&(Q.setReadTime(v.commitVersion),I.addEntry(Q)))})}),V.next(()=>l.mutationQueue.removeMutationBatch(m,S))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let m=zt();for(let v=0;v<l.mutationResults.length;++v)l.mutationResults[v].transformResults.length>0&&(m=m.add(l.batch.mutations[v].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function XC(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Ax(n,e){const t=$e(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const m=[];e.targetChanges.forEach((S,N)=>{const V=i.get(N);if(!V)return;m.push(t.Cs.removeMatchingKeys(u,S.removedDocuments,N).next(()=>t.Cs.addMatchingKeys(u,S.addedDocuments,N)));let G=V.withSequenceNumber(u.currentSequenceNumber);var Q,we,be;e.targetMismatches.has(N)?G=G.withResumeToken(Tr.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):S.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(S.resumeToken,r)),i=i.insert(N,G),we=G,be=S,(0===(Q=V).resumeToken.approximateByteSize()||we.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=3e8||be.addedDocuments.size+be.modifiedDocuments.size+be.removedDocuments.size>0)&&m.push(t.Cs.updateTargetData(u,G))});let v=Oi(),I=zt();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,S))}),m.push(sb(u,l,e.documentUpdates).next(S=>{v=S.Wi,I=S.zi})),!r.isEqual(yt.min())){const S=t.Cs.getLastRemoteSnapshotVersion(u).next(N=>t.Cs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(S)}return re.waitFor(m).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,v,I)).next(()=>v)}).then(u=>(t.qi=i,u))}function sb(n,e,t){let r=zt(),i=zt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=Oi();return t.forEach((m,v)=>{const I=u.get(m);v.isFoundDocument()!==I.isFoundDocument()&&(i=i.add(m)),v.isNoDocument()&&v.version.isEqual(yt.min())?(e.removeEntry(m,v.readTime),l=l.insert(m,v)):!I.isValidDocument()||v.version.compareTo(I.version)>0||0===v.version.compareTo(I.version)&&I.hasPendingWrites?(e.addEntry(v),l=l.insert(m,v)):Ne("LocalStore","Ignoring outdated watch update for ",m,". Current version:",I.version," Watch version:",v.version)}),{Wi:l,zi:i}})}function JC(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function lf(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(u=>u?(i=u,re.resolve(i)):t.Cs.allocateTargetId(r).next(l=>(i=new td(e,l,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function sg(n,e,t){return ob.apply(this,arguments)}function ob(){return ob=(0,pe.Z)(function*(n,e,t){const r=$e(n),i=r.qi.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!iu(l))throw l;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),ob.apply(this,arguments)}function w0(n,e,t){const r=$e(n);let i=yt.min(),u=zt();return r.persistence.runTransaction("Execute query","readonly",l=>function(m,v,I){const S=$e(m),N=S.Ui.get(I);return void 0!==N?re.resolve(S.qi.get(N)):S.Cs.getTargetData(v,I)}(r,l,_i(e)).next(m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(l,m.targetId).next(v=>{u=v})}).next(()=>r.Li.getDocumentsMatchingQuery(l,e,t?i:yt.min(),t?u:zt())).next(m=>(ab(r,dI(e),m),{documents:m,Hi:u})))}function eT(n,e){const t=$e(n),r=$e(t.Cs),i=t.qi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>r.ne(u,e).next(l=>l?l.target:null))}function tT(n,e){const t=$e(n),r=t.Ki.get(e)||yt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,UE(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(ab(t,e,i),i))}function ab(n,e,t){let r=n.Ki.get(e)||yt.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Ki.set(e,r)}function ub(){return ub=(0,pe.Z)(function*(n,e,t,r){const i=$e(n);let u=zt(),l=Oi();for(const I of t){const S=e.Ji(I.metadata.name);I.document&&(u=u.add(S));const N=e.Yi(I);N.setReadTime(e.Xi(I.metadata.readTime)),l=l.insert(S,N)}const m=i.Gi.newChangeBuffer({trackRemovals:!0}),v=yield lf(i,(I=r,_i(Wh(tn.fromString(`__bundle__/docs/${I}`)))));var I;return i.persistence.runTransaction("Apply bundle documents","readwrite",I=>sb(I,m,l).next(S=>(m.apply(I),S)).next(S=>i.Cs.removeMatchingKeysForTargetId(I,v.targetId).next(()=>i.Cs.addMatchingKeys(I,u,v.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(I,S.Wi,S.zi)).next(()=>S.Wi)))}),ub.apply(this,arguments)}function Mx(n,e){return cb.apply(this,arguments)}function cb(){return cb=(0,pe.Z)(function*(n,e,t=zt()){const r=yield lf(n,_i(ZI(e.bundledQuery))),i=$e(n);return i.persistence.runTransaction("Save named query","readwrite",u=>{const l=zn(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Ns.saveNamedQuery(u,e);const m=r.withResumeToken(Tr.EMPTY_BYTE_STRING,l);return i.qi=i.qi.insert(m.targetId,m),i.Cs.updateTargetData(u,m).next(()=>i.Cs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>i.Cs.addMatchingKeys(u,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(u,e))})}),cb.apply(this,arguments)}function nT(n,e){return`firestore_clients_${n}_${e}`}function rT(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function s(n,e){return`firestore_targets_${n}_${e}`}class o{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let u,l="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(u=new Me(i.error.code,i.error.message))),l?new o(e,t,i.state,u):(Jn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class a{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(i=new Me(r.error.code,r.error.message))),u?new a(e,r.state,i):(Jn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class c{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,u=ey();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=Hh(r.activeTargetIds[l]),u=u.add(r.activeTargetIds[l]);return i?new c(e,u):(Jn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class d{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new d(t.clientId,t.onlineState):(Jn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class p{constructor(){this.activeTargetIds=ey()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _{constructor(e,t,r,i,u){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new er(Ft),this.started=!1,this.cr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ar=nT(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new p),this.lr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,pe.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const u=e.getItem(nT(e.persistenceKey,i));if(u){const l=c.Zi(i,u);l&&(e.ur=e.ur.insert(l.clientId,l))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(s(this.persistenceKey,e));if(r){const i=a.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(s(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ne("SharedClientState","READ",e,t),t}setItem(e,t){Ne("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ne("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ne("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Jn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,pe.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(u){let l=Gs.at;if(null!=u)try{const m=JSON.parse(u);st("number"==typeof m),l=m}catch(m){Jn("SharedClientState","Failed to read sequence number from WebStorage",m)}return l}(r.newValue);i!==Gs.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(u=>t.syncEngine.Mr(u)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new o(this.currentUser,e,t,r),u=rT(this.persistenceKey,this.currentUser,e);this.setItem(u,i.tr())}Er(e){const t=rT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=s(this.persistenceKey,e),u=new a(e,t,r);this.setItem(i,u.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return c.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return o.Zi(new jr(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return a.Zi(i,t)}yr(e){return d.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,pe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Ne("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),u=this.Ir(r),l=[],m=[];return u.forEach(v=>{i.has(v)||l.push(v)}),i.forEach(v=>{u.has(v)||m.push(v)}),this.syncEngine.Br(l,m).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=ey();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class E{constructor(){this.Lr=new p,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new p,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class b{Ur(e){}shutdown(){}}class T{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const M={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class P{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class z extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,u){const l=this.ho(e,t);Ne("RestConnection","Sending: ",l,r);const m={};return this.lo(m,i,u),this.fo(e,l,m,r).then(v=>(Ne("RestConnection","Received: ",v),v),v=>{throw ac("RestConnection",`${e} failed with error: `,v,"url: ",l,"request:",r),v})}_o(e,t,r,i,u,l){return this.ao(e,t,r,i,u)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+jl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}ho(e,t){return`${this.oo}/v1/${t}:${M[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((u,l)=>{const m=new gC;m.setWithCredentials(!0),m.listenOnce(hC.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case fv.NO_ERROR:const I=m.getResponseJson();Ne("Connection","XHR received:",JSON.stringify(I)),u(I);break;case fv.TIMEOUT:Ne("Connection",'RPC "'+e+'" timed out'),l(new Me(ue.DEADLINE_EXCEEDED,"Request time out"));break;case fv.HTTP_ERROR:const S=m.getStatus();if(Ne("Connection",'RPC "'+e+'" failed with status:',S,"response text:",m.getResponseText()),S>0){let N=m.getResponseJson();Array.isArray(N)&&(N=N[0]);const V=N?.error;if(V&&V.status&&V.message){const G=function(Q){const we=Q.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(we)>=0?we:ue.UNKNOWN}(V.status);l(new Me(G,V.message))}else l(new Me(ue.UNKNOWN,"Server responded with status "+m.getStatus()))}else l(new Me(ue.UNAVAILABLE,"Connection failed."));break;default:Ke()}}finally{Ne("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(i);m.send(t,"POST",v,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=lC(),l=dC(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new pC({})),this.lo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const v=i.join("");Ne("Connection","Creating WebChannel: "+v,m);const I=u.createWebChannel(v,m);let S=!1,N=!1;const V=new P({Hr:Q=>{N?Ne("Connection","Not sending because WebChannel is closed:",Q):(S||(Ne("Connection","Opening WebChannel transport."),I.open(),S=!0),Ne("Connection","WebChannel sending:",Q),I.send(Q))},Jr:()=>I.close()}),G=(Q,we,be)=>{Q.listen(we,tt=>{try{be(tt)}catch(Et){setTimeout(()=>{throw Et},0)}})};return G(I,Rm.EventType.OPEN,()=>{N||Ne("Connection","WebChannel transport opened.")}),G(I,Rm.EventType.CLOSE,()=>{N||(N=!0,Ne("Connection","WebChannel transport closed"),V.io())}),G(I,Rm.EventType.ERROR,Q=>{N||(N=!0,ac("Connection","WebChannel transport errored:",Q),V.io(new Me(ue.UNAVAILABLE,"The operation could not be completed")))}),G(I,Rm.EventType.MESSAGE,Q=>{var we;if(!N){const be=Q.data[0];st(!!be);const Et=be.error||(null===(we=be[0])||void 0===we?void 0:we.error);if(Et){Ne("Connection","WebChannel received error:",Et);const ot=Et.status;let it=function(Ut){const lr=tr[Ut];if(void 0!==lr)return II(lr)}(ot),Ct=Et.message;void 0===it&&(it=ue.INTERNAL,Ct="Unknown error status: "+ot+" with message "+Et.message),N=!0,V.io(new Me(it,Ct)),I.close()}else Ne("Connection","WebChannel received:",be),V.ro(be)}}),G(l,fC.STAT_EVENT,Q=>{Q.stat===NE.PROXY?Ne("Connection","Detected buffering proxy"):Q.stat===NE.NOPROXY&&Ne("Connection","Detected no buffering proxy")}),setTimeout(()=>{V.so()},0),V}}function J(){return typeof window<"u"?window:null}function me(){return typeof document<"u"?document:null}function Pe(n){return new xI(n,!0)}class ze{constructor(e,t,r=1e3,i=1.5,u=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=u,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class et{constructor(e,t,r,i,u,l,m,v){this.Hs=e,this.vo=r,this.Vo=i,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=m,this.listener=v,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new ze(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,pe.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,pe.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,pe.Z)(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(Jn(t.toString()),Jn("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===ue.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new Me(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,pe.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Dt extends et{constructor(e,t,r,i,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.yt=u}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function qv(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:Ke(),i=e.targetChange.targetIds||[],u=function(v,I){return v.wt?(st(void 0===I||"string"==typeof I),Tr.fromBase64String(I||"")):(st(void 0===I||I instanceof Uint8Array),Tr.fromUint8Array(I||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,m=l&&function(v){const I=void 0===v.code?ue.UNKNOWN:II(v.code);return new Me(I,v.message||"")}(l);t=new MC(r,i,u,m||null)}else if("documentChange"in e){const r=e.documentChange,i=qs(n,r.document.name),u=zn(r.document.updateTime),l=r.document.createTime?zn(r.document.createTime):yt.min(),m=new Hr({mapValue:{fields:r.document.fields}}),v=Cn.newFoundDocument(i,u,l,m);t=new ty(r.targetIds||[],r.removedTargetIds||[],v.key,v)}else if("documentDelete"in e){const r=e.documentDelete,i=qs(n,r.document),u=r.readTime?zn(r.readTime):yt.min(),l=Cn.newNoDocument(i,u);t=new ty([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=qs(n,r.document);t=new ty([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ke();{const r=e.filter,u=new wI(r.count||0);t=new SI(r.targetId,u)}}var v;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return yt.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?yt.min():u.readTime?zn(u.readTime):yt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=Kp(this.yt),t.addTarget=function(i,u){let l;const m=u.target;return l=qm(m)?{documents:kI(i,m)}:{query:Zv(i,m)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?l.resumeToken=MI(i,u.resumeToken):u.snapshotVersion.compareTo(yt.min())>0&&(l.readTime=Jh(i,u.snapshotVersion.toTimestamp())),l}(this.yt,e);const r=function FI(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ke()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=Kp(this.yt),t.removeTarget=e,this.Bo(t)}}class Re extends et{constructor(e,t,r,i,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.yt=u,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(st(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function sx(n,e){return n&&n.length>0?(st(void 0!==e),n.map(t=>function(r,i){let u=zn(r.updateTime?r.updateTime:i);return u.isEqual(yt.min())&&(u=zn(i)),new SC(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=zn(e.commitTime);return this.listener.Zo(r,t)}return st(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Kp(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ry(this.yt,r))};this.Bo(t)}}class Vt extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new Me(ue.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.connection.ao(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Me(ue.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection._o(e,t,r,u,l,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Me(ue.UNKNOWN,u.toString())})}terminate(){this.nu=!0}}class Rx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Jn(t),this.ou=!1):Ne("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class UO{constructor(e,t,r,i,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=u,this.mu.Ur(m=>{r.enqueueAndForget((0,pe.Z)(function*(){var v;cd(l)&&(Ne("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,pe.Z)(function*(I){const S=$e(I);S._u.add(4),yield Cy(S),S.gu.set("Unknown"),S._u.delete(4),yield E0(S)}),function(I){return v.apply(this,arguments)})(l))}))}),this.gu=new Rx(r,i)}}function E0(n){return iT.apply(this,arguments)}function iT(){return iT=(0,pe.Z)(function*(n){if(cd(n))for(const e of n.wu)yield e(!0)}),iT.apply(this,arguments)}function Cy(n){return sT.apply(this,arguments)}function sT(){return sT=(0,pe.Z)(function*(n){for(const e of n.wu)yield e(!1)}),sT.apply(this,arguments)}function lb(n,e){const t=$e(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),uT(t)?aT(t):Sy(t).ko()&&oT(t,e))}function I0(n,e){const t=$e(n),r=Sy(t);t.du.delete(e),r.ko()&&Nx(t,e),0===t.du.size&&(r.ko()?r.Fo():cd(t)&&t.gu.set("Unknown"))}function oT(n,e){n.yu.Ot(e.targetId),Sy(n).zo(e)}function Nx(n,e){n.yu.Ot(e),Sy(n).Ho(e)}function aT(n){n.yu=new AI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),Sy(n).start(),n.gu.uu()}function uT(n){return cd(n)&&!Sy(n).No()&&n.du.size>0}function cd(n){return 0===$e(n)._u.size}function Ox(n){n.yu=void 0}function BO(n){return cT.apply(this,arguments)}function cT(){return cT=(0,pe.Z)(function*(n){n.du.forEach((e,t)=>{oT(n,e)})}),cT.apply(this,arguments)}function jO(n,e){return lT.apply(this,arguments)}function lT(){return lT=(0,pe.Z)(function*(n,e){Ox(n),uT(n)?(n.gu.hu(e),aT(n)):n.gu.set("Unknown")}),lT.apply(this,arguments)}function $O(n,e,t){return dT.apply(this,arguments)}function dT(){return dT=(0,pe.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof MC&&2===e.state&&e.cause)try{yield(r=(0,pe.Z)(function*(i,u){const l=u.cause;for(const m of u.targetIds)i.du.has(m)&&(yield i.remoteSyncer.rejectListen(m,l),i.du.delete(m),i.yu.removeTarget(m))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield db(n,r)}else if(e instanceof ty?n.yu.Kt(e):e instanceof SI?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(yt.min()))try{const r=yield XC(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const l=i.yu.Zt(u);return l.targetChanges.forEach((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const I=i.du.get(v);I&&i.du.set(v,I.withResumeToken(m.resumeToken,u))}}),l.targetMismatches.forEach(m=>{const v=i.du.get(m);if(!v)return;i.du.set(m,v.withResumeToken(Tr.EMPTY_BYTE_STRING,v.snapshotVersion)),Nx(i,m);const I=new td(v.target,m,1,v.sequenceNumber);oT(i,I)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Ne("RemoteStore","Failed to raise snapshot:",r),yield db(n,r)}var r}),dT.apply(this,arguments)}function db(n,e,t){return hT.apply(this,arguments)}function hT(){return hT=(0,pe.Z)(function*(n,e,t){if(!iu(e))throw e;n._u.add(1),yield Cy(n),n.gu.set("Offline"),t||(t=()=>XC(n.localStore)),n.asyncQueue.enqueueRetryable((0,pe.Z)(function*(){Ne("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield E0(n)}))}),hT.apply(this,arguments)}function kx(n,e){return e().catch(t=>db(n,t,e))}function Ty(n){return fT.apply(this,arguments)}function fT(){return fT=(0,pe.Z)(function*(n){const e=$e(n),t=df(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;HO(e);)try{const i=yield JC(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,GO(e,i)}catch(i){yield db(e,i)}Px(e)&&Fx(e)}),fT.apply(this,arguments)}function HO(n){return cd(n)&&n.fu.length<10}function GO(n,e){n.fu.push(e);const t=df(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Px(n){return cd(n)&&!df(n).No()&&n.fu.length>0}function Fx(n){df(n).start()}function zO(n){return pT.apply(this,arguments)}function pT(){return pT=(0,pe.Z)(function*(n){df(n).eu()}),pT.apply(this,arguments)}function qO(n){return gT.apply(this,arguments)}function gT(){return gT=(0,pe.Z)(function*(n){const e=df(n);for(const t of n.fu)e.Xo(t.mutations)}),gT.apply(this,arguments)}function WO(n,e,t){return mT.apply(this,arguments)}function mT(){return mT=(0,pe.Z)(function*(n,e,t){const r=n.fu.shift(),i=nf.from(r,e,t);yield kx(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Ty(n)}),mT.apply(this,arguments)}function ZO(n,e){return yT.apply(this,arguments)}function yT(){return yT=(0,pe.Z)(function*(n,e){var t;e&&df(n).Yo&&(yield(t=(0,pe.Z)(function*(r,i){if(EI(u=i.code)&&u!==ue.ABORTED){const l=r.fu.shift();df(r).Mo(),yield kx(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield Ty(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),Px(n)&&Fx(n)}),yT.apply(this,arguments)}function Lx(n,e){return _T.apply(this,arguments)}function _T(){return _T=(0,pe.Z)(function*(n,e){const t=$e(n);t.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const r=cd(t);t._u.add(3),yield Cy(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield E0(t)}),_T.apply(this,arguments)}function vT(n,e){return wT.apply(this,arguments)}function wT(){return wT=(0,pe.Z)(function*(n,e){const t=$e(n);e?(t._u.delete(2),yield E0(t)):e||(t._u.add(2),yield Cy(t),t.gu.set("Unknown"))}),wT.apply(this,arguments)}function Sy(n){return n.pu||(n.pu=function(e,t,r){const i=$e(e);return i.su(),new Dt(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:BO.bind(null,n),Zr:jO.bind(null,n),Wo:$O.bind(null,n)}),n.wu.push(function(){var e=(0,pe.Z)(function*(t){t?(n.pu.Mo(),uT(n)?aT(n):n.gu.set("Unknown")):(yield n.pu.stop(),Ox(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function df(n){return n.Iu||(n.Iu=function(e,t,r){const i=$e(e);return i.su(),new Re(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:zO.bind(null,n),Zr:ZO.bind(null,n),tu:qO.bind(null,n),Zo:WO.bind(null,n)}),n.wu.push(function(){var e=(0,pe.Z)(function*(t){t?(n.Iu.Mo(),yield Ty(n)):(yield n.Iu.stop(),n.fu.length>0&&(Ne("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class ET{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new Vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,u){const l=Date.now()+r,m=new ET(e,t,l,i,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ay(n,e){if(Jn("AsyncQueue",`${e}: ${n}`),iu(n))return new Me(ue.UNAVAILABLE,`${e}: ${n}`);throw n}class xy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ge.comparator(t.key,r.key):(t,r)=>Ge.comparator(t.key,r.key),this.keyedMap=Qh(),this.sortedSet=new er(this.comparator)}static emptySet(e){return new xy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new xy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Vx{constructor(){this.Tu=new er(Ge.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Ke():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class My{constructor(e,t,r,i,u,l,m,v,I){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=m,this.excludesMetadataChanges=v,this.hasCachedResults=I}static fromInitialDocuments(e,t,r,i,u){const l=[];return t.forEach(m=>{l.push({type:0,doc:m})}),new My(e,t,xy.emptySet(t),l,r,i,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class KO{constructor(){this.Au=void 0,this.listeners=[]}}class YO{constructor(){this.queries=new wc(e=>lI(e),Hp),this.onlineState="Unknown",this.Ru=new Set}}function IT(n,e){return bT.apply(this,arguments)}function bT(){return bT=(0,pe.Z)(function*(n,e){const t=$e(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new KO),i)try{u.Au=yield t.onListen(r)}catch(l){const m=Ay(l,`Initialization of query '${Nv(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.bu(t.onlineState),u.Au&&e.Pu(u.Au)&&TT(t)}),bT.apply(this,arguments)}function DT(n,e){return CT.apply(this,arguments)}function CT(){return CT=(0,pe.Z)(function*(n,e){const t=$e(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),CT.apply(this,arguments)}function QO(n,e){const t=$e(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const m of l.listeners)m.Pu(i)&&(r=!0);l.Au=i}}r&&TT(t)}function XO(n,e,t){const r=$e(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function TT(n){n.Ru.forEach(e=>{e.next()})}class ST{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new My(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=My.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class JO{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class Ux{constructor(e){this.yt=e}Ji(e){return qs(this.yt,e)}Yi(e){return e.metadata.exists?NI(this.yt,e.document,!1):Cn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return zn(e)}}class ek{constructor(e,t,r){this.Mu=e,this.localStore=t,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Bx(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=tn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new Ux(this.yt);for(const i of e)if(i.metadata.queries){const u=r.Ji(i.metadata.name);for(const l of i.metadata.queries){const m=(t.get(l)||zt()).add(u);t.set(l,m)}}return t}complete(){var e=this;return(0,pe.Z)(function*(){const t=yield function xx(n,e,t,r){return ub.apply(this,arguments)}(e.localStore,new Ux(e.yt),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield Mx(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Bx(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class jx{constructor(e){this.key=e}}class $x{constructor(e){this.key=e}}class Hx{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=zt(),this.mutatedKeys=zt(),this.Gu=hI(e),this.Qu=new xy(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new Vx,i=t?t.Qu:this.Qu;let u=t?t.mutatedKeys:this.mutatedKeys,l=i,m=!1;const v="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,I="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,N)=>{const V=i.get(S),G=Ov(this.query,N)?N:null,Q=!!V&&this.mutatedKeys.has(V.key),we=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let be=!1;V&&G?V.data.isEqual(G.data)?Q!==we&&(r.track({type:3,doc:G}),be=!0):this.Hu(V,G)||(r.track({type:2,doc:G}),be=!0,(v&&this.Gu(G,v)>0||I&&this.Gu(G,I)<0)&&(m=!0)):!V&&G?(r.track({type:0,doc:G}),be=!0):V&&!G&&(r.track({type:1,doc:V}),be=!0,(v||I)&&(m=!0)),be&&(G?(l=l.add(G),u=we?u.add(S):u.delete(S)):(l=l.delete(S),u=u.delete(S)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const S="F"===this.query.limitType?l.last():l.first();l=l.delete(S.key),u=u.delete(S.key),r.track({type:1,doc:S})}return{Qu:l,zu:r,$i:m,mutatedKeys:u}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const u=e.zu.Eu();u.sort((I,S)=>function(N,V){const G=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke()}};return G(N)-G(V)}(I.type,S.type)||this.Gu(I.doc,S.doc)),this.Ju(r);const l=t?this.Yu():[],m=0===this.Ku.size&&this.current?1:0,v=m!==this.Uu;return this.Uu=m,0!==u.length||v?{snapshot:new My(this.query,e.Qu,i,u,e.mutatedKeys,0===m,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:l}:{Xu:l}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Vx,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=zt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new $x(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new jx(r))}),t}tc(e){this.qu=e.Hi,this.Ku=zt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return My.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class tk{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class nk{constructor(e){this.key=e,this.nc=!1}}class rk{constructor(e,t,r,i,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.sc={},this.ic=new wc(m=>lI(m),Hp),this.rc=new Map,this.oc=new Set,this.uc=new er(Ge.comparator),this.cc=new Map,this.ac=new ig,this.hc={},this.lc=new Map,this.fc=ad.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function ik(n,e){return AT.apply(this,arguments)}function AT(){return AT=(0,pe.Z)(function*(n,e){const t=QT(n);let r,i;const u=t.ic.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.ec();else{const l=yield lf(t.localStore,_i(e));t.isPrimaryClient&&lb(t.remoteStore,l);const m=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield xT(t,e,r,"current"===m,l.resumeToken)}return i}),AT.apply(this,arguments)}function xT(n,e,t,r,i){return MT.apply(this,arguments)}function MT(){return MT=(0,pe.Z)(function*(n,e,t,r,i){n._c=(N,V,G)=>{return(Q=(0,pe.Z)(function*(we,be,tt,Et){let ot=be.view.Wu(tt);ot.$i&&(ot=yield w0(we.localStore,be.query,!1).then(({documents:Ut})=>be.view.Wu(Ut,ot)));const it=Et&&Et.targetChanges.get(be.targetId),Ct=be.view.applyChanges(ot,we.isPrimaryClient,it);return BT(we,be.targetId,Ct.Xu),Ct.snapshot}),function(we,be,tt,Et){return Q.apply(this,arguments)})(n,N,V,G);var Q};const u=yield w0(n.localStore,e,!0),l=new Hx(e,u.Hi),m=l.Wu(u.documents),v=ea.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),I=l.applyChanges(m,n.isPrimaryClient,v);BT(n,t,I.Xu);const S=new tk(e,t,l);return n.ic.set(e,S),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),I.snapshot}),MT.apply(this,arguments)}function sk(n,e){return RT.apply(this,arguments)}function RT(){return RT=(0,pe.Z)(function*(n,e){const t=$e(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(u=>!Hp(u,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield sg(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),I0(t.remoteStore,r.targetId),Ry(t,r.targetId)}).catch(uc))):(Ry(t,r.targetId),yield sg(t.localStore,r.targetId,!0))}),RT.apply(this,arguments)}function NT(){return NT=(0,pe.Z)(function*(n,e,t){const r=XT(n);try{const i=yield function(u,l){const m=$e(u),v=Lt.now(),I=l.reduce((V,G)=>V.add(G.key),zt());let S,N;return m.persistence.runTransaction("Locally write mutations","readwrite",V=>{let G=Oi(),Q=zt();return m.Gi.getEntries(V,I).next(we=>{G=we,G.forEach((be,tt)=>{tt.isValidDocument()||(Q=Q.add(be))})}).next(()=>m.localDocuments.getOverlayedDocuments(V,G)).next(we=>{S=we;const be=[];for(const tt of l){const Et=Qm(tt,S.get(tt.key).overlayedDocument);null!=Et&&be.push(new Jo(tt.key,Et,Gm(Et.value.mapValue),Tn.exists(!0)))}return m.mutationQueue.addMutationBatch(V,v,be,l)}).next(we=>{N=we;const be=we.applyToLocalDocumentSet(S,Q);return m.documentOverlayCache.saveOverlays(V,we.batchId,be)})}).then(()=>({batchId:N.batchId,changes:bI(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,l,m){let v=u.hc[u.currentUser.toKey()];v||(v=new er(Ft)),v=v.insert(l,m),u.hc[u.currentUser.toKey()]=v}(r,i.batchId,t),yield ld(r,i.changes),yield Ty(r.remoteStore)}catch(i){const u=Ay(i,"Failed to persist write");t.reject(u)}}),NT.apply(this,arguments)}function Gx(n,e){return OT.apply(this,arguments)}function OT(){return OT=(0,pe.Z)(function*(n,e){const t=$e(n);try{const r=yield Ax(t.localStore,e);e.targetChanges.forEach((i,u)=>{const l=t.cc.get(u);l&&(st(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.nc=!0:i.modifiedDocuments.size>0?st(l.nc):i.removedDocuments.size>0&&(st(l.nc),l.nc=!1))}),yield ld(t,r,e)}catch(r){yield uc(r)}}),OT.apply(this,arguments)}function zx(n,e,t){const r=$e(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((u,l)=>{const m=l.view.bu(e);m.snapshot&&i.push(m.snapshot)}),function(u,l){const m=$e(u);m.onlineState=l;let v=!1;m.queries.forEach((I,S)=>{for(const N of S.listeners)N.bu(l)&&(v=!0)}),v&&TT(m)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ak(n,e,t){return kT.apply(this,arguments)}function kT(){return kT=(0,pe.Z)(function*(n,e,t){const r=$e(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),u=i&&i.key;if(u){let l=new er(Ge.comparator);l=l.insert(u,Cn.newNoDocument(u,yt.min()));const m=zt().add(u),v=new Sr(yt.min(),new Map,new cn(Ft),l,m);yield Gx(r,v),r.uc=r.uc.remove(u),r.cc.delete(e),jT(r)}else yield sg(r.localStore,e,!1).then(()=>Ry(r,e,t)).catch(uc)}),kT.apply(this,arguments)}function uk(n,e){return PT.apply(this,arguments)}function PT(){return PT=(0,pe.Z)(function*(n,e){const t=$e(n),r=e.batch.batchId;try{const i=yield QC(t.localStore,e);UT(t,r,null),VT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ld(t,i)}catch(i){yield uc(i)}}),PT.apply(this,arguments)}function ck(n,e,t){return FT.apply(this,arguments)}function FT(){return FT=(0,pe.Z)(function*(n,e,t){const r=$e(n);try{const i=yield function(u,l){const m=$e(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let I;return m.mutationQueue.lookupMutationBatch(v,l).next(S=>(st(null!==S),I=S.keys(),m.mutationQueue.removeMutationBatch(v,S))).next(()=>m.mutationQueue.performConsistencyCheck(v)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(v,I,l)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,I)).next(()=>m.localDocuments.getDocuments(v,I))})}(r.localStore,e);UT(r,e,t),VT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ld(r,i)}catch(i){yield uc(i)}}),FT.apply(this,arguments)}function LT(){return LT=(0,pe.Z)(function*(n,e){const t=$e(n);cd(t.remoteStore)||Ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const l=$e(u);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>l.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=Ay(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),LT.apply(this,arguments)}function VT(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function UT(n,e,t){const r=$e(n);let i=r.hc[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Ry(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||qx(n,r)})}function qx(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(I0(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),jT(n))}function BT(n,e,t){for(const r of t)r instanceof jx?(n.ac.addReference(r.key,e),dk(n,r)):r instanceof $x?(Ne("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||qx(n,r.key)):Ke()}function dk(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Ne("SyncEngine","New document in limbo: "+t),n.oc.add(r),jT(n))}function jT(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Ge(tn.fromString(e)),r=n.fc.next();n.cc.set(r,new nk(t)),n.uc=n.uc.insert(t,r),lb(n.remoteStore,new td(_i(Wh(t.path)),r,2,Gs.at))}}function ld(n,e,t){return $T.apply(this,arguments)}function $T(){return $T=(0,pe.Z)(function*(n,e,t){const r=$e(n),i=[],u=[],l=[];var m;r.ic.isEmpty()||(r.ic.forEach((m,v)=>{l.push(r._c(v,e,t).then(I=>{if((I||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,I?.fromCache?"not-current":"current"),I){i.push(I);const S=Iy.Ci(v.targetId,I);u.push(S)}}))}),yield Promise.all(l),r.sc.Wo(i),yield(m=(0,pe.Z)(function*(v,I){const S=$e(v);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>re.forEach(I,V=>re.forEach(V.Si,G=>S.persistence.referenceDelegate.addReference(N,V.targetId,G)).next(()=>re.forEach(V.Di,G=>S.persistence.referenceDelegate.removeReference(N,V.targetId,G)))))}catch(N){if(!iu(N))throw N;Ne("LocalStore","Failed to update sequence numbers: "+N)}for(const N of I){const V=N.targetId;if(!N.fromCache){const G=S.qi.get(V),we=G.withLastLimboFreeSnapshotVersion(G.snapshotVersion);S.qi=S.qi.insert(V,we)}}}),function(v,I){return m.apply(this,arguments)})(r.localStore,u))}),$T.apply(this,arguments)}function hk(n,e){return HT.apply(this,arguments)}function HT(){return HT=(0,pe.Z)(function*(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const r=yield Dy(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(l=>{l.forEach(m=>{m.reject(new Me(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ld(t,r.ji)}var i}),HT.apply(this,arguments)}function fk(n,e){const t=$e(n),r=t.cc.get(e);if(r&&r.nc)return zt().add(r.key);{let i=zt();const u=t.rc.get(e);if(!u)return i;for(const l of u){const m=t.ic.get(l);i=i.unionWith(m.view.ju)}return i}}function pk(n,e){return GT.apply(this,arguments)}function GT(){return GT=(0,pe.Z)(function*(n,e){const t=$e(n),r=yield w0(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&BT(t,e.targetId,i.Xu),i}),GT.apply(this,arguments)}function gk(n,e){return zT.apply(this,arguments)}function zT(){return zT=(0,pe.Z)(function*(n,e){const t=$e(n);return tT(t.localStore,e).then(r=>ld(t,r))}),zT.apply(this,arguments)}function mk(n,e,t,r){return qT.apply(this,arguments)}function qT(){return qT=(0,pe.Z)(function*(n,e,t,r){const i=$e(n),u=yield function(l,m){const v=$e(l),I=$e(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",S=>I.Tn(S,m).next(N=>N?v.localDocuments.getDocuments(S,N):re.resolve(null)))}(i.localStore,e);var m;null!==u?("pending"===t?yield Ty(i.remoteStore):"acknowledged"===t||"rejected"===t?(UT(i,e,r||null),VT(i,e),m=e,$e($e(i.localStore).mutationQueue).An(m)):Ke(),yield ld(i,u)):Ne("SyncEngine","Cannot apply mutation batch with id: "+e)}),qT.apply(this,arguments)}function WT(){return WT=(0,pe.Z)(function*(n,e){const t=$e(n);if(QT(t),XT(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield Wx(t,r.toArray());t.dc=!0,yield vT(t.remoteStore,!0);for(const u of i)lb(t.remoteStore,u)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((u,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(Ry(t,l),sg(t.localStore,l,!0))),I0(t.remoteStore,l)}),yield i,yield Wx(t,r),function(u){const l=$e(u);l.cc.forEach((m,v)=>{I0(l.remoteStore,v)}),l.ac.fs(),l.cc=new Map,l.uc=new er(Ge.comparator)}(t),t.dc=!1,yield vT(t.remoteStore,!1)}}),WT.apply(this,arguments)}function Wx(n,e,t){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,pe.Z)(function*(n,e,t){const r=$e(n),i=[],u=[];for(const l of e){let m;const v=r.rc.get(l);if(v&&0!==v.length){m=yield lf(r.localStore,_i(v[0]));for(const I of v){const S=r.ic.get(I),N=yield pk(r,S);N.snapshot&&u.push(N.snapshot)}}else{const I=yield eT(r.localStore,l);m=yield lf(r.localStore,I),yield xT(r,Zx(I),l,!1,m.resumeToken)}i.push(m)}return r.sc.Wo(u),i}),ZT.apply(this,arguments)}function Zx(n){return xv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function _k(n){const e=$e(n);return $e($e(e.localStore).persistence).vi()}function vk(n,e,t,r){return KT.apply(this,arguments)}function KT(){return KT=(0,pe.Z)(function*(n,e,t,r){const i=$e(n);if(i.dc)return void Ne("SyncEngine","Ignoring unexpected query state notification.");const u=i.rc.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const l=yield tT(i.localStore,dI(u[0])),m=Sr.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Tr.EMPTY_BYTE_STRING);yield ld(i,l,m);break}case"rejected":yield sg(i.localStore,e,!0),Ry(i,e,r);break;default:Ke()}}),KT.apply(this,arguments)}function wk(n,e,t){return YT.apply(this,arguments)}function YT(){return YT=(0,pe.Z)(function*(n,e,t){const r=QT(n);if(r.dc){for(const i of e){if(r.rc.has(i)){Ne("SyncEngine","Adding an already active target "+i);continue}const u=yield eT(r.localStore,i),l=yield lf(r.localStore,u);yield xT(r,Zx(u),l.targetId,!1,l.resumeToken),lb(r.remoteStore,l)}for(const i of t)r.rc.has(i)&&(yield sg(r.localStore,i,!1).then(()=>{I0(r.remoteStore,i),Ry(r,i)}).catch(uc))}}),YT.apply(this,arguments)}function QT(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ak.bind(null,e),e.sc.Wo=QO.bind(null,e.eventManager),e.sc.wc=XO.bind(null,e.eventManager),e}function XT(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ck.bind(null,e),e}class Kx{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,pe.Z)(function*(){t.yt=Pe(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return _0(this.persistence,new by,e.initialUser,this.yt)}yc(e){return new m0(_y.Bs,this.yt)}gc(e){return new E}terminate(){var e=this;return(0,pe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Yx extends Kx{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,pe.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield XT(r.Ac.syncEngine),yield Ty(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return _0(this.persistence,new by,e.initialUser,this.yt)}Tc(e,t){return new qC(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new rx(t,this.persistence);return new EC(e.asyncQueue,r)}yc(e){const t=y0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ki.withCacheSize(this.cacheSizeBytes):ki.DEFAULT;return new wy(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,J(),me(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new E}}class Ik extends Yx{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,pe.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof _&&(r.sharedClientState.syncEngine={Fr:mk.bind(null,i),$r:vk.bind(null,i),Br:wk.bind(null,i),vi:_k.bind(null,i),Mr:gk.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var u=(0,pe.Z)(function*(l){yield function yk(n,e){return WT.apply(this,arguments)}(r.Ac.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return u.apply(this,arguments)}}())})()}gc(e){const t=J();if(!_.C(t))throw new Me(ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=y0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new _(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class JT{initialize(e,t){var r=this;return(0,pe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>zx(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=hk.bind(null,r.syncEngine),yield vT(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new YO}createDatastore(e){const t=Pe(e.databaseInfo.databaseId),r=new z(e.databaseInfo);return new Vt(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=m=>zx(this.syncEngine,m,0),l=T.C()?new T:new b,new UO(t,r,i,u,l);var t,r,i,u,l}createSyncEngine(e,t){return function(r,i,u,l,m,v,I){const S=new rk(r,i,u,l,m,v);return I&&(S.dc=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,pe.Z)(function*(t){const r=$e(t);Ne("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Cy(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function eS(n,e,t){if(!t)throw new Me(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Qx(n,e,t,r){if(!0===e&&!0===r)throw new Me(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Xx(n){if(!Ge.isDocumentKey(n))throw new Me(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Jx(n){if(Ge.isDocumentKey(n))throw new Me(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function hb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Ke()}function nn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hb(n);throw new Me(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function eM(n,e){if(e<=0)throw new Me(ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const tM=new Map;class nM{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Me(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Me(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Qx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class b0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nM({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Me(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Me(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nM(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new pv;switch(t.type){case"gapi":return new tx(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Me(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=tM.get(e);t&&(Ne("ComponentProvider","Removing Datastore"),tM.delete(e),t.terminate())}(this),Promise.resolve()}}class Wn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class Pi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Pi(this.firestore,e,this._query)}}class Tc extends Pi{constructor(e,t,r){super(e,t,Wh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new Ge(e))}withConverter(e){return new Tc(this.firestore,e,this._path)}}function iM(n,e,...t){if(n=(0,Ht.m9)(n),eS("collection","path",e),n instanceof b0){const r=tn.fromString(e,...t);return Jx(r),new Tc(n,null,r)}{if(!(n instanceof Wn||n instanceof Tc))throw new Me(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tn.fromString(e,...t));return Jx(r),new Tc(n.firestore,null,r)}}function fb(n,e,...t){if(n=(0,Ht.m9)(n),1===arguments.length&&(e=$l.R()),eS("doc","path",e),n instanceof b0){const r=tn.fromString(e,...t);return Xx(r),new Wn(n,null,new Ge(r))}{if(!(n instanceof Wn||n instanceof Tc))throw new Me(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tn.fromString(e,...t));return Xx(r),new Wn(n.firestore,n instanceof Tc?n.converter:null,new Ge(r))}}function sM(n,e){return n=(0,Ht.m9)(n),e=(0,Ht.m9)(e),(n instanceof Wn||n instanceof Tc)&&(e instanceof Wn||e instanceof Tc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function tS(n,e){return n=(0,Ht.m9)(n),e=(0,Ht.m9)(e),n instanceof Pi&&e instanceof Pi&&n.firestore===e.firestore&&Hp(n._query,e._query)&&n.converter===e.converter}function oM(n,e=10240){let t=0;return{read:()=>(0,pe.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,pe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class pb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Jn("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Dk{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new Vn,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,pe.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,pe.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,pe.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const u=yield e.Cc(i);return new JO(JSON.parse(u),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,pe.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,pe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,pe.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Sk{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,pe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Me(ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,pe.Z)(function*(u,l){const m=$e(u),v=Kp(m.yt)+"/documents",I={documents:l.map(G=>Ec(m.yt,G))},S=yield m._o("BatchGetDocuments",v,I,l.length),N=new Map;S.forEach(G=>{const Q=function OI(n,e){return"found"in e?function(t,r){st(!!r.found);const i=qs(t,r.found.name),u=zn(r.found.updateTime),l=r.found.createTime?zn(r.found.createTime):yt.min(),m=new Hr({mapValue:{fields:r.found.fields}});return Cn.newFoundDocument(i,u,l,m)}(n,e):"missing"in e?function(t,r){st(!!r.missing),st(!!r.readTime);const i=qs(t,r.missing),u=zn(r.readTime);return Cn.newNoDocument(i,u)}(n,e):Ke()}(m.yt,G);N.set(Q.key.toString(),Q)});const V=[];return l.forEach(G=>{const Q=N.get(G.toString());st(!!Q),V.push(Q)}),V}),function(u,l){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new vc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,pe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=Ge.fromPath(i);e.mutations.push(new Wp(u,e.precondition(u)))}),yield(r=(0,pe.Z)(function*(i,u){const l=$e(i),m=Kp(l.yt)+"/documents",v={writes:u.map(I=>ry(l.yt,I))};yield l.ao("Commit",m,v)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ke();t=yt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Me(ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(yt.min())?Tn.exists(!1):Tn.updateTime(t):Tn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(yt.min()))throw new Me(ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Tn.updateTime(t)}return Tn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Ak{constructor(e,t,r,i,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=u,this.kc=r.maxAttempts,this.xo=new ze(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,pe.Z)(function*(){const t=new Sk(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.Fc(u)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!Up(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!EI(t)}return!1}}class xk{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=jr.UNAUTHENTICATED,this.clientId=$l.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,pe.Z)(function*(m){Ne("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Ne("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,pe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Ay(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function aM(n,e){return nS.apply(this,arguments)}function nS(){return nS=(0,pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,pe.Z)(function*(u){r.isEqual(u)||(yield Dy(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),nS.apply(this,arguments)}function uM(n,e){return rS.apply(this,arguments)}function rS(){return rS=(0,pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield iS(n);Ne("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Lx(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>Lx(e.remoteStore,u)),n.onlineComponents=e}),rS.apply(this,arguments)}function iS(n){return sS.apply(this,arguments)}function sS(){return sS=(0,pe.Z)(function*(n){return n.offlineComponents||(Ne("FirestoreClient","Using default OfflineComponentProvider"),yield aM(n,new Kx)),n.offlineComponents}),sS.apply(this,arguments)}function gb(n){return oS.apply(this,arguments)}function oS(){return oS=(0,pe.Z)(function*(n){return n.onlineComponents||(Ne("FirestoreClient","Using default OnlineComponentProvider"),yield uM(n,new JT)),n.onlineComponents}),oS.apply(this,arguments)}function cM(n){return iS(n).then(e=>e.persistence)}function mb(n){return iS(n).then(e=>e.localStore)}function aS(n){return gb(n).then(e=>e.remoteStore)}function uS(n){return gb(n).then(e=>e.syncEngine)}function Ny(n){return cS.apply(this,arguments)}function cS(){return cS=(0,pe.Z)(function*(n){const e=yield gb(n),t=e.eventManager;return t.onListen=ik.bind(null,e.syncEngine),t.onUnlisten=sk.bind(null,e.syncEngine),t}),cS.apply(this,arguments)}function dM(n,e,t={}){const r=new Vn;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(i,u,l,m,v){const I=new pb({next:N=>{u.enqueueAndForget(()=>DT(i,S));const V=N.docs.has(l);!V&&N.fromCache?v.reject(new Me(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&N.fromCache&&m&&"server"===m.source?v.reject(new Me(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(N)},error:N=>v.reject(N)}),S=new ST(Wh(l.path),I,{includeMetadataChanges:!0,Nu:!0});return IT(i,S)}(yield Ny(n),n.asyncQueue,e,t,r)})),r.promise}function hM(n,e,t={}){const r=new Vn;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(i,u,l,m,v){const I=new pb({next:N=>{u.enqueueAndForget(()=>DT(i,S)),N.fromCache&&"server"===m.source?v.reject(new Me(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(N)},error:N=>v.reject(N)}),S=new ST(l,I,{includeMetadataChanges:!0,Nu:!0});return IT(i,S)}(yield Ny(n),n.asyncQueue,e,t,r)})),r.promise}class Lk{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new ze(this,"async_queue_retry"),this.Wc=()=>{const t=me();t&&Ne("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=me();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=me();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Vn;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,pe.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!iu(t))throw t;Ne("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Jn("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=ET.createAndSchedule(this,e,t,r,u=>this.Yc(u));return this.Uc.push(i),i}zc(){this.Kc&&Ke()}verifyOperationInProgress(){}Xc(){var e=this;return(0,pe.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function lS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Vk{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Zn extends b0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Lk,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||fM(this),this._firestoreClient.terminate()}}function Ar(n){return n._firestoreClient||fM(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function fM(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new ix(n._databaseId,u,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var u,m;n._firestoreClient=new xk(n._authCredentials,n._appCheckCredentials,n._queue,r)}function pM(n,e,t){const r=new Vn;return n.asyncQueue.enqueue((0,pe.Z)(function*(){try{yield aM(n,t),yield uM(n,e),r.resolve()}catch(i){const u=i;if(!("FirebaseError"===(l=u).name?l.code===ue.FAILED_PRECONDITION||l.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw u;ac("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var l})).then(()=>r.promise)}function gM(n){if(n._initialized||n._terminated)throw new Me(ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Sc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sc(Tr.fromBase64String(e))}catch(t){throw new Me(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Sc(Tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Me(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class og{constructor(e){this._methodName=e}}class yb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ft(this._lat,e._lat)||Ft(this._long,e._long)}}const Zk=/^__.*__$/;class Kk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Jo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yh(e,this.data,t,this.fieldTransforms)}}class mM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Jo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke()}}class _b{constructor(e,t,r,i,u,l){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===u&&this.na(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new _b(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Eb(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(yM(this.sa)&&Zk.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Yk{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||Pe(e)}da(e,t,r,i=!1){return new _b({sa:e,methodName:t,fa:r,path:Gn.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function ag(n){const e=n._freezeSettings(),t=Pe(n._databaseId);return new Yk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function vb(n,e,t,r,i,u={}){const l=n.da(u.merge||u.mergeFields?2:0,e,t,i);pS("Data must be an object, but it was:",l,r);const m=wM(r,l);let v,I;if(u.merge)v=new Qi(l.fieldMask),I=l.fieldTransforms;else if(u.mergeFields){const S=[];for(const N of u.mergeFields){const V=gS(e,N,t);if(!l.contains(V))throw new Me(ue.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);IM(S,V)||S.push(V)}v=new Qi(S),I=l.fieldTransforms.filter(N=>v.covers(N.field))}else v=null,I=l.fieldTransforms;return new Kk(new Hr(m),v,I)}class D0 extends og{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof D0}}function _M(n,e,t){return new _b({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class dS extends og{_toFieldTransform(e){return new Jl(e.path,new qp)}isEqual(e){return e instanceof dS}}class Qk extends og{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=_M(this,e,!0),r=this._a.map(u=>ug(u,t)),i=new mc(r);return new Jl(e.path,i)}isEqual(e){return this===e}}class Xk extends og{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=_M(this,e,!0),r=this._a.map(u=>ug(u,t)),i=new Xl(r);return new Jl(e.path,i)}isEqual(e){return this===e}}class Jk extends og{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Zh(e.yt,Fv(e.yt,this.wa));return new Jl(e.path,t)}isEqual(e){return this===e}}function hS(n,e,t,r){const i=n.da(1,e,t);pS("Data must be an object, but it was:",i,r);const u=[],l=Hr.empty();Yo(r,(v,I)=>{const S=wb(e,v,t);I=(0,Ht.m9)(I);const N=i.ca(S);if(I instanceof D0)u.push(S);else{const V=ug(I,N);null!=V&&(u.push(S),l.set(S,V))}});const m=new Qi(u);return new mM(l,m,i.fieldTransforms)}function fS(n,e,t,r,i,u){const l=n.da(1,e,t),m=[gS(e,r,t)],v=[i];if(u.length%2!=0)throw new Me(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<u.length;V+=2)m.push(gS(e,u[V])),v.push(u[V+1]);const I=[],S=Hr.empty();for(let V=m.length-1;V>=0;--V)if(!IM(I,m[V])){const G=m[V];let Q=v[V];Q=(0,Ht.m9)(Q);const we=l.ca(G);if(Q instanceof D0)I.push(G);else{const be=ug(Q,we);null!=be&&(I.push(G),S.set(G,be))}}const N=new Qi(I);return new mM(S,N,l.fieldTransforms)}function vM(n,e,t,r=!1){return ug(t,n.da(r?4:3,e))}function ug(n,e){if(EM(n=(0,Ht.m9)(n)))return pS("Unsupported field value:",e,n),wM(n,e);if(n instanceof og)return function(t,r){if(!yM(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const l of t){let m=ug(l,r.aa(u));null==m&&(m={nullValue:"NULL_VALUE"}),i.push(m),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Ht.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Fv(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Lt.fromDate(t);return{timestampValue:Jh(r.yt,i)}}if(t instanceof Lt){const i=new Lt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Jh(r.yt,i)}}if(t instanceof yb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Sc)return{bytesValue:MI(r.yt,t._byteString)};if(t instanceof Wn){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r.ha(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ny(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${hb(t)}`)}(n,e)}function wM(n,e){const t={};return $E(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yo(n,(r,i)=>{const u=ug(i,e.ra(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function EM(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Lt||n instanceof yb||n instanceof Sc||n instanceof Wn||n instanceof og)}function pS(n,e,t){if(!EM(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=hb(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function gS(n,e,t){if((e=(0,Ht.m9)(e))instanceof dd)return e._internalPath;if("string"==typeof e)return wb(n,e);throw Eb("Field path arguments must be of type string or ",n,!1,void 0,t)}const e1=new RegExp("[~\\*/\\[\\]]");function wb(n,e,t){if(e.search(e1)>=0)throw Eb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new dd(...e.split("."))._internalPath}catch{throw Eb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Eb(n,e,t,r,i){const u=r&&!r.isEmpty(),l=void 0!==i;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let v="";return(u||l)&&(v+=" (found",u&&(v+=` in field ${r}`),l&&(v+=` in document ${i}`),v+=")"),new Me(ue.INVALID_ARGUMENT,m+n+v)}function IM(n,e){return n.some(t=>t.isEqual(e))}class C0{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new t1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ib("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class t1 extends C0{data(){return super.data()}}function Ib(n,e){return"string"==typeof e?wb(n,e):e instanceof dd?e._internalPath:e._delegate._internalPath}function bM(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Me(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mS{}class T0 extends mS{}function hf(n,e,...t){let r=[];e instanceof mS&&r.push(e),r=r.concat(t),function(i){const u=i.filter(m=>m instanceof Oy).length,l=i.filter(m=>m instanceof S0).length;if(u>1||u>0&&l>0)throw new Me(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class S0 extends T0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new S0(e,t,r)}_apply(e){const t=this._parse(e);return SM(e._query,t),new Pi(e.firestore,e.converter,Rv(e._query,t))}_parse(e){const t=ag(e.firestore);return function(i,u,l,m,v,I,S){let N;if(v.isKeyField()){if("array-contains"===I||"array-contains-any"===I)throw new Me(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if("in"===I||"not-in"===I){TM(S,I);const V=[];for(const G of S)V.push(CM(m,i,G));N={arrayValue:{values:V}}}else N=CM(m,i,S)}else"in"!==I&&"not-in"!==I&&"array-contains-any"!==I||TM(S,I),N=vM(l,"where",S,"in"===I||"not-in"===I);return Xt.create(v,I,N)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Oy extends mS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Oy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:un.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let u=r;const l=i.getFlattenedFilters();for(const m of l)SM(u,m),u=Rv(u,m)}(e._query,t),new Pi(e.firestore,e.converter,Rv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class yS extends T0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new yS(e,t)}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new Me(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Me(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new ho(i,u);return function(m,v){if(null===cI(m)){const I=Zm(m);null!==I&&AM(0,I,v.field)}}(r,l),l}(e._query,this._field,this._direction);return new Pi(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new gc(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class bb extends T0{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new bb(e,t,r)}_apply(e){return new Pi(e.firestore,e.converter,Km(e._query,this._limit,this._limitType))}}class Db extends T0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Db(e,t,r)}_apply(e){const t=DM(e,this.type,this._docOrFields,this._inclusive);return new Pi(e.firestore,e.converter,(i=t,new gc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class Cb extends T0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Cb(e,t,r)}_apply(e){const t=DM(e,this.type,this._docOrFields,this._inclusive);return new Pi(e.firestore,e.converter,(i=t,new gc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function DM(n,e,t,r){if(t[0]=(0,Ht.m9)(t[0]),t[0]instanceof C0)return function(i,u,l,m,v){if(!m)throw new Me(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const I=[];for(const S of Ql(i))if(S.field.isKeyField())I.push(Zl(u,m.key));else{const N=m.data.field(S.field);if(Vm(N))throw new Me(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===N){const V=S.field.canonicalString();throw new Me(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}I.push(N)}return new hc(I,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=ag(n.firestore);return function(u,l,m,v,I,S){const N=u.explicitOrderBy;if(I.length>N.length)throw new Me(ue.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let G=0;G<I.length;G++){const Q=I[G];if(N[G].field.isKeyField()){if("string"!=typeof Q)throw new Me(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof Q}`);if(!Mv(u)&&-1!==Q.indexOf("/"))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${Q}' contains a slash.`);const we=u.path.child(tn.fromString(Q));if(!Ge.isDocumentKey(we))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${we}' is not because it contains an odd number of segments.`);const be=new Ge(we);V.push(Zl(l,be))}else{const we=vM(m,v,Q);V.push(we)}}return new hc(V,S)}(n._query,n.firestore._databaseId,i,e,t,r)}}function CM(n,e,t){if("string"==typeof(t=(0,Ht.m9)(t))){if(""===t)throw new Me(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mv(e)&&-1!==t.indexOf("/"))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(tn.fromString(t));if(!Ge.isDocumentKey(r))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zl(n,new Ge(r))}if(t instanceof Wn)return Zl(n,t._key);throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hb(t)}.`)}function TM(n,e){if(!Array.isArray(n)||0===n.length)throw new Me(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Me(ue.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function SM(n,e){if(e.isInequality()){const r=Zm(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const u=cI(n);null!==u&&AM(0,i,u)}const t=function(r,i){for(const u of r)for(const l of u.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Me(ue.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function AM(n,e,t){if(!t.isEqual(e))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class _S{convertValue(e,t="none"){switch(lc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ar(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ke()}}convertObject(e,t){const r={};return Yo(e.fields,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new yb(ar(e.latitude),ar(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=HE(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Bp(e));default:return null}}convertTimestamp(e){const t=cc(e);return new Lt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=tn.fromString(e);st(Qv(r));const i=new ql(r.get(1),r.get(3)),u=new Ge(r.popFirst(5));return i.isEqual(t)||Jn(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function Tb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class l1 extends _S{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,t)}}class cg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hd extends C0{constructor(e,t,r,i,u,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new A0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ib("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class A0 extends hd{data(e={}){return super.data(e)}}class ff{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new cg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new A0(this._firestore,this._userDataWriter,r.key,r,new cg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new A0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new cg(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const m=new A0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new cg(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,I=-1;return 0!==l.type&&(v=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),I=u.indexOf(l.doc.key)),{type:d1(l.type),doc:m,oldIndex:v,newIndex:I}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function d1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke()}}function MM(n,e){return n instanceof hd&&e instanceof hd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ff&&e instanceof ff&&n._firestore===e._firestore&&tS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class pf extends _S{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,t)}}function RM(n,e,t){n=nn(n,Wn);const r=nn(n.firestore,Zn),i=Tb(n.converter,e,t);return ky(r,[vb(ag(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Tn.none())])}function NM(n,e,t,...r){n=nn(n,Wn);const i=nn(n.firestore,Zn),u=ag(i);let l;return l="string"==typeof(e=(0,Ht.m9)(e))||e instanceof dd?fS(u,"updateDoc",n._key,e,t,r):hS(u,"updateDoc",n._key,e),ky(i,[l.toMutation(n._key,Tn.exists(!0))])}function OM(n,...e){var t,r,i;n=(0,Ht.m9)(n);let u={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||lS(e[l])||(u=e[l],l++);const m={includeMetadataChanges:u.includeMetadataChanges};if(lS(e[l])){const N=e[l];e[l]=null===(t=N.next)||void 0===t?void 0:t.bind(N),e[l+1]=null===(r=N.error)||void 0===r?void 0:r.bind(N),e[l+2]=null===(i=N.complete)||void 0===i?void 0:i.bind(N)}let v,I,S;if(n instanceof Wn)I=nn(n.firestore,Zn),S=Wh(n._key.path),v={next:N=>{e[l]&&e[l](vS(I,n,N))},error:e[l+1],complete:e[l+2]};else{const N=nn(n,Pi);I=nn(N.firestore,Zn),S=N._query;const V=new pf(I);v={next:G=>{e[l]&&e[l](new ff(I,V,N,G))},error:e[l+1],complete:e[l+2]},bM(n._query)}return function(N,V,G,Q){const we=new pb(Q),be=new ST(V,we,G);return N.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return IT(yield Ny(N),be)})),()=>{we.bc(),N.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return DT(yield Ny(N),be)}))}}(Ar(I),S,m,v)}function ky(n,e){return function(t,r){const i=new Vn;return t.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function ok(n,e,t){return NT.apply(this,arguments)}(yield uS(t),r,i)})),i.promise}(Ar(n),e)}function vS(n,e,t){const r=t.docs.get(e._key),i=new pf(n);return new hd(n,i,e._key,r,new cg(t.hasPendingWrites,t.fromCache),e.converter)}const E1={maxAttempts:5};class kM{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ag(e)}set(e,t,r){this._verifyNotCommitted();const i=gf(e,this._firestore),u=Tb(i.converter,t,r),l=vb(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,r);return this._mutations.push(l.toMutation(i._key,Tn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const u=gf(e,this._firestore);let l;return l="string"==typeof(t=(0,Ht.m9)(t))||t instanceof dd?fS(this._dataReader,"WriteBatch.update",u._key,t,r,i):hS(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(l.toMutation(u._key,Tn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=gf(e,this._firestore);return this._mutations=this._mutations.concat(new vc(t._key,Tn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gf(n,e){if((n=(0,Ht.m9)(n)).firestore!==e)throw new Me(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class I1 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ag(e)}get(e){const t=gf(e,this._firestore),r=new l1(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Ke();const u=i[0];if(u.isFoundDocument())return new C0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new C0(this._firestore,r,t._key,null,t.converter);throw Ke()})}set(e,t,r){const i=gf(e,this._firestore),u=Tb(i.converter,t,r),l=vb(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const u=gf(e,this._firestore);let l;return l="string"==typeof(t=(0,Ht.m9)(t))||t instanceof dd?fS(this._dataReader,"Transaction.update",u._key,t,r,i):hS(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,l),this}delete(e){const t=gf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=gf(e,this._firestore),r=new pf(this._firestore);return super.get(e).then(i=>new hd(this._firestore,r,t._key,i._document,new cg(!1,!1),t.converter))}}function wS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function FM(){if(typeof Uint8Array>"u")throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function LM(){if(!function IC(){return typeof atob<"u"}())throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){jl=hs.SDK_VERSION,(0,hs._registerComponent)(new Nl.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const u=t.getProvider("app").getImmediate(),l=new Zn(new LE(t.getProvider("auth-internal")),new mC(t.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Me(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(m.options.projectId,v)}(u,r),u);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,hs.registerVersion)(OE,"3.8.1",n),(0,hs.registerVersion)(OE,"3.8.1","esm2017")}();class x0{constructor(e){this._delegate=e}static fromBase64String(e){return LM(),new x0(Sc.fromBase64String(e))}static fromUint8Array(e){return FM(),new x0(Sc.fromUint8Array(e))}toBase64(){return LM(),this._delegate.toBase64()}toUint8Array(){return FM(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ES(n){return function R1(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class N1{enableIndexedDbPersistence(e,t){return function Bk(n,e){gM(n=nn(n,Zn));const t=Ar(n),r=n._freezeSettings(),i=new JT;return pM(t,i,new Yx(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function jk(n){gM(n=nn(n,Zn));const e=Ar(n),t=n._freezeSettings(),r=new JT;return pM(e,r,new Ik(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function $k(n){if(n._initialized&&!n._terminated)throw new Me(ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Vn;return n._queue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{yield(t=(0,pe.Z)(function*(r){if(!lo.C())return Promise.resolve();const i=r+"main";yield lo.delete(i)}),function(r){return t.apply(this,arguments)})(y0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class VM{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ql||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ac("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function rM(n,e,t,r={}){var i;const u=(n=nn(n,b0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&ac("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let l,m;if("string"==typeof r.mockUserToken)l=r.mockUserToken,m=jr.MOCK_USER;else{l=(0,Ht.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Me(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new jr(v)}n._authCredentials=new ex(new FE(l,m))}}(this._delegate,e,t,r)}enableNetwork(){return function Gk(n){return function Mk(n){return n.asyncQueue.enqueue((0,pe.Z)(function*(){const e=yield cM(n),t=yield aS(n);return e.setNetworkEnabled(!0),function(r){const i=$e(r);return i._u.delete(0),E0(i)}(t)}))}(Ar(n=nn(n,Zn)))}(this._delegate)}disableNetwork(){return function zk(n){return function Rk(n){return n.asyncQueue.enqueue((0,pe.Z)(function*(){const e=yield cM(n),t=yield aS(n);return e.setNetworkEnabled(!1),(r=(0,pe.Z)(function*(i){const u=$e(i);u._u.add(0),yield Cy(u),u.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Ar(n=nn(n,Zn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Qx("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Hk(n){return function(e){const t=new Vn;return e.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function lk(n,e){return LT.apply(this,arguments)}(yield uS(e),t)})),t.promise}(Ar(n=nn(n,Zn)))}(this._delegate)}onSnapshotsInSync(e){return function w1(n,e){return function kk(n,e){const t=new pb(e);return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return r=yield Ny(n),i=t,$e(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return r=yield Ny(n),i=t,void $e(r).Ru.delete(i);var r,i}))}}(Ar(n=nn(n,Zn)),lS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Py(this,iM(this._delegate,e))}catch(t){throw ys(t,"collection()","Firestore.collection()")}}doc(e){try{return new ra(this,fb(this._delegate,e))}catch(t){throw ys(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new _s(this,function bk(n,e){if(n=nn(n,b0),eS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Me(ue.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Pi(n,null,(t=e,new gc(tn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ys(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function b1(n,e,t){n=nn(n,Zn);const r=Object.assign(Object.assign({},E1),t);return function(i){if(i.maxAttempts<1)throw new Me(ue.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,u,l){const m=new Vn;return i.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){const v=yield function lM(n){return gb(n).then(e=>e.datastore)}(i);new Ak(i.asyncQueue,v,l,u,m).run()})),m.promise}(Ar(n),i=>e(new I1(n,i)),r)}(this._delegate,t=>e(new UM(this,t)))}batch(){return Ar(this._delegate),new BM(new kM(this._delegate,e=>ky(this._delegate,e)))}loadBundle(e){return function qk(n,e){const t=Ar(n=nn(n,Zn)),r=new Vk;return function Pk(n,e,t,r){const i=function(u,l){let m;return m="string"==typeof u?(new TextEncoder).encode(u):u,v=function(v,I){if(v instanceof Uint8Array)return oM(v,I);if(v instanceof ArrayBuffer)return oM(new Uint8Array(v),I);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new Dk(v,l);var v}(t,Pe(e));n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){!function Ek(n,e,t){const r=$e(n);var i;(i=(0,pe.Z)(function*(u,l,m){try{const v=yield l.getMetadata();if(yield function(V,G){const Q=$e(V),we=zn(G.createTime);return Q.persistence.runTransaction("hasNewerBundle","readonly",be=>Q.Ns.getBundleMetadata(be,G.id)).then(be=>!!be&&be.createTime.compareTo(we)>=0)}(u.localStore,v))return yield l.close(),m._completeWith({taskState:"Success",documentsLoaded:(V=v).totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}),Promise.resolve(new Set);m._updateProgress(Bx(v));const I=new ek(v,u.localStore,l.yt);let S=yield l.mc();for(;S;){const V=yield I.Fu(S);V&&m._updateProgress(V),S=yield l.mc()}const N=yield I.complete();return yield ld(u,N.Lu,void 0),yield function(V,G){const Q=$e(V);return Q.persistence.runTransaction("Save bundle","readwrite",we=>Q.Ns.saveBundleMetadata(we,G))}(u.localStore,v),m._completeWith(N.progress),Promise.resolve(N.Bu)}catch(v){return ac("SyncEngine",`Loading bundle failed with ${v}`),m._failWith(v),Promise.resolve(new Set)}var V}),function(u,l,m){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield uS(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Wk(n,e){return function Fk(n,e){return n.asyncQueue.enqueue((0,pe.Z)(function*(){return function(t,r){const i=$e(t);return i.persistence.runTransaction("Get named query","readonly",u=>i.Ns.getNamedQuery(u,r))}(yield mb(n),e)}))}(Ar(n=nn(n,Zn)),e).then(t=>t?new Pi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new _s(this,t):null)}}class Sb extends _S{constructor(e){super(),this.firestore=e}convertBytes(e){return new x0(new Sc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ra.forKey(t,this.firestore,null)}}class UM{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Sb(e)}get(e){const t=dg(e);return this._delegate.get(t).then(r=>new M0(this._firestore,new hd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=dg(e);return r?(wS("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=dg(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=dg(e);return this._delegate.delete(t),this}}class BM{constructor(e){this._delegate=e}set(e,t,r){const i=dg(e);return r?(wS("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=dg(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=dg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class lg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new A0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new R0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=lg.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new lg(e,new Sb(e),t),i.set(t,u)),u}}lg.INSTANCES=new WeakMap;class ra{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Sb(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ra(t,new Wn(t._delegate,r,new Ge(e)))}static forKey(e,t,r){return new ra(t,new Wn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Py(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Py(this.firestore,iM(this._delegate,e))}catch(t){throw ys(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ht.m9)(e))instanceof Wn&&sM(this._delegate,e)}set(e,t){t=wS("DocumentReference.set",t);try{return t?RM(this._delegate,e,t):RM(this._delegate,e)}catch(r){throw ys(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?NM(this._delegate,e):NM(this._delegate,e,t,...r)}catch(i){throw ys(i,"updateDoc()","DocumentReference.update()")}}delete(){return function _1(n){return ky(nn(n.firestore,Zn),[new vc(n._key,Tn.none())])}(this._delegate)}onSnapshot(...e){const t=jM(e),r=$M(e,i=>new M0(this.firestore,new hd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return OM(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function f1(n){n=nn(n,Wn);const e=nn(n.firestore,Zn),t=Ar(e),r=new pf(e);return function Nk(n,e){const t=new Vn;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(r=(0,pe.Z)(function*(i,u,l){try{const m=yield function(v,I){const S=$e(v);return S.persistence.runTransaction("read document","readonly",N=>S.localDocuments.getDocument(N,I))}(i,u);m.isFoundDocument()?l.resolve(m):m.isNoDocument()?l.resolve(null):l.reject(new Me(ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const v=Ay(m,`Failed to get document '${u} from cache`);l.reject(v)}}),function(i,u,l){return r.apply(this,arguments)})(yield mb(n),e,t);var r})),t.promise}(t,n._key).then(i=>new hd(e,r,n._key,i,new cg(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function p1(n){n=nn(n,Wn);const e=nn(n.firestore,Zn);return dM(Ar(e),n._key,{source:"server"}).then(t=>vS(e,n,t))}(this._delegate):function h1(n){n=nn(n,Wn);const e=nn(n.firestore,Zn);return dM(Ar(e),n._key).then(t=>vS(e,n,t))}(this._delegate),t.then(r=>new M0(this.firestore,new hd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ra(this.firestore,this._delegate.withConverter(e?lg.getInstance(this.firestore,e):null))}}function ys(n,e,t){return n.message=n.message.replace(e,t),n}function jM(n){for(const e of n)if("object"==typeof e&&!ES(e))return e;return{}}function $M(n,e){var t,r;let i;return i=ES(n[0])?n[0]:ES(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class M0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ra(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return MM(this._delegate,e._delegate)}}class R0 extends M0{data(e){const t=this._delegate.data(e);return function PE(n,e){n||Ke()}(void 0!==t),t}}class _s{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Sb(e)}where(e,t,r){try{return new _s(this.firestore,hf(this._delegate,function n1(n,e,t){const r=e,i=Ib("where",n);return S0._create(i,r,t)}(e,t,r)))}catch(i){throw ys(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new _s(this.firestore,hf(this._delegate,function r1(n,e="asc"){const t=e,r=Ib("orderBy",n);return yS._create(r,t)}(e,t)))}catch(r){throw ys(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new _s(this.firestore,hf(this._delegate,function i1(n){return eM("limit",n),bb._create("limit",n,"F")}(e)))}catch(t){throw ys(t,"limit()","Query.limit()")}}limitToLast(e){try{return new _s(this.firestore,hf(this._delegate,function s1(n){return eM("limitToLast",n),bb._create("limitToLast",n,"L")}(e)))}catch(t){throw ys(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new _s(this.firestore,hf(this._delegate,function o1(...n){return Db._create("startAt",n,!0)}(...e)))}catch(t){throw ys(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new _s(this.firestore,hf(this._delegate,function a1(...n){return Db._create("startAfter",n,!1)}(...e)))}catch(t){throw ys(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new _s(this.firestore,hf(this._delegate,function u1(...n){return Cb._create("endBefore",n,!1)}(...e)))}catch(t){throw ys(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new _s(this.firestore,hf(this._delegate,function c1(...n){return Cb._create("endAt",n,!0)}(...e)))}catch(t){throw ys(t,"endAt()","Query.endAt()")}}isEqual(e){return tS(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function m1(n){n=nn(n,Pi);const e=nn(n.firestore,Zn),t=Ar(e),r=new pf(e);return function Ok(n,e){const t=new Vn;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(r=(0,pe.Z)(function*(i,u,l){try{const m=yield w0(i,u,!0),v=new Hx(u,m.Hi),I=v.Wu(m.documents),S=v.applyChanges(I,!1);l.resolve(S.snapshot)}catch(m){const v=Ay(m,`Failed to execute query '${u} against cache`);l.reject(v)}}),function(i,u,l){return r.apply(this,arguments)})(yield mb(n),e,t);var r})),t.promise}(t,n._query).then(i=>new ff(e,r,n,i))}(this._delegate):"server"===e?.source?function y1(n){n=nn(n,Pi);const e=nn(n.firestore,Zn),t=Ar(e),r=new pf(e);return hM(t,n._query,{source:"server"}).then(i=>new ff(e,r,n,i))}(this._delegate):function g1(n){n=nn(n,Pi);const e=nn(n.firestore,Zn),t=Ar(e),r=new pf(e);return bM(n._query),hM(t,n._query).then(i=>new ff(e,r,n,i))}(this._delegate),t.then(r=>new IS(this.firestore,new ff(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=jM(e),r=$M(e,i=>new IS(this.firestore,new ff(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return OM(this._delegate,t,r)}withConverter(e){return new _s(this.firestore,this._delegate.withConverter(e?lg.getInstance(this.firestore,e):null))}}class k1{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new R0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class IS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new _s(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new R0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new k1(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new R0(this._firestore,r))})}isEqual(e){return MM(this._delegate,e._delegate)}}class Py extends _s{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ra(this.firestore,e):null}doc(e){try{return new ra(this.firestore,void 0===e?fb(this._delegate):fb(this._delegate,e))}catch(t){throw ys(t,"doc()","CollectionReference.doc()")}}add(e){return function v1(n,e){const t=nn(n.firestore,Zn),r=fb(n),i=Tb(n.converter,e);return ky(t,[vb(ag(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Tn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ra(this.firestore,t))}isEqual(e){return sM(this._delegate,e._delegate)}withConverter(e){return new Py(this.firestore,this._delegate.withConverter(e?lg.getInstance(this.firestore,e):null))}}function dg(n){return nn(n,Wn)}class bS{constructor(...e){this._delegate=new dd(...e)}static documentId(){return new bS(Gn.keyField().canonicalString())}isEqual(e){return(e=(0,Ht.m9)(e))instanceof dd&&this._delegate._internalPath.isEqual(e._internalPath)}}class hg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function C1(){return new dS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new hg(e)}static delete(){const e=function D1(){return new D0("deleteField")}();return e._methodName="FieldValue.delete",new hg(e)}static arrayUnion(...e){const t=function T1(...n){return new Qk("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new hg(t)}static arrayRemove(...e){const t=function S1(...n){return new Xk("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new hg(t)}static increment(e){const t=function A1(n){return new Jk("increment",n)}(e);return t._methodName="FieldValue.increment",new hg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const P1={Firestore:VM,GeoPoint:yb,Timestamp:Lt,Blob:x0,Transaction:UM,WriteBatch:BM,DocumentReference:ra,DocumentSnapshot:M0,Query:_s,QueryDocumentSnapshot:R0,QuerySnapshot:IS,CollectionReference:Py,FieldPath:bS,FieldValue:hg,setLogLevel:function O1(n){!function kE(n){nu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function L1(n){(function F1(n,e){n.INTERNAL.registerComponent(new Nl.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},P1)))})(n,(e,t)=>new VM(e,t,new N1)),n.registerVersion("@firebase/firestore-compat","0.3.1")}(Jg.Z);var V1=k(6451),Ab=k(5363),U1=k(6063);class B1 extends Qn.x{constructor(e=1/0,t=1/0,r=U1.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:l}=this;t||(r.push(e),!i&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const l=t.now();let m=0;for(let v=1;v<r.length&&r[v]<=l;v+=2)m=v;m&&r.splice(0,m+1)}}}var j1=k(3099);function HM(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,j1.B)({connector:()=>new B1(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function GM(n,e){return(0,ka.m)(e)?$n(()=>n,e):$n(()=>n)}var DS=k(9468);k(259);const TS=new Map,qM={activated:!1,tokenObservers:[]},q1={initialized:!1,enabled:!1};function Fi(n){return TS.get(n)||Object.assign({},qM)}function Mb(){return q1}class X1{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,pe.Z)(function*(){t.stop();try{t.pending=new Ht.BH,yield function J1(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ht.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const vs=new Ht.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ZM(n){if(!Fi(n).activated)throw vs.create("use-before-activation",{appName:n.name})}function xS(n,e){return MS.apply(this,arguments)}function MS(){return MS=(0,pe.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const N=yield i.getHeartbeatsHeader();N&&(r["X-Firebase-Client"]=N)}const u={method:"POST",body:JSON.stringify(e),headers:r};let l,m;try{l=yield fetch(n,u)}catch(N){throw vs.create("fetch-network-error",{originalErrorMessage:N?.message})}if(200!==l.status)throw vs.create("fetch-status-error",{httpStatus:l.status});try{m=yield l.json()}catch(N){throw vs.create("fetch-parse-error",{originalErrorMessage:N?.message})}const v=m.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw vs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const I=1e3*Number(v[1]),S=Date.now();return{token:m.token,expireTimeMillis:S+I,issuedAtTimeMillis:S}}),MS.apply(this,arguments)}function rP(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const N0="firebase-app-check-store";let Ob=null;function YM(){return Ob||(Ob=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(vs.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(N0,{keyPath:"compositeKey"})}}catch(t){e(vs.create("storage-open",{originalErrorMessage:t?.message}))}}),Ob)}function RS(){return RS=(0,pe.Z)(function*(n,e){const r=(yield YM()).transaction(N0,"readwrite"),u=r.objectStore(N0).put({compositeKey:n,value:e});return new Promise((l,m)=>{u.onsuccess=v=>{l()},r.onerror=v=>{var I;m(vs.create("storage-set",{originalErrorMessage:null===(I=v.target.error)||void 0===I?void 0:I.message}))}})}),RS.apply(this,arguments)}const O0=new zo.Yd("@firebase/app-check");function kS(n,e){return(0,Ht.hl)()?function aP(n,e){return function QM(n,e){return RS.apply(this,arguments)}(function JM(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{O0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function eR(){return Mb().enabled}function tR(){return FS.apply(this,arguments)}function FS(){return FS=(0,pe.Z)(function*(){const n=Mb();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),FS.apply(this,arguments)}const fP={error:"UNKNOWN_ERROR"};function pP(n){return Ht.US.encodeString(JSON.stringify(n),!1)}function kb(n){return LS.apply(this,arguments)}function LS(){return LS=(0,pe.Z)(function*(n,e=!1){const t=n.app;ZM(t);const r=Fi(t);let u,i=r.token;if(i&&!Fy(i)&&(r.token=void 0,i=void 0),!i){const v=yield r.cachedTokenPromise;v&&(Fy(v)?i=v:yield kS(t,void 0))}if(!e&&i&&Fy(i))return{token:i.token};let m,l=!1;if(eR()){r.exchangeTokenPromise||(r.exchangeTokenPromise=xS(rP(t,yield tR()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const v=yield r.exchangeTokenPromise;return yield kS(t,v),r.token=v,{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield Fi(t).exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?O0.warn(v.message):O0.error(v),u=v}return i?u?m=Fy(i)?{token:i.token,internalError:u}:iR(u):(m={token:i.token},r.token=i,yield kS(t,i)):m=iR(u),l&&rR(t,m),m}),LS.apply(this,arguments)}function US(n,e){const t=Fi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function nR(n){const{app:e}=n,t=Fi(e);let r=t.tokenRefresher;r||(r=function gP(n){const{app:e}=n;return new X1((0,pe.Z)(function*(){let r;if(r=Fi(e).token?yield kb(n,!0):yield kb(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Fi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function rR(n,e){const t=Fi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Fy(n){return n.expireTimeMillis-Date.now()>0}function iR(n){return{token:pP(fP),error:n}}class mP{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Fi(this.app);for(const t of e)US(this.app,t.next);return Promise.resolve()}}const hR="app-check-internal";!function MP(){(0,hs._registerComponent)(new Nl.wA("app-check",n=>function yP(n,e){return new mP(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(hR).initialize()})),(0,hs._registerComponent)(new Nl.wA(hR,n=>function _P(n){return{getToken:e=>kb(n,e),addTokenListener:e=>function VS(n,e,t,r){const{app:i}=n,u=Fi(i);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&Fy(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),nR(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>nR(n))}(n,"INTERNAL",e),removeTokenListener:e=>US(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,hs.registerVersion)("@firebase/app-check","0.6.1")}();class Fb{constructor(){return(0,gn.vb)("app-check")}}typeof window<"u"&&window;var pR=k(9260);const gR=new h.OlP("angularfire2.auth.use-emulator"),GS=new h.OlP("angularfire2.auth.settings"),mR=new h.OlP("angularfire2.auth.tenant-id"),yR=new h.OlP("angularfire2.auth.langugage-code"),_R=new h.OlP("angularfire2.auth.use-device-language"),vR=new h.OlP("angularfire.auth.persistence"),wR=(n,e,t,r,i,u,l,m)=>(0,Ur.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=i,u&&v.useDeviceLanguage(),l)for(const[I,S]of Object.entries(l))v.settings[I]=S;return m&&v.setPersistence(m),v},[t,r,i,u,l,m]);let ER=(()=>{class n{constructor(t,r,i,u,l,m,v,I,S,N,V,G){const Q=new Qn.x,we=Ye(void 0).pipe((0,Ab.Q)(l.outsideAngular),$n(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,750)))),(0,at.U)(()=>(0,Ur.on)(t,u,r)),(0,at.U)(be=>wR(be,u,m,I,S,N,v,V)),HM({bufferSize:1,refCount:!1}));if(Uc(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ye(null);else{we.pipe(Vo()).subscribe();const tt=we.pipe($n(it=>it.getRedirectResult().then(Ct=>Ct,()=>null)),gn.iC,HM({bufferSize:1,refCount:!1})),Et=we.pipe($n(it=>new Bn.y(Ct=>({unsubscribe:u.runOutsideAngular(()=>it.onAuthStateChanged(Ut=>Ct.next(Ut),Ut=>Ct.error(Ut),()=>Ct.complete()))})))),ot=we.pipe($n(it=>new Bn.y(Ct=>({unsubscribe:u.runOutsideAngular(()=>it.onIdTokenChanged(Ut=>Ct.next(Ut),Ut=>Ct.error(Ut),()=>Ct.complete()))}))));this.authState=tt.pipe(GM(Et),(0,DS.R)(l.outsideAngular),(0,Ab.Q)(l.insideAngular)),this.user=tt.pipe(GM(ot),(0,DS.R)(l.outsideAngular),(0,Ab.Q)(l.insideAngular)),this.idToken=this.user.pipe($n(it=>it?(0,an.D)(it.getIdToken()):Ye(null))),this.idTokenResult=this.user.pipe($n(it=>it?(0,an.D)(it.getIdTokenResult()):Ye(null))),this.credential=(0,V1.T)(tt,Q,this.authState.pipe(us(it=>!it))).pipe((0,at.U)(it=>it?.user?it:null),(0,DS.R)(l.outsideAngular),(0,Ab.Q)(l.insideAngular))}return(0,Ur.pX)(this,we,u,{spy:{apply:(be,tt,Et)=>{(be.startsWith("signIn")||be.startsWith("createUser"))&&Et.then(ot=>Q.next(ot))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ur.Dh),h.LFG(Ur.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(gn.HU),h.LFG(gR,8),h.LFG(GS,8),h.LFG(mR,8),h.LFG(yR,8),h.LFG(_R,8),h.LFG(vR,8),h.LFG(Fb,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function IR(n,e){return function FP(n,e=fp.z){return new Bn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function zS(n,e){return IR(n,e).pipe((0,at.U)(t=>({payload:t,type:"query"})))}function Lb(n,e){return zS(n,e).pipe(ll(void 0),pp(),(0,at.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,m)=>{const v=i.find(S=>S.doc.ref.isEqual(l.ref)),I=t?.payload.docs.find(S=>S.ref.isEqual(l.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(l.metadata)||!v&&I&&JSON.stringify(I.metadata)===JSON.stringify(l.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:l}})}),u}))}function bR(n,e,t){return Lb(n,t).pipe(qd((r,i)=>function VP(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function UP(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return qS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return qS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return qS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),function gp(n,e=io.y){return n=n??x_,(0,Dn.e)((t,r)=>{let i,u=!0;t.subscribe((0,H.x)(r,l=>{const m=e(l);(u||!n(i,m))&&(u=!1,i=m,r.next(l))}))})}(),(0,at.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function qS(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function DR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class CR{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Lb(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,at.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(ll(void 0),pp(),us(([r,i])=>i.length>0||!r),(0,at.U)(([r,i])=>i),gn.iC)}auditTrail(e){return this.stateChanges(e).pipe(qd((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=DR(e);return bR(this.query,t,this.afs.schedulers.outsideAngular).pipe(gn.iC)}valueChanges(e={}){return zS(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),gn.iC)}get(e){return(0,an.D)(this.query.get(e)).pipe(gn.iC)}add(e){return this.ref.add(e)}doc(e){return new TR(this.ref.doc(e),this.afs)}}class TR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=xR(r,t);return new CR(i,u,this.afs)}snapshotChanges(){return function LP(n,e){return IR(n,e).pipe(ll(void 0),pp(),(0,at.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(gn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,at.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,an.D)(this.ref.get(e)).pipe(gn.iC)}}class BP{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Lb(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),us(t=>t.length>0),gn.iC):Lb(this.query,this.afs.schedulers.outsideAngular).pipe(gn.iC)}auditTrail(e){return this.stateChanges(e).pipe(qd((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=DR(e);return bR(this.query,t,this.afs.schedulers.outsideAngular).pipe(gn.iC)}valueChanges(e={}){return zS(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),gn.iC)}get(e){return(0,an.D)(this.query.get(e)).pipe(gn.iC)}}const SR=new h.OlP("angularfire2.enableFirestorePersistence"),AR=new h.OlP("angularfire2.firestore.persistenceSettings"),jP=new h.OlP("angularfire2.firestore.settings"),$P=new h.OlP("angularfire2.firestore.use-emulator");function xR(n,e=(t=>t)){return{query:e(n),ref:n}}let WS=(()=>{class n{constructor(t,r,i,u,l,m,v,I,S,N,V,G,Q,we,be,tt,Et){this.schedulers=v;const ot=(0,Ur.on)(t,m,r),it=S;N&&wR(ot,m,V,Q,we,be,G,tt),[this.firestore,this.persistenceEnabled$]=(0,Ur.cc)(`${ot.name}.firestore`,"AngularFirestore",ot.name,()=>{const Ct=m.runOutsideAngular(()=>ot.firestore());if(u&&Ct.settings(u),it&&Ct.useEmulator(...it),i&&!Uc(l)){const Ut=()=>{try{return(0,an.D)(Ct.enablePersistence(I||void 0).then(()=>!0,()=>!1))}catch(lr){return typeof console<"u"&&console.warn(lr),Ye(!1)}};return[Ct,m.runOutsideAngular(Ut)]}return[Ct,Ye(!1)]},[u,it,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:l}=xR(i,r),m=this.schedulers.ngZone.run(()=>u);return new CR(m,l,this)}collectionGroup(t,r){const i=r||(l=>l),u=this.firestore.collectionGroup(t);return new BP(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new TR(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ur.Dh),h.LFG(Ur.xv,8),h.LFG(SR,8),h.LFG(jP,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(gn.HU),h.LFG(AR,8),h.LFG($P,8),h.LFG(ER,8),h.LFG(gR,8),h.LFG(GS,8),h.LFG(mR,8),h.LFG(yR,8),h.LFG(_R,8),h.LFG(vR,8),h.LFG(Fb,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),HP=(()=>{class n{constructor(){pR.Z.registerVersion("angularfire",gn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:SR,useValue:!0},{provide:AR,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[WS]}),n})();class k0{constructor(e,t){t.setTitle("Pastaboys")}}k0.\u0275fac=function(e){return new(e||k0)(h.Y36(WS),h.Y36(Gi))},k0.\u0275cmp=h.Xpm({type:k0,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&h._UZ(0,"router-outlet")},dependencies:[ow]});class Vb{}class ZS{}class fd{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),u=i.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(i,u),this.headers.has(u)?this.headers.get(u).push(l):this.headers.set(u,[l])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof fd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new fd;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof fd?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const u=e.value;if(u){let l=this.headers.get(t);if(!l)return;l=l.filter(m=>-1===u.indexOf(m)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class GP{encodeKey(e){return MR(e)}encodeValue(e){return MR(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const qP=/%(\d[a-f0-9])/gi,WP={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function MR(n){return encodeURIComponent(n).replace(qP,(e,t)=>WP[t]??e)}function Ub(n){return`${n}`}class mf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new GP,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function zP(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const u=i.indexOf("="),[l,m]=-1==u?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,u)),e.decodeValue(i.slice(u+1))],v=t.get(l)||[];v.push(m),t.set(l,v)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Ub):[Ub(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new mf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Ub(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Ub(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class ZP{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function RR(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function NR(n){return typeof Blob<"u"&&n instanceof Blob}function OR(n){return typeof FormData<"u"&&n instanceof FormData}class P0{constructor(e,t,r,i){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function KP(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,u=i):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new fd),this.context||(this.context=new ZP),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+l}}else this.params=new mf,this.urlWithParams=t}serializeBody(){return null===this.body?null:RR(this.body)||NR(this.body)||OR(this.body)||function YP(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof mf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||OR(this.body)?null:NR(this.body)?this.body.type||null:RR(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof mf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,m=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let v=e.headers||this.headers,I=e.params||this.params;const S=e.context??this.context;return void 0!==e.setHeaders&&(v=Object.keys(e.setHeaders).reduce((N,V)=>N.set(V,e.setHeaders[V]),v)),e.setParams&&(I=Object.keys(e.setParams).reduce((N,V)=>N.set(V,e.setParams[V]),I)),new P0(t,r,u,{params:I,headers:v,context:S,reportProgress:m,responseType:i,withCredentials:l})}}var zr=(()=>((zr=zr||{})[zr.Sent=0]="Sent",zr[zr.UploadProgress=1]="UploadProgress",zr[zr.ResponseHeader=2]="ResponseHeader",zr[zr.DownloadProgress=3]="DownloadProgress",zr[zr.Response=4]="Response",zr[zr.User=5]="User",zr))();class KS{constructor(e,t=200,r="OK"){this.headers=e.headers||new fd,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class YS extends KS{constructor(e={}){super(e),this.type=zr.ResponseHeader}clone(e={}){return new YS({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Bb extends KS{constructor(e={}){super(e),this.type=zr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Bb({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class kR extends KS{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function QS(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let PR=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let u;if(t instanceof P0)u=t;else{let v,I;v=i.headers instanceof fd?i.headers:new fd(i.headers),i.params&&(I=i.params instanceof mf?i.params:new mf({fromObject:i.params})),u=new P0(t,r,void 0!==i.body?i.body:null,{headers:v,context:i.context,params:I,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=Ye(u).pipe(ks(v=>this.handler.handle(v)));if(t instanceof P0||"events"===i.observe)return l;const m=l.pipe(us(v=>v instanceof Bb));switch(i.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return m.pipe((0,at.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return m.pipe((0,at.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return m.pipe((0,at.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return m.pipe((0,at.U)(v=>v.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new mf).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,QS(i,r))}post(t,r,i={}){return this.request("POST",t,QS(i,r))}put(t,r,i={}){return this.request("PUT",t,QS(i,r))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Vb))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function FR(n,e){return e(n)}function QP(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const JP=new h.OlP("HTTP_INTERCEPTORS"),F0=new h.OlP("HTTP_INTERCEPTOR_FNS");function eF(){let n=null;return(e,t)=>(null===n&&(n=((0,h.f3M)(JP,{optional:!0})??[]).reduceRight(QP,FR)),n(e,t))}let LR=(()=>{class n extends Vb{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(F0)));this.chain=r.reduceRight((i,u)=>function XP(n,e,t){return(r,i)=>t.runInContext(()=>e(r,u=>n(u,i)))}(i,u,this.injector),FR)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ZS),h.LFG(h.lqb))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const iF=/^\)\]\}',?\n/;let UR=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Bn.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((G,Q)=>i.setRequestHeader(G,Q.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const G=t.detectContentTypeHeader();null!==G&&i.setRequestHeader("Content-Type",G)}if(t.responseType){const G=t.responseType.toLowerCase();i.responseType="json"!==G?G:"text"}const u=t.serializeBody();let l=null;const m=()=>{if(null!==l)return l;const G=i.statusText||"OK",Q=new fd(i.getAllResponseHeaders()),we=function sF(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return l=new YS({headers:Q,status:i.status,statusText:G,url:we}),l},v=()=>{let{headers:G,status:Q,statusText:we,url:be}=m(),tt=null;204!==Q&&(tt=typeof i.response>"u"?i.responseText:i.response),0===Q&&(Q=tt?200:0);let Et=Q>=200&&Q<300;if("json"===t.responseType&&"string"==typeof tt){const ot=tt;tt=tt.replace(iF,"");try{tt=""!==tt?JSON.parse(tt):null}catch(it){tt=ot,Et&&(Et=!1,tt={error:it,text:tt})}}Et?(r.next(new Bb({body:tt,headers:G,status:Q,statusText:we,url:be||void 0})),r.complete()):r.error(new kR({error:tt,headers:G,status:Q,statusText:we,url:be||void 0}))},I=G=>{const{url:Q}=m(),we=new kR({error:G,status:i.status||0,statusText:i.statusText||"Unknown Error",url:Q||void 0});r.error(we)};let S=!1;const N=G=>{S||(r.next(m()),S=!0);let Q={type:zr.DownloadProgress,loaded:G.loaded};G.lengthComputable&&(Q.total=G.total),"text"===t.responseType&&i.responseText&&(Q.partialText=i.responseText),r.next(Q)},V=G=>{let Q={type:zr.UploadProgress,loaded:G.loaded};G.lengthComputable&&(Q.total=G.total),r.next(Q)};return i.addEventListener("load",v),i.addEventListener("error",I),i.addEventListener("timeout",I),i.addEventListener("abort",I),t.reportProgress&&(i.addEventListener("progress",N),null!==u&&i.upload&&i.upload.addEventListener("progress",V)),i.send(u),r.next({type:zr.Sent}),()=>{i.removeEventListener("error",I),i.removeEventListener("abort",I),i.removeEventListener("load",v),i.removeEventListener("timeout",I),t.reportProgress&&(i.removeEventListener("progress",N),null!==u&&i.upload&&i.upload.removeEventListener("progress",V)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ss))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const XS=new h.OlP("XSRF_ENABLED"),BR="XSRF-TOKEN",jR=new h.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>BR}),$R="X-XSRF-TOKEN",HR=new h.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>$R});class GR{}let oF=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=dr(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ie),h.LFG(h.Lbi),h.LFG(jR))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function aF(n,e){const t=n.url.toLowerCase();if(!(0,h.f3M)(XS)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,h.f3M)(GR).getToken(),i=(0,h.f3M)(HR);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var xr=(()=>((xr=xr||{})[xr.Interceptors=0]="Interceptors",xr[xr.LegacyInterceptors=1]="LegacyInterceptors",xr[xr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",xr[xr.NoXsrfProtection=3]="NoXsrfProtection",xr[xr.JsonpSupport=4]="JsonpSupport",xr[xr.RequestsMadeViaParent=5]="RequestsMadeViaParent",xr))();function Ly(n,e){return{\u0275kind:n,\u0275providers:e}}function uF(...n){const e=[PR,UR,LR,{provide:Vb,useExisting:LR},{provide:ZS,useExisting:UR},{provide:F0,useValue:aF,multi:!0},{provide:XS,useValue:!0},{provide:GR,useClass:oF}];for(const t of n)e.push(...t.\u0275providers);return(0,h.MR2)(e)}const zR=new h.OlP("LEGACY_INTERCEPTOR_FN");function lF({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:jR,useValue:n}),void 0!==e&&t.push({provide:HR,useValue:e}),Ly(xr.CustomXsrfConfiguration,t)}let dF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[uF(Ly(xr.LegacyInterceptors,[{provide:zR,useFactory:eF},{provide:F0,useExisting:zR,multi:!0}]),lF({cookieName:BR,headerName:$R}))]}),n})();class yf{constructor(){this.items=[{id:1,name:"Carbonara",price:25e3,resep:"Pasta dengan saus creamy dari campuran susu, keju, dan kocokan telur ini memiliki rasa gurih manis yang pasti anda sukai.",image:"assets/img/carbo.png"},{id:2,name:"Chicken Mushroom",price:25e3,resep:"Chicken Mushroom dengan saus creamy dengan campuran jamur,susu,pake butter dan ayam filet yang sudah diolah ini memiliki rasa gurih yang pasti anda sukai.",image:"assets/img/chicken.png"},{id:5,name:"Fettuccine Mushroom",price:25e3,resep:"Fettuccine Mushroom dengan saus creamy khas Pastaboys dengan pasta yang alami homemade.",image:"assets/img/mushroom.jpg"},{id:6,name:"Bundle Carbonara",price:27e3,resep:"Fettuccine Mushroom dengan saus creamy khas Pastaboys dengan pasta yang alami homemade.",image:"assets/img/carbo.png"},{id:7,name:"Bundle Chicken",price:27e3,resep:"Fettuccine Mushroom dengan saus creamy khas Pastaboys dengan pasta yang alami homemade.",image:"assets/img/chicken.png"},{id:8,name:"Bundle Fettucine Mushroom",price:27e3,resep:"Fettuccine Mushroom dengan saus creamy khas Pastaboys dengan pasta yang alami homemade.",image:"assets/img/mushroom.jpg"}],this.itema=[]}getItems(){return this.items}}yf.\u0275fac=function(e){return new(e||yf)},yf.\u0275prov=h.Yz7({token:yf,factory:yf.\u0275fac,providedIn:"root"});class ou{constructor(e,t){this.http=e,this.itemService=t,this.order=[],this.realOrder=[],this.note=[],this.items=[],this.isOrderEmpty=!1,this.subject=new ir([]),this.renderAmount=r=>this.order.findIndex(u=>u.product_id===r)}sendData(e){this.subject.next(e)}getSubject(){return this.subject.asObservable()}setNote(e){const t=this.order.findIndex(i=>i.product_id===e);let r=prompt("masukan catatan",this.order[t].note);this.order[t].note=r}pushOrder(e,t,r,i,u){const l=this.order.some(v=>v.product_id===t),m=this.order.findIndex(v=>v.product_id===t);!1===l?this.order.push({price:e,product_id:t,name:r,quantity:1,image:i}):this.order[m].quantity=this.order[m].quantity+1,this.order.length>0?this.isOrderEmpty=!0:0===this.order.length&&(this.isOrderEmpty=!1),console.log(this.order),this.sendData(this.order)}reduceOrder(e){const t=this.order.findIndex(r=>r.product_id===e);this.order[t].quantity=this.order[t].quantity-1,this.order=this.order.filter(r=>r.quantity>0),this.order.length>0?this.isOrderEmpty=!0:0===this.order.length&&(this.isOrderEmpty=!1),this.sendData(this.order)}sendOrder(e){return this.http.post("https://pastaboys-backend-production.up.railway.app/order/pesan",e)}}function hF(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",11),h.NdJ("click",function(){h.CHM(t);const i=h.oxw().$implicit,u=h.oxw();return h.KtG(u.pushOrder(i.price,i.id,i.name,i.image))}),h._uU(1," Tambah "),h.qZA()}}function fF(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",12)(1,"button",13),h.NdJ("click",function(){h.CHM(t);const i=h.oxw().$implicit,u=h.oxw();return h.KtG(u.getNote(i.id))}),h._uU(2," Catatan "),h.qZA(),h.TgZ(3,"div",14)(4,"button",15),h.NdJ("click",function(){h.CHM(t);const i=h.oxw().$implicit,u=h.oxw();return h.KtG(u.reduceOrder(i.id))}),h._UZ(5,"img",16),h.qZA(),h.TgZ(6,"div",17),h._uU(7),h.qZA(),h.TgZ(8,"button",15),h.NdJ("click",function(){h.CHM(t);const i=h.oxw().$implicit,u=h.oxw();return h.KtG(u.pushOrder(i.price,i.id,i.name,i.image))}),h._UZ(9,"img",18),h.qZA()()()}if(2&n){const t=h.oxw().$implicit,r=h.oxw();h.xp6(7),h.hij(" ",r.renderAmount(t.id)," ")}}ou.\u0275fac=function(e){return new(e||ou)(h.LFG(PR),h.LFG(yf))},ou.\u0275prov=h.Yz7({token:ou,factory:ou.\u0275fac,providedIn:"root"});const pF=function(n){return["/menu",n]};function gF(n,e){if(1&n&&(h.TgZ(0,"div",2)(1,"div",3)(2,"div",4),h._UZ(3,"img",5),h.TgZ(4,"p",6),h._uU(5),h.qZA(),h.TgZ(6,"p",7),h._uU(7),h.ALo(8,"currency"),h.qZA()(),h.TgZ(9,"div",8),h.YNc(10,hF,2,0,"button",9),h.YNc(11,fF,10,1,"div",10),h.qZA()()()),2&n){const t=e.$implicit,r=h.oxw();h.xp6(2),h.Q6J("routerLink",h.VKq(11,pF,t.id)),h.xp6(1),h.s9C("src",t.image,h.LSH),h.xp6(2),h.Oqu(t.name),h.xp6(2),h.hij(" ",h.gM2(8,6,t.price,"IDR","symbol","3.0")," "),h.xp6(3),h.Q6J("ngIf",r.renderAmount(t.id)<1),h.xp6(1),h.Q6J("ngIf",r.renderAmount(t.id)>0)}}class L0{constructor(e,t){this.itemService=e,this.orderItem=t,this.items=[],this.order=[],this.renderAmount=r=>{const i=this.orderItem.renderAmount(r);return this.order[i]?this.order[i]?.quantity:0},this.subscription=t.getSubject().subscribe(r=>{this.order=r}),this.items=this.itemService.getItems()}getNote(e){this.orderItem.setNote(e)}pushOrder(e,t,r,i){this.orderItem.pushOrder(e,t,r,i)}reduceOrder(e){this.orderItem.reduceOrder(e)}}L0.\u0275fac=function(e){return new(e||L0)(h.Y36(yf),h.Y36(ou))},L0.\u0275cmp=h.Xpm({type:L0,selectors:[["app-cards"]],decls:2,vars:1,consts:[[1,"grid","mt-5","gap-4","gap-y-5","grid-cols-2","grid-rows-2"],["class","border-[#C5C5C5] border-[1px] rounded-2xl",4,"ngFor","ngForOf"],[1,"border-[#C5C5C5]","border-[1px]","rounded-2xl"],[1,"flex","flex-col","items-center","p-3"],[1,"cursor-pointer",3,"routerLink"],[1,"rounded-full","h-28","w-28","m-auto","mb-2",3,"src"],[1,"text-xs","font-bold"],[1,"text-xs","font-semibold"],[1,"mt-5","mb-0"],["class","border-[#28A748] border-2 h-5 text-xs text-[#28A748] px-7 rounded-lg",3,"click",4,"ngIf"],["class","flex justify-between items-center gap-1",4,"ngIf"],[1,"border-[#28A748]","border-2","h-5","text-xs","text-[#28A748]","px-7","rounded-lg",3,"click"],[1,"flex","justify-between","items-center","gap-1"],[1,"text-[10px]","border-black","border-[1px]","rounded-full","px-2","shadow-lg",3,"click"],[1,"flex","items-center","justify-center","gap-2","flex-shrink-0"],[1,"",3,"click"],["src","assets/img/min.svg"],[1,"text-xs","w-2","flex","justify-center"],["src","assets/img/plus.svg"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0),h.YNc(1,gF,12,13,"div",1),h.qZA()),2&e&&(h.xp6(1),h.Q6J("ngForOf",t.items))},dependencies:[bi,yn,Za,Eo]});class Vy{constructor(e){this.orderItem=e,this.order=[],this.cont=0,this.amountTotal=()=>this.order.reduce((r,i)=>r+i.quantity,0),this.totalAddition=()=>this.order.reduce((r,i)=>r+i.price*i.quantity,0),this.subscription=e.getSubject().subscribe(t=>this.order=t)}}Vy.\u0275fac=function(e){return new(e||Vy)(h.Y36(ou))},Vy.\u0275cmp=h.Xpm({type:Vy,selectors:[["app-checkout"]],decls:9,vars:7,consts:[["routerLink","/payment",1,"px-10","bg-blue-300","rounded-b-full","py-2"],[1,"flex","justify-between"],[1,"font-medium"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"p"),h._uU(4),h.qZA()(),h.TgZ(5,"div")(6,"p",2),h._uU(7),h.ALo(8,"currency"),h.qZA()()()()),2&e&&(h.xp6(4),h.hij("",t.amountTotal()," Item"),h.xp6(3),h.hij(" ",0===t.totalAddition()?"Rp0":h.gM2(8,2,t.totalAddition(),"IDR","symbol","3.0")," "))},dependencies:[Za,Eo]});class fg{onKey(e){this.userInfo=e,this.sendData(this.userInfo)}constructor(){this.userInfo={name:"",address:"",number:""},this.subject=new ir([])}sendData(e){this.subject.next(e)}getSubject(){return this.subject.asObservable()}}function mF(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",7)(1,"div",8),h._UZ(2,"img",9),h.TgZ(3,"div",10)(4,"div",11)(5,"div")(6,"h1",4),h._uU(7),h.qZA(),h.TgZ(8,"p",5),h._uU(9),h.ALo(10,"currency"),h.qZA()()(),h.TgZ(11,"button",12),h.NdJ("click",function(){const u=h.CHM(t).$implicit,l=h.oxw();return h.KtG(l.getNote(u.product_id))}),h._uU(12," Catatan "),h.qZA()()(),h.TgZ(13,"div",13)(14,"div",14)(15,"button",15),h.NdJ("click",function(){const u=h.CHM(t).$implicit,l=h.oxw();return h.KtG(l.reduceOrder(u.product_id))}),h._UZ(16,"img",16),h.qZA(),h.TgZ(17,"div",17),h._uU(18),h.qZA(),h.TgZ(19,"button",15),h.NdJ("click",function(){const u=h.CHM(t).$implicit,l=h.oxw();return h.KtG(l.addOrder(u.price,u.product_id,u.name,u.image))}),h._UZ(20,"img",18),h.qZA()()()()}if(2&n){const t=e.$implicit;h.xp6(2),h.s9C("src",t.image,h.LSH),h.xp6(5),h.Oqu(t.name),h.xp6(2),h.hij(" ",h.gM2(10,4,t.price,"IDR","symbol","3.0")," "),h.xp6(9),h.hij(" ",t.quantity," ")}}fg.\u0275fac=function(e){return new(e||fg)},fg.\u0275prov=h.Yz7({token:fg,factory:fg.\u0275fac,providedIn:"root"});class V0{constructor(e){this.orderItem=e,this.menu=!1,this.order=[],this.items=[],this.subscription=this.orderItem.getSubject().subscribe(t=>{this.order=t})}addOrder(e,t,r,i){this.orderItem.pushOrder(e,t,r,i)}reduceOrder(e){this.orderItem.reduceOrder(e)}setSwitch(){this.menu=!0}test(){console.log(this.order)}getNote(e){this.orderItem.setNote(e)}ngOnInit(){}}V0.\u0275fac=function(e){return new(e||V0)(h.Y36(ou))},V0.\u0275cmp=h.Xpm({type:V0,selectors:[["app-list"]],inputs:{menu:"menu"},decls:12,vars:1,consts:[[1,"bg-[#F5F5F5]","py-2","mt-8","xl:rounded-lg"],["class","flex gap-4 mt-2 mb-3 justify-between items-end lg:w-10/12 m-auto px-7",4,"ngFor","ngForOf"],[1,"w-full","h-[1px]","bg-[#BCBCBC]","bg-opacity-80"],[1,"flex","items-center","justify-between","mt-1","lg:w-10/12","m-auto","px-7"],[1,"font-semibold","text-sm"],[1,"text-xs"],["routerLink","/menu",1,"border-[#28A748]","border-2","h-5","text-xs","text-[#28A748]","px-7","rounded-lg"],[1,"flex","gap-4","mt-2","mb-3","justify-between","items-end","lg:w-10/12","m-auto","px-7"],[1,"flex","gap-4"],["alt","",1,"w-20","h-20","rounded-2xl",3,"src"],[1,"flex","flex-col","gap-7"],[1,"flex","justify-between"],[1,"w-14","text-[10px]","border-black","border-[1px]","rounded-full","px-2","shadow-lg",3,"click"],[1,"flex","flex-col","gap-14","items-end"],[1,"flex","items-center","justify-center","gap-2","flex-shrink-0"],[1,"",3,"click"],["src","assets/img/min.svg"],[1,"text-xs","w-2","flex","justify-center"],["src","assets/img/plus.svg"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0),h.YNc(1,mF,21,9,"div",1),h._UZ(2,"div",2),h.TgZ(3,"div",3)(4,"div")(5,"h1",4),h._uU(6,"Ada lagi pesanannya?"),h.qZA(),h.TgZ(7,"p",5),h._uU(8,"Masih bisa nambah menu lain, ya"),h.qZA()(),h.TgZ(9,"div")(10,"button",6),h._uU(11," Tambah "),h.qZA()()()()),2&e&&(h.xp6(1),h.Q6J("ngForOf",t.order))},dependencies:[bi,Za,Eo]});let qR=(()=>{class n{get nativeWindow(){return window}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),_F=(()=>{class n{constructor(t,r,i){this.element=t,this._window=r,this._zone=i,this.onlyGrow=!1,this.useImportant=!1,this.resized=new h.vpe,this.autosize=!0,this.retries=0,this._destroyed=!1,"TEXTAREA"!==this.element.nativeElement.tagName?this._findNestedTextArea():(this.textAreaEl=this.element.nativeElement,this.textAreaEl.style["overflow-y"]="hidden",this._onTextAreaFound())}set minRows(t){this._minRows=+t,this.textAreaEl&&(this.textAreaEl.rows=this._minRows)}set _autosize(t){this.autosize="boolean"!=typeof t||t}onInput(t){this.adjust()}ngOnDestroy(){this._destroyed=!0,this._windowResizeHandler&&this._window.nativeWindow.removeEventListener("resize",this._windowResizeHandler,!1)}ngAfterContentChecked(){this.adjust()}ngOnChanges(t){this.adjust(!0)}_findNestedTextArea(){this.textAreaEl=this.element.nativeElement.querySelector("TEXTAREA"),!this.textAreaEl&&this.element.nativeElement.shadowRoot&&(this.textAreaEl=this.element.nativeElement.shadowRoot.querySelector("TEXTAREA")),this.textAreaEl?(this.textAreaEl.style["overflow-y"]="hidden",this._onTextAreaFound()):this.retries>=3?console.warn("ngx-autosize: textarea not found"):(this.retries++,setTimeout(()=>{this._findNestedTextArea()},100))}_onTextAreaFound(){this._addWindowResizeHandler(),setTimeout(()=>{this.adjust()})}_addWindowResizeHandler(){this._windowResizeHandler=function vF(n,e){let t;return(...r)=>{clearTimeout(t),t=setTimeout(()=>{n(...r)},e)}}(()=>{this._zone.run(()=>{this.adjust()})},200),this._zone.runOutsideAngular(()=>{this._window.nativeWindow.addEventListener("resize",this._windowResizeHandler,!1)})}adjust(t=!1){if(this.autosize&&!this._destroyed&&this.textAreaEl&&this.textAreaEl.parentNode){const r=this.textAreaEl.value;if(!1===t&&r===this._oldContent&&this.textAreaEl.offsetWidth===this._oldWidth)return;this._oldContent=r,this._oldWidth=this.textAreaEl.offsetWidth;const i=this.textAreaEl.cloneNode(!0),u=this.textAreaEl.parentNode;i.style.width=this.textAreaEl.offsetWidth+"px",i.style.visibility="hidden",i.style.position="absolute",i.textContent=r,u.appendChild(i),i.style["overflow-y"]="hidden",i.style.height="auto";let l=i.scrollHeight,m=this._window.nativeWindow.getComputedStyle(i,null);l+=parseInt(m.getPropertyValue("border-top-width")),l+=parseInt(m.getPropertyValue("border-bottom-width")),"content-box"===m.getPropertyValue("box-sizing")&&(l-=parseInt(m.getPropertyValue("padding-top")),l-=parseInt(m.getPropertyValue("padding-bottom")));const v=this.textAreaEl.offsetHeight;if(!1===this.onlyGrow||l>v){const S=this._getLineHeight(),N=l/S;if(this._minRows&&this._minRows>=N)l=this._minRows*S;else if(this.maxRows&&this.maxRows<=N){const Q=this.maxRows*S;l=this.onlyGrow?Math.max(Q,v):Q,this.textAreaEl.style["overflow-y"]="auto"}else this.textAreaEl.style["overflow-y"]="hidden";this.textAreaEl.style.setProperty("height",l+"px",this.useImportant?"important":""),this.resized.emit(l)}u.removeChild(i)}}_getLineHeight(){let t=parseInt(this.textAreaEl.style.lineHeight,10);if(isNaN(t)&&this._window.nativeWindow.getComputedStyle){const r=this._window.nativeWindow.getComputedStyle(this.textAreaEl);t=parseInt(r.lineHeight,10)}if(isNaN(t)){const r=this._window.nativeWindow.getComputedStyle(this.textAreaEl,null).getPropertyValue("font-size");t=Math.floor(1.5*parseInt(r.replace("px",""),10))}return t}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(qR),h.Y36(h.R0b))},n.\u0275dir=h.lG2({type:n,selectors:[["","autosize",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r.onInput(u.target)})},inputs:{minRows:"minRows",_autosize:["autosize","_autosize"],maxRows:"maxRows",onlyGrow:"onlyGrow",useImportant:"useImportant"},outputs:{resized:"resized"},features:[h.TTD]}),n})(),wF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[qR],imports:[[]]}),n})(),WR=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),pg=(()=>{class n extends WR{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const Ac=new h.OlP("NgValueAccessor"),bF={provide:Ac,useExisting:(0,h.Gpc)(()=>jb),multi:!0},CF=new h.OlP("CompositionEventMode");let jb=(()=>{class n extends WR{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function DF(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(CF,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[h._Bn([bF]),h.qOj]}),n})();function _f(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const Xi=new h.OlP("NgValidators"),vf=new h.OlP("NgAsyncValidators");function XR(n){return _f(n.value)?{required:!0}:null}function $b(n){return null}function iN(n){return null!=n}function sN(n){return(0,h.QGY)(n)?(0,an.D)(n):n}function oN(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function aN(n,e){return e.map(t=>t(n))}function uN(n){return n.map(e=>function AF(n){return!n.validate}(e)?e:t=>e.validate(t))}function JS(n){return null!=n?function cN(n){if(!n)return null;const e=n.filter(iN);return 0==e.length?null:function(t){return oN(aN(t,e))}}(uN(n)):null}function eA(n){return null!=n?function lN(n){if(!n)return null;const e=n.filter(iN);return 0==e.length?null:function(t){return function EF(...n){const e=(0,Fn.jO)(n),{args:t,keys:r}=Lo(n),i=new Bn.y(u=>{const{length:l}=t;if(!l)return void u.complete();const m=new Array(l);let v=l,I=l;for(let S=0;S<l;S++){let N=!1;(0,mr.Xf)(t[S]).subscribe((0,H.x)(u,V=>{N||(N=!0,I--),m[S]=V},()=>v--,void 0,()=>{(!v||!N)&&(I||u.next(r?F(r,m):m),u.complete())}))}});return e?i.pipe(x(e)):i}(aN(t,e).map(sN)).pipe((0,at.U)(oN))}}(uN(n)):null}function dN(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function tA(n){return n?Array.isArray(n)?n:[n]:[]}function Hb(n,e){return Array.isArray(n)?n.includes(e):n===e}function pN(n,e){const t=tA(e);return tA(n).forEach(i=>{Hb(t,i)||t.push(i)}),t}function gN(n,e){return tA(e).filter(t=>!Hb(n,t))}class mN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=JS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=eA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ws extends mN{get formDirective(){return null}get path(){return null}}class wf extends mN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yN{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let _N=(()=>{class n extends yN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(wf,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[h.qOj]}),n})(),vN=(()=>{class n extends yN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ws,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[h.qOj]}),n})();const U0="VALID",zb="INVALID",Uy="PENDING",B0="DISABLED";function sA(n){return(qb(n)?n.validators:n)||null}function oA(n,e){return(qb(e)?e.asyncValidators:n)||null}function qb(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class bN{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===U0}get invalid(){return this.status===zb}get pending(){return this.status==Uy}get disabled(){return this.status===B0}get enabled(){return this.status!==B0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(pN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(pN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gN(e,this._rawAsyncValidators))}hasValidator(e){return Hb(this._rawValidators,e)}hasAsyncValidator(e){return Hb(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Uy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=B0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=U0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===U0||this.status===Uy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?B0:U0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Uy,this._hasOwnPendingAsyncValidator=!0;const t=sN(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?B0:this.errors?zb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Uy)?Uy:this._anyControlsHaveStatus(zb)?zb:U0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){qb(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function PF(n){return Array.isArray(n)?JS(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function FF(n){return Array.isArray(n)?eA(n):n||null}(this._rawAsyncValidators)}}class aA extends bN{constructor(e,t,r){super(sA(t),oA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function IN(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new h.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function EN(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[t])throw new h.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const j0=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>uA}),uA="always";function $0(n,e,t=uA){cA(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function UF(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&DN(n,e)})}(n,e),function jF(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function BF(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&DN(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function VF(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Kb(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function cA(n,e){const t=function hN(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(dN(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function fN(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(dN(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Kb(e._rawValidators,i),Kb(e._rawAsyncValidators,i)}function DN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const qF={provide:ws,useExisting:(0,h.Gpc)(()=>Qb)},H0=(()=>Promise.resolve())();let Qb=(()=>{class n extends ws{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new aA({},JS(t),eA(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){H0.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),$0(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){H0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){H0.then(()=>{const r=this._findContainer(t.path),i=new aA({});(function CN(n,e){cA(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){H0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){H0.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function TN(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Xi,10),h.Y36(vf,10),h.Y36(j0,8))},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([qF]),h.qOj]}),n})();function SN(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function AN(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const xN=class extends bN{constructor(e=null,t,r){super(sA(t),oA(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qb(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=AN(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){SN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){SN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){AN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},KF={provide:wf,useExisting:(0,h.Gpc)(()=>fA)},NN=(()=>Promise.resolve())();let fA=(()=>{class n extends wf{constructor(t,r,i,u,l,m){super(),this._changeDetectorRef=l,this.callSetDisabledState=m,this.control=new xN,this._registered=!1,this.update=new h.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function hA(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===jb?t=u:function GF(n){return Object.getPrototypeOf(n.constructor)===pg}(u)?r=u:i=u}),i||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function dA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){$0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){NN.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,h.D6c)(r);NN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Wb(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ws,9),h.Y36(Xi,10),h.Y36(vf,10),h.Y36(Ac,10),h.Y36(h.sBO,8),h.Y36(j0,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([KF]),h.qOj,h.TTD]}),n})(),ON=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const YF={provide:Ac,useExisting:(0,h.Gpc)(()=>pA),multi:!0};let pA=(()=>{class n extends pg{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[h._Bn([YF]),h.qOj]}),n})(),kN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();let gg=(()=>{class n{constructor(){this._validator=$b}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):$b,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,features:[h.TTD]}),n})();const fL={provide:Xi,useExisting:(0,h.Gpc)(()=>Xb),multi:!0};let Xb=(()=>{class n extends gg{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=h.D6c,this.createValidator=t=>XR}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&h.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[h._Bn([fL]),h.qOj]}),n})();const mL={provide:Xi,useExisting:(0,h.Gpc)(()=>wA),multi:!0};let wA=(()=>{class n extends gg{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function HN(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function tN(n){return e=>_f(e.value)||!function KR(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&h.uIk("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[h._Bn([mL]),h.qOj]}),n})(),vL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[kN]}),n})(),EL=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:j0,useValue:t.callSetDisabledState??uA}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[vL]}),n})();class G0{constructor(e){this.userInput=e,this.userInfo={name:"",address:"",number:""},this.userInput.getSubject().subscribe(t=>{this.userInfo.name=t.name,this.userInfo.address=t.address,this.userInfo.number=t.number})}onKey(){this.userInput.onKey(this.userInfo)}}G0.\u0275fac=function(e){return new(e||G0)(h.Y36(fg))},G0.\u0275cmp=h.Xpm({type:G0,selectors:[["app-input"]],decls:15,vars:4,consts:[[1,"flex","gap-8","bg-[#F5F5F5]","p-5","justify-center","mt-4","xl:rounded-lg"],[1,"flex","flex-col","gap-4"],[1,"text-[#BCBCBC]","text-xs"],["form","ngForm"],["required","","minlength","5","type","text","name","name",1,"focus:outline-none","border","pl-3","text-xs","rounded-3xl","shadow-[0_4px_4px_rgba(0,0,0,0.25),0_4px_4px_rgba(0,0,0,0.3)]",3,"ngModel","keyup","ngModelChange"],["box","ngModel"],["required","","name","number","type","number",1,"focus:outline-none","border","text-xs","pl-3","rounded-3xl","shadow-[0_4px_4px_rgba(0,0,0,0.25),0_4px_4px_rgba(0,0,0,0.3)]",3,"ngModel","ngModelChange","keyup"],["required","","autosize","","type","text","name","address",1,"resize-none","focus:outline-none","border","pl-3","pr-3","text-xs","rounded-3xl","shadow-[0_4px_4px_rgba(0,0,0,0.25),0_4px_4px_rgba(0,0,0,0.3)]",3,"ngModel","minRows","ngModelChange","keyup"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0)(1,"div",1)(2,"p",2),h._uU(3,"Nama"),h.qZA(),h.TgZ(4,"p",2),h._uU(5,"Nomor Whatsapp (Wa)"),h.qZA(),h.TgZ(6,"p",2),h._uU(7,"Alamat"),h.qZA()(),h.TgZ(8,"form",null,3)(10,"div",1)(11,"input",4,5),h.NdJ("keyup",function(){return t.onKey()})("ngModelChange",function(i){return t.userInfo.name=i}),h.qZA(),h.TgZ(13,"input",6),h.NdJ("ngModelChange",function(i){return t.userInfo.number=i})("keyup",function(){return t.onKey()}),h.qZA(),h.TgZ(14,"textarea",7),h.NdJ("ngModelChange",function(i){return t.userInfo.address=i})("keyup",function(){return t.onKey()}),h.qZA()()()()),2&e&&(h.xp6(11),h.Q6J("ngModel",t.userInfo.name),h.xp6(2),h.Q6J("ngModel",t.userInfo.number),h.xp6(1),h.Q6J("ngModel",t.userInfo.address)("minRows",1.1))},dependencies:[_F,ON,jb,pA,_N,vN,Xb,wA,fA,Qb]});class z0{}z0.\u0275fac=function(e){return new(e||z0)},z0.\u0275cmp=h.Xpm({type:z0,selectors:[["app-head"]],decls:19,vars:0,consts:[[1,"flex","items-center","justify-start","gap-2","ml-6"],["routerLink","/menu","src","assets/img/arrow.svg","alt","",1,"cursor-pointer"],["src","assets/img/pastaboys.png","alt","",1,"h-10"],[1,"w-full","h-[1px]","bg-[#BCBCBC]"],[1,"max-[360px]:flex-wrap","flex","mt-5","gap-2","ml-4","justify-center"],[1,"flex","items-start","gap-2"],["src","assets/img/clock.svg","alt","",1,"w-9"],[1,"w-44"],[1,"font-semibold","text-sm"],[1,"text-xs","font-medium"],["src","assets/img/location.svg","alt","",1,"w-9"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0),h._UZ(1,"img",1)(2,"img",2),h.qZA(),h._UZ(3,"div",3),h.TgZ(4,"div",4)(5,"div",5),h._UZ(6,"img",6),h.TgZ(7,"div",7)(8,"h2",8),h._uU(9,"Pesan antar"),h.qZA(),h.TgZ(10,"p",9),h._uU(11," Sistem Pre Order hingga hari jumat dan diantar hari sabtu "),h.qZA()()(),h.TgZ(12,"div",5),h._UZ(13,"img",10),h.TgZ(14,"div",7)(15,"h2",8),h._uU(16,"Alamat"),h.qZA(),h.TgZ(17,"p",9),h._uU(18,"Khusus daerah Malang"),h.qZA()()()())},dependencies:[Za]});class q0{constructor(){this.order=[],this.totalAddition=()=>this.order.reduce((t,r)=>t+r.price*r.quantity,0)}}q0.\u0275fac=function(e){return new(e||q0)},q0.\u0275cmp=h.Xpm({type:q0,selectors:[["app-ringkasan"]],inputs:{order:"order"},decls:32,vars:12,consts:[[1,"m-10","bg-[#F5F5F5]","rounded-xl"],[1,"p-5"],[1,"font-semibold","text-sm"],[1,"p-2"],[1,"flex","justify-between","mt-2","text-xs"],[1,"w-full","h-[1px]","bg-black","bg-opacity-80"],[1,"p-7"],[1,"text-xs"],[1,"text-xs","px-7","pb-7","pt-2"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),h._uU(3,"Ringkasan pembayaran"),h.qZA(),h.TgZ(4,"div",3)(5,"div",4)(6,"p"),h._uU(7,"Harga"),h.qZA(),h.TgZ(8,"p"),h._uU(9),h.ALo(10,"currency"),h.qZA()(),h.TgZ(11,"div",4)(12,"p"),h._uU(13,"Ongkir"),h.qZA(),h.TgZ(14,"p"),h._uU(15,"Gratis"),h.qZA()(),h.TgZ(16,"div",4)(17,"p"),h._uU(18,"Biaya layanan & lainnya."),h.qZA(),h.TgZ(19,"p"),h._uU(20,"0"),h.qZA()()()(),h._UZ(21,"div",5),h.TgZ(22,"div",6)(23,"div",4)(24,"p",7),h._uU(25,"Total Pembayaran"),h.qZA(),h.TgZ(26,"p"),h._uU(27),h.ALo(28,"currency"),h.qZA()()(),h._UZ(29,"div",5),h.TgZ(30,"p",8),h._uU(31,"Mohon diperiksa kembali*"),h.qZA()()),2&e&&(h.xp6(9),h.hij(" ",0===t.totalAddition()?"Rp0":h.gM2(10,2,t.totalAddition(),"IDR","symbol","3.0")," "),h.xp6(18),h.hij(" ",0===t.totalAddition()?"Rp0":h.gM2(28,7,t.totalAddition(),"IDR","symbol","3.0")," "))},dependencies:[Eo]});class By{constructor(e,t,r){this.orderItem=e,this.userInput=t,this._router=r,this.order=[],this.finalOrder={name:"",number:"",adress:"",order:[]},this.switchView=new h.vpe,this.subscription=this.orderItem.getSubject().subscribe(i=>{this.order=i,this.finalOrder.order=i.map(({product_id:u,quantity:l,note:m})=>({product_id:u,quantity:l,note:m}))}),this.subscription=this.userInput.getSubject().subscribe(i=>{this.finalOrder.name=i.name,this.finalOrder.adress=i.address,this.finalOrder.number=i.number})}setSwitch(){this.switchView.emit(!0)}confirm(){confirm("Selesaikan pesanan?")&&this.log()}log(){const e=Object.values(this.finalOrder).some(r=>void 0===r||""===r||0===r.length),t=Object.keys(this.finalOrder).filter((r,i)=>""===Object.values(this.finalOrder)[i]||void 0===Object.values(this.finalOrder)[i]||0===Object.values(this.finalOrder)[i].length);e?alert("mohon isi input berikut: "+t.join(", ")):(this.orderItem.sendOrder(this.finalOrder).subscribe(r=>console.log(r)),this._router.navigate(["thank"])),console.log(this.finalOrder)}}function IL(n,e){if(1&n&&(h.TgZ(0,"li"),h._uU(1),h.qZA()),2&n){const t=e.$implicit;h.xp6(1),h.hij(" ",t.name," ")}}function bL(n,e){1&n&&h._UZ(0,"app-checkout")}function DL(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",2)(1,"h1",3),h.NdJ("click",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.addItem())}),h._uU(2,"Menu"),h.qZA(),h.TgZ(3,"h2"),h._uU(4,"Choose your delicious meal"),h.qZA(),h.TgZ(5,"ul"),h.YNc(6,IL,2,1,"li",4),h.ALo(7,"async"),h.qZA(),h.TgZ(8,"div",5),h._UZ(9,"app-cards"),h.YNc(10,bL,1,0,"app-checkout",6),h.qZA()()}if(2&n){const t=h.oxw();h.xp6(6),h.Q6J("ngForOf",h.lcZ(7,2,t.items)),h.xp6(4),h.Q6J("ngIf",t.orderExist)}}function CL(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",7)(1,"app-payment",8),h.NdJ("switchView",function(i){h.CHM(t);const u=h.oxw();return h.KtG(u.switchView(i))}),h.qZA()()}}By.\u0275fac=function(e){return new(e||By)(h.Y36(ou),h.Y36(fg),h.Y36(Ni))},By.\u0275cmp=h.Xpm({type:By,selectors:[["app-payment"]],outputs:{switchView:"switchView"},decls:8,vars:1,consts:[[1,"xl:w-2/5","xl:shadow-md","m-auto"],[3,"setSwitchView"],[3,"order"],[1,"flex","justify-center","items-center","mt-8"],[1,"bg-[#E28F42]","mb-2","py-2","px-3","w-72","rounded-3xl","text-lg","text-white","font-semibold","border-white","border-[1px]","drop-shadow-[0_4px_4px_rgba(0,0,0,0.3)]",3,"click"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0),h._UZ(1,"app-head")(2,"app-input"),h.TgZ(3,"app-list",1),h.NdJ("setSwitchView",function(){return t.setSwitch()}),h.qZA(),h._UZ(4,"app-ringkasan",2),h.TgZ(5,"div",3)(6,"button",4),h.NdJ("click",function(){return t.confirm()}),h._uU(7," Pesan "),h.qZA()()()),2&e&&(h.xp6(4),h.Q6J("order",t.order))},dependencies:[V0,G0,z0,q0]});class W0{constructor(e,t){this.itemOrder=e,this.afs=t,this.menu=!0,this.current="hello",this.order=[],this.orderExist=!1,this.testpa=[],this.datas=[],this.itemsCollection=t.collection("items"),this.items=this.itemsCollection.valueChanges(),this.deletee=t.doc("items/n9AqpviQGInJPPmaJ1us"),this.subscription=this.itemOrder.getSubject().subscribe(r=>{this.orderExist=this.itemOrder.isOrderEmpty})}addHello(e){this.order=e}switchView(e){this.menu=e}addItem(){console.log(this.orderExist,this.itemOrder.isOrderEmpty)}}W0.\u0275fac=function(e){return new(e||W0)(h.Y36(ou),h.Y36(WS))},W0.\u0275cmp=h.Xpm({type:W0,selectors:[["app-menu"]],decls:2,vars:2,consts:[["class","xl:w-2/5 xl:m-auto ml-9 mr-9 mt-2 h-screen",4,"ngIf"],["class","xl:w-2/5 xl:m-auto mt-5 h-screen",4,"ngIf"],[1,"xl:w-2/5","xl:m-auto","ml-9","mr-9","mt-2","h-screen"],[1,"text-xl","font-semibold",3,"click"],[4,"ngFor","ngForOf"],[1,"flex","flex-col"],[4,"ngIf"],[1,"xl:w-2/5","xl:m-auto","mt-5","h-screen"],[3,"switchView"]],template:function(e,t){1&e&&(h.YNc(0,DL,11,4,"div",0),h.YNc(1,CL,2,0,"div",1)),2&e&&(h.Q6J("ngIf",t.menu),h.xp6(1),h.Q6J("ngIf",!1===t.menu))},dependencies:[bi,yn,L0,Vy,By,Ks]});class Z0{}Z0.\u0275fac=function(e){return new(e||Z0)},Z0.\u0275cmp=h.Xpm({type:Z0,selectors:[["app-welcome"]],decls:11,vars:0,consts:[[1,"bg-cover","h-screen","relative","top-0","left-0",2,"background-image","url(assets/img/marbel.png)"],["src","assets/img/rect.png",1,"relative","top-0","left-0","h-screen","w-screen"],["src","assets/img/pasta.png",1,"absolute","top-0","left-0","w-screen","lg:h-screen"],[1,"flex","flex-col","gap-12","items-center","absolute","mr-auto","ml-auto","top-10","left-0","right-0"],["src","assets/img/pastaWelcome.png"],[1,"flex","flex-col","items-center"],[1,"text-3xl","text-white","font-bold"],["src","assets/img/pastaboys.png",1,"w-36"],["routerLink","/menu",1,"bg-[#606767]","w-48","h-12","text-white","text-xl","font-bold","rounded-full"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0),h._UZ(1,"img",1)(2,"img",2),h.TgZ(3,"div",3),h._UZ(4,"img",4),h.TgZ(5,"div",5)(6,"p",6),h._uU(7,"Selamat Datang"),h.qZA(),h._UZ(8,"img",7),h.qZA(),h.TgZ(9,"button",8),h._uU(10," Pesan "),h.qZA()()())},dependencies:[Za]});class K0{}K0.\u0275fac=function(e){return new(e||K0)},K0.\u0275cmp=h.Xpm({type:K0,selectors:[["app-page-not-found"]],decls:2,vars:0,template:function(e,t){1&e&&(h.TgZ(0,"p"),h._uU(1,"page-not-found works!"),h.qZA())}});const QN="firebasestorage.googleapis.com",XN="storageBucket";class cr extends Ht.ZR{constructor(e,t,r=0){super(EA(e),`Firebase Storage: ${t} (${EA(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,cr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return EA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function EA(n){return"storage/"+n}function IA(){return new cr("unknown","An unknown error occurred, please check the error payload for server response.")}function JN(){return new cr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function eO(){return new cr("canceled","User canceled the upload/download.")}function tO(){return new cr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function jy(n){return new cr("invalid-argument",n)}function nO(){return new cr("app-deleted","The Firebase app was deleted.")}function rO(n){return new cr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Y0(n,e){return new cr("invalid-format","String does not match format '"+n+"': "+e)}function Q0(n){throw new cr("internal-error","Internal error: "+n)}class Ji{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Ji.makeFromUrl(e,t)}catch{return new Ji(e,"")}if(""===r.path)return r;throw function FL(n){return new cr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+i+"(/(.*))?$","i");function I(it){it.path_=decodeURIComponent(it.path)}const N=t.replace(/[.]/g,"\\."),ot=[{regex:m,indices:{bucket:1,path:3},postModify:function u(it){"/"===it.path.charAt(it.path.length-1)&&(it.path_=it.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${N}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:I},{regex:new RegExp(`^https?://${t===QN?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:I}];for(let it=0;it<ot.length;it++){const Ct=ot[it],Ut=Ct.regex.exec(e);if(Ut){let cu=Ut[Ct.indices.path];cu||(cu=""),r=new Ji(Ut[Ct.indices.bucket],cu),Ct.postModify(r);break}}if(null==r)throw function PL(n){return new cr("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class jL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Jb(n){return"string"==typeof n||n instanceof String}function iO(n){return bA()&&n instanceof Blob}function bA(){return typeof Blob<"u"&&!(0,Ht.UG)()}function DA(n,e,t,r){if(r<e)throw jy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw jy(`Invalid value for '${n}'. Expected ${t} or less.`)}function pd(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function sO(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Ef=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Ef||(Ef={})),Ef))();function oO(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),u=-1!==e.indexOf(n);return t||i||u}class WL{constructor(e,t,r,i,u,l,m,v,I,S,N,V=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=u,this.additionalRetryCodes_=l,this.callback_=m,this.errorCallback_=v,this.timeout_=I,this.progressCallback_=S,this.connectionFactory_=N,this.retry=V,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((G,Q)=>{this.resolve_=G,this.reject_=Q,this.start_()})}start_(){const t=(r,i)=>{const u=this.resolve_,l=this.reject_,m=i.connection;if(i.wasSuccessCode)try{const v=this.callback_(m,m.getResponse());!function GL(n){return void 0!==n}(v)?u():u(v)}catch(v){l(v)}else if(null!==m){const v=IA();v.serverResponse=m.getErrorText(),l(this.errorCallback_?this.errorCallback_(m,v):v)}else l(i.canceled?this.appDelete_?nO():eO():JN())};this.canceled_?t(0,new eD(!1,null,!0)):this.backoffId_=function $L(n,e,t){let r=1,i=null,u=null,l=!1,m=0;function v(){return 2===m}let I=!1;function S(...be){I||(I=!0,e.apply(null,be))}function N(be){i=setTimeout(()=>{i=null,n(G,v())},be)}function V(){u&&clearTimeout(u)}function G(be,...tt){if(I)return void V();if(be)return V(),void S.call(null,be,...tt);if(v()||l)return V(),void S.call(null,be,...tt);let ot;r<64&&(r*=2),1===m?(m=2,ot=0):ot=1e3*(r+Math.random()),N(ot)}let Q=!1;function we(be){Q||(Q=!0,V(),!I&&(null!==i?(be||(m=2),clearTimeout(i),N(0)):be||(m=1)))}return N(0),u=setTimeout(()=>{l=!0,we(!0)},t),we}((r,i)=>{if(i)return void r(!1,new eD(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const l=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(l),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(l),this.pendingConnection_=null;const m=u.getErrorCode()===Ef.NO_ERROR,v=u.getStatus();if(!m||oO(v,this.additionalRetryCodes_)&&this.retry){const S=u.getErrorCode()===Ef.ABORT;return void r(!1,new eD(!1,null,S))}const I=-1!==this.successCodes_.indexOf(v);r(!0,new eD(I,u))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function HL(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class eD{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function eV(...n){const e=function JL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(bA())return new Blob(n);throw new cr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const go={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class CA{constructor(e,t){this.data=e,this.contentType=t||null}}function TA(n,e){switch(n){case go.RAW:return new CA(aO(e));case go.BASE64:case go.BASE64URL:return new CA(uO(n,e));case go.DATA_URL:return new CA(function iV(n){const e=new cO(n);return e.base64?uO(go.BASE64,e.rest):function rV(n){let e;try{e=decodeURIComponent(n)}catch{throw Y0(go.DATA_URL,"Malformed data URL.")}return aO(e)}(e.rest)}(e),function sV(n){return new cO(n).contentType}(e))}throw IA()}function aO(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function uO(n,e){switch(n){case go.BASE64:{const i=-1!==e.indexOf("-"),u=-1!==e.indexOf("_");if(i||u)throw Y0(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case go.BASE64URL:{const i=-1!==e.indexOf("+"),u=-1!==e.indexOf("/");if(i||u)throw Y0(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function nV(n){if(typeof atob>"u")throw function BL(n){return new cr("unsupported-environment",`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:Y0(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class cO{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Y0(go.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function oV(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class xc{constructor(e,t){let r=0,i="";iO(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(iO(this.data_)){const i=function tV(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new xc(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new xc(r,!0)}}static getBlob(...e){if(bA()){const t=e.map(r=>r instanceof xc?r.data_:r);return new xc(eV.apply(null,t))}{const t=e.map(l=>Jb(l)?TA(go.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let u=0;return t.forEach(l=>{for(let m=0;m<l.length;m++)i[u++]=l[m]}),new xc(i,!0)}}uploadData(){return this.data_}}function SA(n){let e;try{e=JSON.parse(n)}catch{return null}return function qL(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function lO(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function cV(n,e){return e}class Es{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||cV}}let tD=null;function X0(){if(tD)return tD;const n=[];n.push(new Es("bucket")),n.push(new Es("generation")),n.push(new Es("metageneration")),n.push(new Es("name","fullPath",!0));const t=new Es("name");t.xform=function e(u,l){return function lV(n){return!Jb(n)||n.length<2?n:lO(n)}(l)},n.push(t);const i=new Es("size");return i.xform=function r(u,l){return void 0!==l?Number(l):l},n.push(i),n.push(new Es("timeCreated")),n.push(new Es("updated")),n.push(new Es("md5Hash",null,!0)),n.push(new Es("cacheControl",null,!0)),n.push(new Es("contentDisposition",null,!0)),n.push(new Es("contentEncoding",null,!0)),n.push(new Es("contentLanguage",null,!0)),n.push(new Es("contentType",null,!0)),n.push(new Es("metadata","customMetadata",!0)),tD=n,tD}function dO(n,e,t){const r=SA(e);return null===r?null:function hV(n,e,t){const r={type:"file"},i=t.length;for(let u=0;u<i;u++){const l=t[u];r[l.local]=l.xform(r,e[l.server])}return function dV(n,e){Object.defineProperty(n,"ref",{get:function t(){const u=new Ji(n.bucket,n.fullPath);return e._makeStorageReference(u)}})}(r,n),r}(n,r,t)}function AA(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const u=e[i];u.writable&&(t[u.server]=n[u.local])}return JSON.stringify(t)}const hO="prefixes";class Mc{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Rc(n){if(!n)throw IA()}function nD(n,e){return function t(r,i){const u=dO(n,i,e);return Rc(null!==u),u}}function $y(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function OL(){return new cr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function NL(){return new cr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function RL(n){return new cr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function kL(n){return new cr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function J0(n){const e=$y(n);return function t(r,i){let u=e(r,i);return 404===r.getStatus()&&(u=function ML(n){return new cr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),u.serverResponse=i.serverResponse,u}}function pO(n,e,t){const i=pd(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,m=new Mc(i,"GET",nD(n,t),l);return m.errorHandler=J0(e),m}function _V(n,e,t,r,i){const u={};u.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(u.delimiter=t),r&&(u.pageToken=r),i&&(u.maxResults=i);const m=pd(e.bucketOnlyServerUrl(),n.host,n._protocol),I=n.maxOperationRetryTime,S=new Mc(m,"GET",function mV(n,e){return function t(r,i){const u=function gV(n,e,t){const r=SA(t);return null===r?null:function pV(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[hO])for(const i of t[hO]){const u=i.replace(/\/$/,""),l=n._makeStorageReference(new Ji(e,u));r.prefixes.push(l)}if(t.items)for(const i of t.items){const u=n._makeStorageReference(new Ji(e,i.name));r.items.push(u)}return r}(n,e,r)}(n,e,i);return Rc(null!==u),u}}(n,e.bucket),I);return S.urlParams=u,S.errorHandler=$y(e),S}function mO(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function IV(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class rD{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function xA(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Rc(!1)}return Rc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const TV={STATE_CHANGED:"state_changed"},Is={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function MA(n){switch(n){case"running":case"pausing":case"canceling":return Is.RUNNING;case"paused":return Is.PAUSED;case"success":return Is.SUCCESS;case"canceled":return Is.CANCELED;default:return Is.ERROR}}class SV{constructor(e,t,r){if(function zL(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function Hy(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class AV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ef.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ef.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ef.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Q0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const u in i)i.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,i[u].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Q0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Q0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Q0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Q0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class xV extends AV{initXhr(){this.xhr_.responseType="text"}}function au(){return new xV}class wO{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=X0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(oO(i.status,[])){if(!u)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=JN()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,u)=>{this._resolve=i,this._reject=u,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function bV(n,e,t,r,i){const u=e.bucketOnlyServerUrl(),l=mO(e,r,i),m={name:l.fullPath},v=pd(u,n.host,n._protocol),S={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},N=AA(l,t),Q=new Mc(v,"POST",function G(we){let be;xA(we);try{be=we.getResponseHeader("X-Goog-Upload-URL")}catch{Rc(!1)}return Rc(Jb(be)),be},n.maxUploadRetryTime);return Q.urlParams=m,Q.headers=S,Q.body=N,Q.errorHandler=$y(e),Q}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,au,e,t);this._request=i,i.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function DV(n,e,t,r){const v=new Mc(t,"POST",function u(I){const S=xA(I,["active","final"]);let N=null;try{N=I.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Rc(!1)}N||Rc(!1);const V=Number(N);return Rc(!isNaN(V)),new rD(V,r.size(),"final"===S)},n.maxUploadRetryTime);return v.headers={"X-Goog-Upload-Command":"query"},v.errorHandler=$y(e),v}(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(i,au,t,r);this._request=u,u.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new rD(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,u)=>{let l;try{l=function CV(n,e,t,r,i,u,l,m){const v=new rD(0,0);if(l?(v.current=l.current,v.total=l.total):(v.current=0,v.total=r.size()),r.size()!==v.total)throw function VL(){return new cr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const I=v.total-v.current;let S=I;i>0&&(S=Math.min(S,i));const N=v.current;let G="";G=0===S?"finalize":I===S?"upload, finalize":"upload";const Q={"X-Goog-Upload-Command":G,"X-Goog-Upload-Offset":`${v.current}`},we=r.slice(N,N+S);if(null===we)throw tO();const ot=new Mc(t,"POST",function be(it,Ct){const Ut=xA(it,["active","final"]),lr=v.current+S,cu=r.size();let OA;return OA="final"===Ut?nD(e,u)(it,Ct):null,new rD(lr,cu,"final"===Ut,OA)},e.maxUploadRetryTime);return ot.headers=Q,ot.body=we.uploadData(),ot.progressCallback=m||null,ot.errorHandler=$y(n),ot}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(v){return this._error=v,void this._transition("error")}const m=this._ref.storage._makeRequest(l,au,i,u,!1);this._request=m,m.getPromise().then(v=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(v.current),v.finalized?(this._metadata=v.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=pO(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,au,e,t);this._request=i,i.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function yO(n,e,t,r,i){const u=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},v=function m(){let ot="";for(let it=0;it<2;it++)ot+=Math.random().toString().slice(2);return ot}();l["Content-Type"]="multipart/related; boundary="+v;const I=mO(e,r,i),S=AA(I,t),G=xc.getBlob("--"+v+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+S+"\r\n--"+v+"\r\nContent-Type: "+I.contentType+"\r\n\r\n",r,"\r\n--"+v+"--");if(null===G)throw tO();const Q={name:I.fullPath},we=pd(u,n.host,n._protocol),tt=n.maxUploadRetryTime,Et=new Mc(we,"POST",nD(n,t),tt);return Et.urlParams=Q,Et.headers=l,Et.body=G.uploadData(),Et.errorHandler=$y(e),Et}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,au,e,t);this._request=i,i.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=eO(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=MA(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const u=new SV(t||void 0,r||void 0,i||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(MA(this._state)){case Is.SUCCESS:Hy(this._resolve.bind(null,this.snapshot))();break;case Is.CANCELED:case Is.ERROR:Hy(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(MA(this._state)){case Is.RUNNING:case Is.PAUSED:e.next&&Hy(e.next.bind(e,this.snapshot))();break;case Is.SUCCESS:e.complete&&Hy(e.complete.bind(e))();break;default:e.error&&Hy(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class mg{constructor(e,t){this._service=e,this._location=t instanceof Ji?t:Ji.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new mg(e,t)}get root(){const e=new Ji(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lO(this._location.path)}get storage(){return this._service}get parent(){const e=function aV(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Ji(this._location.bucket,e);return new mg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw rO(e)}}function IO(n,e,t){return RA.apply(this,arguments)}function RA(){return RA=(0,pe.Z)(function*(n,e,t){const i=yield bO(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield IO(n,e,i.nextPageToken))}),RA.apply(this,arguments)}function bO(n,e){null!=e&&"number"==typeof e.maxResults&&DA("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=_V(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,au)}function jV(n){n._throwIfRoot("getDownloadURL");const e=function vV(n,e,t){const i=pd(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,m=new Mc(i,"GET",function yV(n,e){return function t(r,i){const u=dO(n,i,e);return Rc(null!==u),function fV(n,e,t,r){const i=SA(e);if(null===i||!Jb(i.downloadTokens))return null;const u=i.downloadTokens;if(0===u.length)return null;const l=encodeURIComponent;return u.split(",").map(I=>{const N=n.fullPath;return pd("/b/"+l(n.bucket)+"/o/"+l(N),t,r)+sO({alt:"media",token:I})})[0]}(u,i,n.host,n._protocol)}}(n,t),l);return m.errorHandler=J0(e),m}(n.storage,n._location,X0());return n.storage.makeRequestWithTokens(e,au).then(t=>{if(null===t)throw function UL(){return new cr("no-download-url","The given file does not have any download URLs.")}();return t})}function DO(n,e){const t=function uV(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Ji(n._location.bucket,t);return new mg(n.storage,r)}function CO(n,e){if(n instanceof NA){const t=n;if(null==t._bucket)throw function LL(){return new cr("no-default-bucket","No default bucket found. Did you set the '"+XN+"' property when initializing the app?")}();const r=new mg(t,t._bucket);return null!=e?CO(r,e):r}return void 0!==e?DO(n,e):n}function zV(n,e){if(e&&function HV(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof NA)return function GV(n,e){return new mg(n,e)}(n,e);throw jy("To use ref(service, url), the first argument must be a Storage instance.")}return CO(n,e)}function TO(n,e){const t=e?.[XN];return null==t?null:Ji.makeFromBucketSpec(t,n)}class NA{constructor(e,t,r,i,u){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=u,this._bucket=null,this._host=QN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Ji.makeFromBucketSpec(i,this._host):TO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Ji.makeFromBucketSpec(this._url,e):TO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){DA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){DA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,pe.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,pe.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new mg(this,e)}_makeRequest(e,t,r,i,u=!0){if(this._deleted)return new jL(nO());{const l=function XL(n,e,t,r,i,u,l=!0){const m=sO(n.urlParams),v=n.url+m,I=Object.assign({},n.headers);return function YL(n,e){e&&(n["X-Firebase-GMPID"]=e)}(I,e),function ZL(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(I,t),function KL(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(I,u),function QL(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(I,r),new WL(v,n.method,I,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l)}(e,this._appId,r,i,t,this._firebaseVersion,u);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var r=this;return(0,pe.Z)(function*(){const[i,u]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,u).getPromise()})()}}const SO="@firebase/storage";function MO(n,e){return zV(n=(0,Ht.m9)(n),e)}function tU(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new NA(t,r,i,e,hs.SDK_VERSION)}!function nU(){(0,hs._registerComponent)(new Nl.wA("storage",tU,"PUBLIC").setMultipleInstances(!0)),(0,hs.registerVersion)(SO,"0.10.1",""),(0,hs.registerVersion)(SO,"0.10.1","esm2017")}();class iD{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class NO{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new iD(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new iD(r,this,this._ref))},t)}on(e,t,r,i){let u;return t&&(u="function"==typeof t?l=>t(new iD(l,this,this._ref)):{next:t.next?l=>t.next(new iD(l,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,u,r||void 0,i||void 0)}}class OO{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new gd(e,this._service))}get items(){return this._delegate.items.map(e=>new gd(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class gd{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function eU(n,e){return DO(n,e)}(this._delegate,e);return new gd(t,this.storage)}get root(){return new gd(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new gd(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new NO(function WV(n,e,t){return function FV(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new wO(n,new xc(e),t)}(n=(0,Ht.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=go.RAW,r){this._throwIfRoot("putString");const i=TA(t,e),u=Object.assign({},r);return null==u.contentType&&null!=i.contentType&&(u.contentType=i.contentType),new NO(new wO(this._delegate,new xc(i.data,!0),u),this)}listAll(){return function QV(n){return function VV(n){const e={prefixes:[],items:[]};return IO(n,e).then(()=>e)}(n=(0,Ht.m9)(n))}(this._delegate).then(e=>new OO(e,this.storage))}list(e){return function YV(n,e){return bO(n=(0,Ht.m9)(n),e)}(this._delegate,e||void 0).then(t=>new OO(t,this.storage))}getMetadata(){return function ZV(n){return function UV(n){n._throwIfRoot("getMetadata");const e=pO(n.storage,n._location,X0());return n.storage.makeRequestWithTokens(e,au)}(n=(0,Ht.m9)(n))}(this._delegate)}updateMetadata(e){return function KV(n,e){return function BV(n,e){n._throwIfRoot("updateMetadata");const t=function wV(n,e,t,r){const u=pd(e.fullServerUrl(),n.host,n._protocol),m=AA(t,r),I=n.maxOperationRetryTime,S=new Mc(u,"PATCH",nD(n,r),I);return S.headers={"Content-Type":"application/json; charset=utf-8"},S.body=m,S.errorHandler=J0(e),S}(n.storage,n._location,e,X0());return n.storage.makeRequestWithTokens(t,au)}(n=(0,Ht.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function XV(n){return jV(n=(0,Ht.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function JV(n){return function $V(n){n._throwIfRoot("deleteObject");const e=function EV(n,e){const r=pd(e.fullServerUrl(),n.host,n._protocol),m=new Mc(r,"DELETE",function l(v,I){},n.maxOperationRetryTime);return m.successCodes=[200,204],m.errorHandler=J0(e),m}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,au)}(n=(0,Ht.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw rO(e)}}class kO{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(PO(e))throw jy("ref() expected a child path but got a URL, use refFromURL instead.");return new gd(MO(this._delegate,e),this)}refFromURL(e){if(!PO(e))throw jy("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ji.makeFromUrl(e,this._delegate.host)}catch{throw jy("refFromUrl() expected a valid full URL but got an invalid one.")}return new gd(MO(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function RO(n,e,t,r={}){!function qV(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,Ht.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function PO(n){return/^[A-Za-z]+:\/\//.test(n)}function oU(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new kO(t,r)}function FO(n){const e=function uU(n){return new Bn.y(e=>{const t=l=>e.next(l);t(n.snapshot);const u=n.on("state_changed",t);return n.then(l=>{t(l),e.complete()},l=>{t(n.snapshot),(l=>{e.error(l)})(l)}),function(){u()}}).pipe(function TL(n,e=fp.z){return(0,Dn.e)((t,r)=>{let i=null,u=null,l=null;const m=()=>{if(i){i.unsubscribe(),i=null;const I=u;u=null,r.next(I)}};function v(){const I=l+n,S=e.now();if(S<I)return i=this.schedule(void 0,I-S),void r.add(i);m()}t.subscribe((0,H.x)(r,I=>{u=I,l=e.now(),i||(i=e.schedule(v,n),r.add(i))},()=>{m(),r.complete()},void 0,()=>{u=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,at.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function sD(n){return{getDownloadURL:()=>Ye(void 0).pipe(gn.fc,$n(()=>n.getDownloadURL()),gn.iC),getMetadata:()=>Ye(void 0).pipe(gn.fc,$n(()=>n.getMetadata()),gn.iC),delete:()=>(0,an.D)(n.delete()),child:e=>sD(n.child(e)),updateMetadata:e=>(0,an.D)(n.updateMetadata(e)),put:(e,t)=>FO(n.put(e,t)),putString:(e,t,r)=>FO(n.putString(e,t,r)),list:e=>(0,an.D)(n.list(e)),listAll:()=>(0,an.D)(n.listAll())}}!function aU(n){const e={TaskState:Is,TaskEvent:TV,StringFormat:go,Storage:kO,Reference:gd};n.INTERNAL.registerComponent(new Nl.wA("storage-compat",oU,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.2.1")}(Jg.Z);const cU=new h.OlP("angularfire2.storageBucket"),lU=new h.OlP("angularfire2.storage.maxUploadRetryTime"),dU=new h.OlP("angularfire2.storage.maxOperationRetryTime"),hU=new h.OlP("angularfire2.storage.use-emulator");let fU=(()=>{class n{constructor(t,r,i,u,l,m,v,I,S,N){const V=(0,Ur.on)(t,l,r);this.storage=(0,Ur.cc)(`${V.name}.storage.${i}`,"AngularFireStorage",V.name,()=>{const G=l.runOutsideAngular(()=>V.storage(i||void 0)),Q=S;return Q&&G.useEmulator(...Q),v&&G.setMaxUploadRetryTime(v),I&&G.setMaxOperationRetryTime(I),G},[v,I])}ref(t){return sD(this.storage.ref(t))}refFromURL(t){return sD(this.storage.refFromURL(t))}upload(t,r,i){return sD(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ur.Dh),h.LFG(Ur.xv,8),h.LFG(cU,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(gn.HU),h.LFG(lU,8),h.LFG(dU,8),h.LFG(hU,8),h.LFG(Fb,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),pU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})(),gU=(()=>{class n{constructor(){pR.Z.registerVersion("angularfire",gn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[fU],imports:[pU]}),n})();const uu=void 0,_U=["id",[["AM","PM"],uu,uu],uu,[["M","S","S","R","K","J","S"],["Min","Sen","Sel","Rab","Kam","Jum","Sab"],["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],["Min","Sen","Sel","Rab","Kam","Jum","Sab"]],uu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]],uu,[["SM","M"],uu,["Sebelum Masehi","Masehi"]],0,[6,0],["dd/MM/yy","d MMM y","d MMMM y","EEEE, dd MMMM y"],["HH.mm","HH.mm.ss","HH.mm.ss z","HH.mm.ss zzzz"],["{1} {0}",uu,uu,uu],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN","."],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"IDR","Rp","Rupiah Indonesia",{AUD:["AU$","$"],BYN:[uu,"\u0440."],IDR:["Rp"],INR:["Rs","\u20b9"],JPY:["JP\xa5","\xa5"],PHP:[uu,"\u20b1"],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"],XXX:[]},"ltr",function yU(n){return 5}];class ew{constructor(e,t,r){this.router=e,this.itemService=t,this.orderItem=r,this.id$=this.router.paramMap.pipe((0,at.U)(i=>i.get("id"))),this.id=0,this.items=[],this.order=[],this.renderAmount=i=>{const u=this.orderItem.renderAmount(i);return this.order[u]?this.order[u]?.quantity:0},this.subscription=this.orderItem.getSubject().subscribe(i=>{this.order=i})}pushOrder(e,t,r,i){this.orderItem.pushOrder(e,t,r,i)}reduceOrder(e){this.orderItem.reduceOrder(e)}ngOnInit(){this.id$.subscribe(e=>{this.id=Number(e)}),this.items=this.itemService.getItems().filter(e=>e.id===this.id)}}ew.\u0275fac=function(e){return new(e||ew)(h.Y36(ce),h.Y36(yf),h.Y36(ou))},ew.\u0275cmp=h.Xpm({type:ew,selectors:[["app-detail"]],decls:24,vars:10,consts:[[1,"xl:w-2/6","m-auto"],[1,"relative"],[1,"rounded-b-lg","h-80","w-full","max-w-full",3,"src"],["routerLink","/menu","src","assets/img/back.svg","alt","",1,"absolute","bottom-2","left-2","bg-white","px-2","py-1.5","rounded-full"],[1,"flex","justify-between","p-8"],[1,""],[1,"font-medium","text-2xl"],[1,"font-bold","text-2xl"],[1,"flex","items-center","justify-center","gap-2","flex-shrink-0"],[1,"",3,"click"],["src","assets/img/min.svg"],[1,"text-xs","w-2","flex","justify-center"],["src","assets/img/plus.svg"],[1,"p-8"],[1,"text-lg","font-medium"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0)(1,"div",1),h._UZ(2,"img",2)(3,"img",3),h.qZA(),h.TgZ(4,"div",4)(5,"div",5)(6,"h1",6),h._uU(7),h.qZA(),h.TgZ(8,"h2",7),h._uU(9),h.ALo(10,"currency"),h.qZA()(),h.TgZ(11,"div",8)(12,"button",9),h.NdJ("click",function(){return t.reduceOrder(t.id)}),h._UZ(13,"img",10),h.qZA(),h.TgZ(14,"div",11),h._uU(15),h.qZA(),h.TgZ(16,"button",9),h.NdJ("click",function(){return t.pushOrder(t.items[0].price,t.items[0].id,t.items[0].name,t.items[0].image)}),h._UZ(17,"img",12),h.qZA()()(),h.TgZ(18,"div",13)(19,"h1",14),h._uU(20,"Resep"),h.qZA(),h.TgZ(21,"p"),h._uU(22),h.qZA()(),h._UZ(23,"app-checkout"),h.qZA()),2&e&&(h.xp6(2),h.s9C("src",t.items[0].image,h.LSH),h.xp6(5),h.Oqu(t.items[0].name),h.xp6(2),h.hij(" ",h.gM2(10,5,t.items[0].price,"IDR","symbol","3.0")," "),h.xp6(6),h.hij(" ",t.renderAmount(t.id)," "),h.xp6(7),h.Oqu(t.items[0].resep))},dependencies:[Za,Vy,Eo]});class tw{constructor(e){this._router=e,setTimeout(()=>{this._router.navigate(["order"])},4e3)}}tw.\u0275fac=function(e){return new(e||tw)(h.Y36(Ni))},tw.\u0275cmp=h.Xpm({type:tw,selectors:[["app-thank"]],decls:9,vars:0,consts:[[1,"bg-[#28A77B]","h-screen","flex","flex-col","items-center","justify-center"],[1,"text-3xl","text-white","font-semibold"],["src","assets/img/check.svg","alt","checkImage",1,"mt-11","mb-11"],[1,"text-center","text-white","text-sm"],[1,"text-yellow-400","font-semibold"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0)(1,"h1",1),h._uU(2,"Berhasil"),h.qZA(),h._UZ(3,"img",2),h.TgZ(4,"p",3),h._uU(5," Terimakasih telah membeli "),h.TgZ(6,"span",4),h._uU(7,"PASTABOYS"),h.qZA(),h._uU(8," kami akan segera mengkonfimarsikan melalui WhatsApp "),h.qZA()())}}),function Rn(n,e,t){(0,h.dwT)(n,e,t)}(_U,"id");class Gy{}Gy.\u0275fac=function(e){return new(e||Gy)},Gy.\u0275mod=h.oAB({type:Gy,bootstrap:[k0]}),Gy.\u0275inj=h.cJS({providers:[{provide:h.soG,useValue:"id-ID"},{provide:nt,useClass:Ee},{provide:GS,useValue:{appVerificationDisabledForTesting:!0}}],imports:[Ld,gh,wF,HP,gU,EL,dF,Ur.hO.initializeApp({apiKey:"AIzaSyB01Q_AMKzUa9udcV0N9N96315BgxVmIfc",authDomain:"pastaboysorder.firebaseapp.com",projectId:"pastaboysorder",storageBucket:"pastaboysorder.appspot.com",messagingSenderId:"688589310816",appId:"1:688589310816:web:3e6b47fa89e852f9d52c05",measurementId:"G-XRQD79SDW9"}),hp.forRoot([{path:"menu",component:W0},{path:"menu/:id",component:ew},{path:"payment",component:By},{path:"order",component:Z0},{path:"thank",component:tw},{path:"",redirectTo:"/order",pathMatch:"full"},{path:"**",component:K0}])]}),il().bootstrapModule(Gy).catch(n=>console.error(n))},9751:(ut,Ie,k)=>{k.d(Ie,{y:()=>de});var h=k(2961),X=k(727),O=k(8822),oe=k(9635),ae=k(2416),ie=k(576),fe=k(2806);let de=(()=>{class K{constructor(De){De&&(this._subscribe=De)}lift(De){const He=new K;return He.source=this,He.operator=De,He}subscribe(De,He,nt){const he=function $(K){return K&&K instanceof h.Lv||function j(K){return K&&(0,ie.m)(K.next)&&(0,ie.m)(K.error)&&(0,ie.m)(K.complete)}(K)&&(0,X.Nn)(K)}(De)?De:new h.Hp(De,He,nt);return(0,fe.x)(()=>{const{operator:Ce,source:Ee}=this;he.add(Ce?Ce.call(he,Ee):Ee?this._subscribe(he):this._trySubscribe(he))}),he}_trySubscribe(De){try{return this._subscribe(De)}catch(He){De.error(He)}}forEach(De,He){return new(He=le(He))((nt,he)=>{const Ce=new h.Hp({next:Ee=>{try{De(Ee)}catch(Fe){he(Fe),Ce.unsubscribe()}},error:he,complete:nt});this.subscribe(Ce)})}_subscribe(De){var He;return null===(He=this.source)||void 0===He?void 0:He.subscribe(De)}[O.L](){return this}pipe(...De){return(0,oe.U)(De)(this)}toPromise(De){return new(De=le(De))((He,nt)=>{let he;this.subscribe(Ce=>he=Ce,Ce=>nt(Ce),()=>He(he))})}}return K.create=Ue=>new K(Ue),K})();function le(K){var Ue;return null!==(Ue=K??ae.v.Promise)&&void 0!==Ue?Ue:Promise}},7579:(ut,Ie,k)=>{k.d(Ie,{x:()=>fe});var h=k(9751),X=k(727);const oe=(0,k(3888).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=k(8737),ie=k(2806);let fe=(()=>{class le extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const K=new de(this,this);return K.operator=$,K}_throwIfClosed(){if(this.closed)throw new oe}next($){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next($)}})}error($){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:K}=this;for(;K.length;)K.shift().error($)}})}complete(){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:K,isStopped:Ue,observers:De}=this;return K||Ue?X.Lc:(this.currentObservers=null,De.push($),new X.w0(()=>{this.currentObservers=null,(0,ae.P)(De,$)}))}_checkFinalizedStatuses($){const{hasError:K,thrownError:Ue,isStopped:De}=this;K?$.error(Ue):De&&$.complete()}asObservable(){const $=new h.y;return $.source=this,$}}return le.create=(j,$)=>new de(j,$),le})();class de extends fe{constructor(j,$){super(),this.destination=j,this.source=$}next(j){var $,K;null===(K=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===K||K.call($,j)}error(j){var $,K;null===(K=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===K||K.call($,j)}complete(){var j,$;null===($=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===$||$.call(j)}_subscribe(j){var $,K;return null!==(K=null===($=this.source)||void 0===$?void 0:$.subscribe(j))&&void 0!==K?K:X.Lc}}},2961:(ut,Ie,k)=>{k.d(Ie,{Hp:()=>nt,Lv:()=>K});var h=k(576),X=k(727),O=k(2416),oe=k(7849);function ae(){}const ie=le("C",void 0,void 0);function le(Ae,_e,xe){return{kind:Ae,value:_e,error:xe}}var j=k(3410),$=k(2806);class K extends X.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,X.Nn)(_e)&&_e.add(this)):this.destination=Fe}static create(_e,xe,Le){return new nt(_e,xe,Le)}next(_e){this.isStopped?Ee(function de(Ae){return le("N",Ae,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?Ee(function fe(Ae){return le("E",void 0,Ae)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?Ee(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function De(Ae,_e){return Ue.call(Ae,_e)}class He{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:xe}=this;if(xe.next)try{xe.next(_e)}catch(Le){he(Le)}}error(_e){const{partialObserver:xe}=this;if(xe.error)try{xe.error(_e)}catch(Le){he(Le)}else he(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(xe){he(xe)}}}class nt extends K{constructor(_e,xe,Le){let Oe;if(super(),(0,h.m)(_e)||!_e)Oe={next:_e??void 0,error:xe??void 0,complete:Le??void 0};else{let U;this&&O.v.useDeprecatedNextContext?(U=Object.create(_e),U.unsubscribe=()=>this.unsubscribe(),Oe={next:_e.next&&De(_e.next,U),error:_e.error&&De(_e.error,U),complete:_e.complete&&De(_e.complete,U)}):Oe=_e}this.destination=new He(Oe)}}function he(Ae){O.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Ae):(0,oe.h)(Ae)}function Ee(Ae,_e){const{onStoppedNotification:xe}=O.v;xe&&j.z.setTimeout(()=>xe(Ae,_e))}const Fe={closed:!0,next:ae,error:function Ce(Ae){throw Ae},complete:ae}},727:(ut,Ie,k)=>{k.d(Ie,{Lc:()=>ie,w0:()=>ae,Nn:()=>fe});var h=k(576);const O=(0,k(3888).d)(le=>function($){le(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((K,Ue)=>`${Ue+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var oe=k(8737);class ae{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const De of $)De.remove(this);else $.remove(this);const{initialTeardown:K}=this;if((0,h.m)(K))try{K()}catch(De){j=De instanceof O?De.errors:[De]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const De of Ue)try{de(De)}catch(He){j=j??[],He instanceof O?j=[...j,...He.errors]:j.push(He)}}if(j)throw new O(j)}}add(j){var $;if(j&&j!==this)if(this.closed)de(j);else{if(j instanceof ae){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(j)}}_hasParent(j){const{_parentage:$}=this;return $===j||Array.isArray($)&&$.includes(j)}_addParent(j){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(j),$):$?[$,j]:j}_removeParent(j){const{_parentage:$}=this;$===j?this._parentage=null:Array.isArray($)&&(0,oe.P)($,j)}remove(j){const{_finalizers:$}=this;$&&(0,oe.P)($,j),j instanceof ae&&j._removeParent(this)}}ae.EMPTY=(()=>{const le=new ae;return le.closed=!0,le})();const ie=ae.EMPTY;function fe(le){return le instanceof ae||le&&"closed"in le&&(0,h.m)(le.remove)&&(0,h.m)(le.add)&&(0,h.m)(le.unsubscribe)}function de(le){(0,h.m)(le)?le():le.unsubscribe()}},2416:(ut,Ie,k)=>{k.d(Ie,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ut,Ie,k)=>{k.d(Ie,{E:()=>X});const X=new(k(9751).y)(ae=>ae.complete())},8996:(ut,Ie,k)=>{k.d(Ie,{D:()=>_e});var h=k(8421),X=k(5363),O=k(9468),ie=k(9751),de=k(2202),le=k(576),j=k(9672);function K(xe,Le){if(!xe)throw new Error("Iterable cannot be null");return new ie.y(Oe=>{(0,j.f)(Oe,Le,()=>{const U=xe[Symbol.asyncIterator]();(0,j.f)(Oe,Le,()=>{U.next().then(ye=>{ye.done?Oe.complete():Oe.next(ye.value)})},0,!0)})})}var Ue=k(3670),De=k(8239),He=k(1144),nt=k(6495),he=k(2206),Ce=k(4532),Ee=k(3260);function _e(xe,Le){return Le?function Ae(xe,Le){if(null!=xe){if((0,Ue.c)(xe))return function oe(xe,Le){return(0,h.Xf)(xe).pipe((0,O.R)(Le),(0,X.Q)(Le))}(xe,Le);if((0,He.z)(xe))return function fe(xe,Le){return new ie.y(Oe=>{let U=0;return Le.schedule(function(){U===xe.length?Oe.complete():(Oe.next(xe[U++]),Oe.closed||this.schedule())})})}(xe,Le);if((0,De.t)(xe))return function ae(xe,Le){return(0,h.Xf)(xe).pipe((0,O.R)(Le),(0,X.Q)(Le))}(xe,Le);if((0,he.D)(xe))return K(xe,Le);if((0,nt.T)(xe))return function $(xe,Le){return new ie.y(Oe=>{let U;return(0,j.f)(Oe,Le,()=>{U=xe[de.h](),(0,j.f)(Oe,Le,()=>{let ye,W;try{({value:ye,done:W}=U.next())}catch(Y){return void Oe.error(Y)}W?Oe.complete():Oe.next(ye)},0,!0)}),()=>(0,le.m)(U?.return)&&U.return()})}(xe,Le);if((0,Ee.L)(xe))return function Fe(xe,Le){return K((0,Ee.Q)(xe),Le)}(xe,Le)}throw(0,Ce.z)(xe)}(xe,Le):(0,h.Xf)(xe)}},8421:(ut,Ie,k)=>{k.d(Ie,{Xf:()=>Ue});var h=k(655),X=k(1144),O=k(8239),oe=k(9751),ae=k(3670),ie=k(2206),fe=k(4532),de=k(6495),le=k(3260),j=k(576),$=k(7849),K=k(8822);function Ue(Ae){if(Ae instanceof oe.y)return Ae;if(null!=Ae){if((0,ae.c)(Ae))return function De(Ae){return new oe.y(_e=>{const xe=Ae[K.L]();if((0,j.m)(xe.subscribe))return xe.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,X.z)(Ae))return function He(Ae){return new oe.y(_e=>{for(let xe=0;xe<Ae.length&&!_e.closed;xe++)_e.next(Ae[xe]);_e.complete()})}(Ae);if((0,O.t)(Ae))return function nt(Ae){return new oe.y(_e=>{Ae.then(xe=>{_e.closed||(_e.next(xe),_e.complete())},xe=>_e.error(xe)).then(null,$.h)})}(Ae);if((0,ie.D)(Ae))return Ce(Ae);if((0,de.T)(Ae))return function he(Ae){return new oe.y(_e=>{for(const xe of Ae)if(_e.next(xe),_e.closed)return;_e.complete()})}(Ae);if((0,le.L)(Ae))return function Ee(Ae){return Ce((0,le.Q)(Ae))}(Ae)}throw(0,fe.z)(Ae)}function Ce(Ae){return new oe.y(_e=>{(function Fe(Ae,_e){var xe,Le,Oe,U;return(0,h.mG)(this,void 0,void 0,function*(){try{for(xe=(0,h.KL)(Ae);!(Le=yield xe.next()).done;)if(_e.next(Le.value),_e.closed)return}catch(ye){Oe={error:ye}}finally{try{Le&&!Le.done&&(U=xe.return)&&(yield U.call(xe))}finally{if(Oe)throw Oe.error}}_e.complete()})})(Ae,_e).catch(xe=>_e.error(xe))})}},6451:(ut,Ie,k)=>{k.d(Ie,{T:()=>ie});var h=k(8189),X=k(8421),O=k(515),oe=k(7669),ae=k(8996);function ie(...fe){const de=(0,oe.yG)(fe),le=(0,oe._6)(fe,1/0),j=fe;return j.length?1===j.length?(0,X.Xf)(j[0]):(0,h.J)(le)((0,ae.D)(j,de)):O.E}},5403:(ut,Ie,k)=>{k.d(Ie,{x:()=>X});var h=k(2961);function X(oe,ae,ie,fe,de){return new O(oe,ae,ie,fe,de)}class O extends h.Lv{constructor(ae,ie,fe,de,le,j){super(ae),this.onFinalize=le,this.shouldUnsubscribe=j,this._next=ie?function($){try{ie($)}catch(K){ae.error(K)}}:super._next,this._error=de?function($){try{de($)}catch(K){ae.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch($){ae.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},4004:(ut,Ie,k)=>{k.d(Ie,{U:()=>O});var h=k(4482),X=k(5403);function O(oe,ae){return(0,h.e)((ie,fe)=>{let de=0;ie.subscribe((0,X.x)(fe,le=>{fe.next(oe.call(ae,le,de++))}))})}},8189:(ut,Ie,k)=>{k.d(Ie,{J:()=>O});var h=k(5577),X=k(4671);function O(oe=1/0){return(0,h.z)(X.y,oe)}},5577:(ut,Ie,k)=>{k.d(Ie,{z:()=>de});var h=k(4004),X=k(8421),O=k(4482),oe=k(9672),ae=k(5403),fe=k(576);function de(le,j,$=1/0){return(0,fe.m)(j)?de((K,Ue)=>(0,h.U)((De,He)=>j(K,De,Ue,He))((0,X.Xf)(le(K,Ue))),$):("number"==typeof j&&($=j),(0,O.e)((K,Ue)=>function ie(le,j,$,K,Ue,De,He,nt){const he=[];let Ce=0,Ee=0,Fe=!1;const Ae=()=>{Fe&&!he.length&&!Ce&&j.complete()},_e=Le=>Ce<K?xe(Le):he.push(Le),xe=Le=>{De&&j.next(Le),Ce++;let Oe=!1;(0,X.Xf)($(Le,Ee++)).subscribe((0,ae.x)(j,U=>{Ue?.(U),De?_e(U):j.next(U)},()=>{Oe=!0},void 0,()=>{if(Oe)try{for(Ce--;he.length&&Ce<K;){const U=he.shift();He?(0,oe.f)(j,He,()=>xe(U)):xe(U)}Ae()}catch(U){j.error(U)}}))};return le.subscribe((0,ae.x)(j,_e,()=>{Fe=!0,Ae()})),()=>{nt?.()}}(K,Ue,le,$)))}},5363:(ut,Ie,k)=>{k.d(Ie,{Q:()=>oe});var h=k(9672),X=k(4482),O=k(5403);function oe(ae,ie=0){return(0,X.e)((fe,de)=>{fe.subscribe((0,O.x)(de,le=>(0,h.f)(de,ae,()=>de.next(le),ie),()=>(0,h.f)(de,ae,()=>de.complete(),ie),le=>(0,h.f)(de,ae,()=>de.error(le),ie)))})}},3099:(ut,Ie,k)=>{k.d(Ie,{B:()=>ae});var h=k(8421),X=k(7579),O=k(2961),oe=k(4482);function ae(fe={}){const{connector:de=(()=>new X.x),resetOnError:le=!0,resetOnComplete:j=!0,resetOnRefCountZero:$=!0}=fe;return K=>{let Ue,De,He,nt=0,he=!1,Ce=!1;const Ee=()=>{De?.unsubscribe(),De=void 0},Fe=()=>{Ee(),Ue=He=void 0,he=Ce=!1},Ae=()=>{const _e=Ue;Fe(),_e?.unsubscribe()};return(0,oe.e)((_e,xe)=>{nt++,!Ce&&!he&&Ee();const Le=He=He??de();xe.add(()=>{nt--,0===nt&&!Ce&&!he&&(De=ie(Ae,$))}),Le.subscribe(xe),!Ue&&nt>0&&(Ue=new O.Hp({next:Oe=>Le.next(Oe),error:Oe=>{Ce=!0,Ee(),De=ie(Fe,le,Oe),Le.error(Oe)},complete:()=>{he=!0,Ee(),De=ie(Fe,j),Le.complete()}}),(0,h.Xf)(_e).subscribe(Ue))})(K)}}function ie(fe,de,...le){if(!0===de)return void fe();if(!1===de)return;const j=new O.Hp({next:()=>{j.unsubscribe(),fe()}});return(0,h.Xf)(de(...le)).subscribe(j)}},9468:(ut,Ie,k)=>{k.d(Ie,{R:()=>X});var h=k(4482);function X(O,oe=0){return(0,h.e)((ae,ie)=>{ie.add(O.schedule(()=>ae.subscribe(ie),oe))})}},8505:(ut,Ie,k)=>{k.d(Ie,{b:()=>ae});var h=k(576),X=k(4482),O=k(5403),oe=k(4671);function ae(ie,fe,de){const le=(0,h.m)(ie)||fe||de?{next:ie,error:fe,complete:de}:ie;return le?(0,X.e)((j,$)=>{var K;null===(K=le.subscribe)||void 0===K||K.call(le);let Ue=!0;j.subscribe((0,O.x)($,De=>{var He;null===(He=le.next)||void 0===He||He.call(le,De),$.next(De)},()=>{var De;Ue=!1,null===(De=le.complete)||void 0===De||De.call(le),$.complete()},De=>{var He;Ue=!1,null===(He=le.error)||void 0===He||He.call(le,De),$.error(De)},()=>{var De,He;Ue&&(null===(De=le.unsubscribe)||void 0===De||De.call(le)),null===(He=le.finalize)||void 0===He||He.call(le)}))}):oe.y}},4408:(ut,Ie,k)=>{k.d(Ie,{o:()=>ae});var h=k(727);class X extends h.w0{constructor(fe,de){super()}schedule(fe,de=0){return this}}const O={setInterval(ie,fe,...de){const{delegate:le}=O;return le?.setInterval?le.setInterval(ie,fe,...de):setInterval(ie,fe,...de)},clearInterval(ie){const{delegate:fe}=O;return(fe?.clearInterval||clearInterval)(ie)},delegate:void 0};var oe=k(8737);class ae extends X{constructor(fe,de){super(fe,de),this.scheduler=fe,this.work=de,this.pending=!1}schedule(fe,de=0){var le;if(this.closed)return this;this.state=fe;const j=this.id,$=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId($,j,de)),this.pending=!0,this.delay=de,this.id=null!==(le=this.id)&&void 0!==le?le:this.requestAsyncId($,this.id,de),this}requestAsyncId(fe,de,le=0){return O.setInterval(fe.flush.bind(fe,this),le)}recycleAsyncId(fe,de,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return de;null!=de&&O.clearInterval(de)}execute(fe,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(fe,de);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,de){let j,le=!1;try{this.work(fe)}catch($){le=!0,j=$||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:fe,scheduler:de}=this,{actions:le}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(le,this),null!=fe&&(this.id=this.recycleAsyncId(de,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(ut,Ie,k)=>{k.d(Ie,{v:()=>O});var h=k(6063);class X{constructor(ae,ie=X.now){this.schedulerActionCtor=ae,this.now=ie}schedule(ae,ie=0,fe){return new this.schedulerActionCtor(this,ae).schedule(fe,ie)}}X.now=h.l.now;class O extends X{constructor(ae,ie=X.now){super(ae,ie),this.actions=[],this._active=!1}flush(ae){const{actions:ie}=this;if(this._active)return void ie.push(ae);let fe;this._active=!0;do{if(fe=ae.execute(ae.state,ae.delay))break}while(ae=ie.shift());if(this._active=!1,fe){for(;ae=ie.shift();)ae.unsubscribe();throw fe}}}},4986:(ut,Ie,k)=>{k.d(Ie,{z:()=>O});var h=k(4408);const O=new(k(7565).v)(h.o)},6063:(ut,Ie,k)=>{k.d(Ie,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(ut,Ie,k)=>{k.d(Ie,{z:()=>h});const h={setTimeout(X,O,...oe){const{delegate:ae}=h;return ae?.setTimeout?ae.setTimeout(X,O,...oe):setTimeout(X,O,...oe)},clearTimeout(X){const{delegate:O}=h;return(O?.clearTimeout||clearTimeout)(X)},delegate:void 0}},2202:(ut,Ie,k)=>{k.d(Ie,{h:()=>X});const X=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ut,Ie,k)=>{k.d(Ie,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ut,Ie,k)=>{k.d(Ie,{_6:()=>ie,jO:()=>oe,yG:()=>ae});var h=k(576);function O(fe){return fe[fe.length-1]}function oe(fe){return(0,h.m)(O(fe))?fe.pop():void 0}function ae(fe){return function X(fe){return fe&&(0,h.m)(fe.schedule)}(O(fe))?fe.pop():void 0}function ie(fe,de){return"number"==typeof O(fe)?fe.pop():de}},8737:(ut,Ie,k)=>{function h(X,O){if(X){const oe=X.indexOf(O);0<=oe&&X.splice(oe,1)}}k.d(Ie,{P:()=>h})},3888:(ut,Ie,k)=>{function h(X){const oe=X(ae=>{Error.call(ae),ae.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}k.d(Ie,{d:()=>h})},2806:(ut,Ie,k)=>{k.d(Ie,{O:()=>oe,x:()=>O});var h=k(2416);let X=null;function O(ae){if(h.v.useDeprecatedSynchronousErrorHandling){const ie=!X;if(ie&&(X={errorThrown:!1,error:null}),ae(),ie){const{errorThrown:fe,error:de}=X;if(X=null,fe)throw de}}else ae()}function oe(ae){h.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=ae)}},9672:(ut,Ie,k)=>{function h(X,O,oe,ae=0,ie=!1){const fe=O.schedule(function(){oe(),ie?X.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(X.add(fe),!ie)return fe}k.d(Ie,{f:()=>h})},4671:(ut,Ie,k)=>{function h(X){return X}k.d(Ie,{y:()=>h})},1144:(ut,Ie,k)=>{k.d(Ie,{z:()=>h});const h=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(ut,Ie,k)=>{k.d(Ie,{D:()=>X});var h=k(576);function X(O){return Symbol.asyncIterator&&(0,h.m)(O?.[Symbol.asyncIterator])}},576:(ut,Ie,k)=>{function h(X){return"function"==typeof X}k.d(Ie,{m:()=>h})},3670:(ut,Ie,k)=>{k.d(Ie,{c:()=>O});var h=k(8822),X=k(576);function O(oe){return(0,X.m)(oe[h.L])}},6495:(ut,Ie,k)=>{k.d(Ie,{T:()=>O});var h=k(2202),X=k(576);function O(oe){return(0,X.m)(oe?.[h.h])}},8239:(ut,Ie,k)=>{k.d(Ie,{t:()=>X});var h=k(576);function X(O){return(0,h.m)(O?.then)}},3260:(ut,Ie,k)=>{k.d(Ie,{L:()=>oe,Q:()=>O});var h=k(655),X=k(576);function O(ae){return(0,h.FC)(this,arguments,function*(){const fe=ae.getReader();try{for(;;){const{value:de,done:le}=yield(0,h.qq)(fe.read());if(le)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(de)}}finally{fe.releaseLock()}})}function oe(ae){return(0,X.m)(ae?.getReader)}},4482:(ut,Ie,k)=>{k.d(Ie,{A:()=>X,e:()=>O});var h=k(576);function X(oe){return(0,h.m)(oe?.lift)}function O(oe){return ae=>{if(X(ae))return ae.lift(function(ie){try{return oe(ie,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(ut,Ie,k)=>{k.d(Ie,{U:()=>O,z:()=>X});var h=k(4671);function X(...oe){return O(oe)}function O(oe){return 0===oe.length?h.y:1===oe.length?oe[0]:function(ie){return oe.reduce((fe,de)=>de(fe),ie)}}},7849:(ut,Ie,k)=>{k.d(Ie,{h:()=>O});var h=k(2416),X=k(3410);function O(oe){X.z.setTimeout(()=>{const{onUnhandledError:ae}=h.v;if(!ae)throw oe;ae(oe)})}},4532:(ut,Ie,k)=>{function h(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ie,{z:()=>h})},655:(ut,Ie,k)=>{function oe(W,Y){var se={};for(var ne in W)Object.prototype.hasOwnProperty.call(W,ne)&&Y.indexOf(ne)<0&&(se[ne]=W[ne]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(ne=Object.getOwnPropertySymbols(W);Ve<ne.length;Ve++)Y.indexOf(ne[Ve])<0&&Object.prototype.propertyIsEnumerable.call(W,ne[Ve])&&(se[ne[Ve]]=W[ne[Ve]])}return se}function de(W,Y,se,ne){return new(se||(se=Promise))(function(ke,ct){function en(Bt){try{Rt(ne.next(Bt))}catch(ht){ct(ht)}}function ln(Bt){try{Rt(ne.throw(Bt))}catch(ht){ct(ht)}}function Rt(Bt){Bt.done?ke(Bt.value):function Ve(ke){return ke instanceof se?ke:new se(function(ct){ct(ke)})}(Bt.value).then(en,ln)}Rt((ne=ne.apply(W,Y||[])).next())})}function he(W){return this instanceof he?(this.v=W,this):new he(W)}function Ce(W,Y,se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,ne=se.apply(W,Y||[]),ke=[];return Ve={},ct("next"),ct("throw"),ct("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function ct(Qt){ne[Qt]&&(Ve[Qt]=function(vr){return new Promise(function(Mr,pt){ke.push([Qt,vr,Mr,pt])>1||en(Qt,vr)})})}function en(Qt,vr){try{!function ln(Qt){Qt.value instanceof he?Promise.resolve(Qt.value.v).then(Rt,Bt):ht(ke[0][2],Qt)}(ne[Qt](vr))}catch(Mr){ht(ke[0][3],Mr)}}function Rt(Qt){en("next",Qt)}function Bt(Qt){en("throw",Qt)}function ht(Qt,vr){Qt(vr),ke.shift(),ke.length&&en(ke[0][0],ke[0][1])}}function Fe(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,Y=W[Symbol.asyncIterator];return Y?Y.call(W):(W=function K(W){var Y="function"==typeof Symbol&&Symbol.iterator,se=Y&&W[Y],ne=0;if(se)return se.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&ne>=W.length&&(W=void 0),{value:W&&W[ne++],done:!W}}};throw new TypeError(Y?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),se={},ne("next"),ne("throw"),ne("return"),se[Symbol.asyncIterator]=function(){return this},se);function ne(ke){se[ke]=W[ke]&&function(ct){return new Promise(function(en,ln){!function Ve(ke,ct,en,ln){Promise.resolve(ln).then(function(Rt){ke({value:Rt,done:en})},ct)}(en,ln,(ct=W[ke](ct)).done,ct.value)})}}}k.d(Ie,{FC:()=>Ce,KL:()=>Fe,_T:()=>oe,mG:()=>de,qq:()=>he})},4650:(ut,Ie,k)=>{k.d(Ie,{$8M:()=>sl,$WT:()=>Rn,$Z:()=>A_,AFp:()=>$I,ALo:()=>pI,AaK:()=>de,CHM:()=>$c,CRH:()=>Bv,CZH:()=>sy,CqO:()=>Sp,D6c:()=>lf,EJc:()=>r0,EpF:()=>cE,F4k:()=>X_,FYo:()=>_w,FiY:()=>at,GfV:()=>v_,Gpc:()=>$,JOm:()=>cs,KtG:()=>xd,LFG:()=>je,LSH:()=>Yi,Lbi:()=>zI,Lck:()=>er,MMx:()=>fc,MR2:()=>op,NdJ:()=>Ul,OlP:()=>on,Oqu:()=>Am,P3R:()=>sp,PXZ:()=>fy,Q6J:()=>xh,QGY:()=>Vl,Qsj:()=>wD,R0b:()=>ms,RDi:()=>oo,Rgc:()=>yc,SBq:()=>lh,Sil:()=>ay,Suo:()=>fo,TTD:()=>fa,TgZ:()=>gm,VKq:()=>_i,X6Q:()=>ad,XFs:()=>ft,Xpm:()=>oa,Xts:()=>Tl,Y36:()=>ph,YKP:()=>iI,YNc:()=>pm,Yjl:()=>ua,Yz7:()=>pt,Z0I:()=>Rr,ZZ4:()=>by,_Bn:()=>rI,_UZ:()=>Rh,_Vd:()=>Xu,_c5:()=>sb,_uU:()=>av,aQg:()=>Dy,c2e:()=>Gr,cJS:()=>ii,cg1:()=>pv,dDg:()=>bc,dqk:()=>St,dwT:()=>FE,eFA:()=>c0,ekj:()=>Ln,eoX:()=>o0,f3M:()=>We,g9A:()=>GI,gM2:()=>Lv,h0i:()=>ho,hGG:()=>JC,hij:()=>Vh,iGM:()=>Qh,ifc:()=>qt,ip1:()=>jI,jDz:()=>Hr,kL8:()=>LE,lG2:()=>aa,lcZ:()=>mc,lqb:()=>Sl,lri:()=>af,n5z:()=>Ld,oAB:()=>In,oxw:()=>tv,q4F:()=>vw,qLn:()=>up,qOj:()=>lm,qZA:()=>Mh,rWj:()=>Ic,s9C:()=>Nh,sBO:()=>tb,sIi:()=>Eh,s_b:()=>Qm,soG:()=>nf,tb:()=>t0,tp0:()=>C,uIk:()=>Ih,vHH:()=>he,vpe:()=>Xo,wAp:()=>wt,xp6:()=>Mw,z2F:()=>ng,zSh:()=>f_,zs3:()=>dh});var h=k(7579),X=k(727),O=k(9751),oe=k(6451),ae=k(3099);function ie(s){for(let o in s)if(s[o]===ie)return o;throw Error("Could not find renamed property on target object.")}function fe(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function de(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(de).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function le(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const j=ie({__forward_ref__:ie});function $(s){return s.__forward_ref__=$,s.toString=function(){return de(this())},s}function K(s){return Ue(s)?s():s}function Ue(s){return"function"==typeof s&&s.hasOwnProperty(j)&&s.__forward_ref__===$}function De(s){return s&&!!s.\u0275providers}const nt="https://g.co/ng/security#xss";class he extends Error{constructor(o,a){super(function Ce(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,a)),this.code=o}}function Ee(s){return"string"==typeof s?s:null==s?"":String(s)}function Le(s,o){throw new he(-201,!1)}function Bt(s,o){null==s&&function ht(s,o,a,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function pt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function ii(s){return{providers:s.providers||[],imports:s.imports||[]}}function qr(s){return Nr(s,Or)||Nr(s,dn)}function Rr(s){return null!==qr(s)}function Nr(s,o){return s.hasOwnProperty(o)?s[o]:null}function wi(s){return s&&(s.hasOwnProperty(Ws)||s.hasOwnProperty(Wr))?s[Ws]:null}const Or=ie({\u0275prov:ie}),Ws=ie({\u0275inj:ie}),dn=ie({ngInjectableDef:ie}),Wr=ie({ngInjectorDef:ie});var ft=(()=>((ft=ft||{})[ft.Default=0]="Default",ft[ft.Host=1]="Host",ft[ft.Self=2]="Self",ft[ft.SkipSelf=4]="SkipSelf",ft[ft.Optional=8]="Optional",ft))();let es;function vn(s){const o=es;return es=s,o}function kr(s,o,a){const c=qr(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&ft.Optional?null:void 0!==o?o:void Le(de(s))}const St=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Sn={},wn="__NG_DI_FLAG__",Ii="ngTempTokenPath",ia=/\n/gm,ns="__source";let Zt;function Er(s){const o=Zt;return Zt=s,o}function Li(s,o=ft.Default){if(void 0===Zt)throw new he(-203,!1);return null===Zt?kr(s,void 0,o):Zt.get(s,o&ft.Optional?null:void 0,o)}function je(s,o=ft.Default){return(function Ei(){return es}()||Li)(K(s),o)}function We(s,o=ft.Default){return je(s,It(o))}function It(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Tt(s){const o=[];for(let a=0;a<s.length;a++){const c=K(s[a]);if(Array.isArray(c)){if(0===c.length)throw new he(900,!1);let d,p=ft.Default;for(let _=0;_<c.length;_++){const E=c[_],b=B(E);"number"==typeof b?-1===b?d=E.token:p|=b:d=E}o.push(je(d,p))}else o.push(je(c))}return o}function kt(s,o){return s[wn]=o,s.prototype[wn]=o,s}function B(s){return s[wn]}function ge(s){return{toString:s}.toString()}var ee=(()=>((ee=ee||{})[ee.OnPush=0]="OnPush",ee[ee.Default=1]="Default",ee))(),qt=(()=>{return(s=qt||(qt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",qt;var s})();const En={},mt=[],nr=ie({\u0275cmp:ie}),$t=ie({\u0275dir:ie}),Kn=ie({\u0275pipe:ie}),yo=ie({\u0275mod:ie}),Ir=ie({\u0275fac:ie}),sa=ie({__NG_ELEMENT_ID__:ie});let If=0;function oa(s){return ge(()=>{const a=!0===s.standalone,c={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===ee.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||mt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||qt.Emulated,id:"c"+If++,styles:s.styles||mt,_:null,setInput:null,schemas:s.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},p=s.dependencies,_=s.features;return d.inputs=Oc(s.inputs,c),d.outputs=Oc(s.outputs),_&&_.forEach(E=>E(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(Nc).filter(md):null,d.pipeDefs=p?()=>("function"==typeof p?p():p).map(Mn).filter(md):null,d})}function Nc(s){return Kt(s)||Yn(s)}function md(s){return null!==s}function In(s){return ge(()=>({type:s.type,bootstrap:s.bootstrap||mt,declarations:s.declarations||mt,imports:s.imports||mt,exports:s.exports||mt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Oc(s,o){if(null==s)return En;const a={};for(const c in s)if(s.hasOwnProperty(c)){let d=s[c],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=c,o&&(o[d]=p)}return a}const aa=oa;function ua(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Kt(s){return s[nr]||null}function Yn(s){return s[$t]||null}function Mn(s){return s[Kn]||null}function Rn(s){const o=Kt(s)||Yn(s)||Mn(s);return null!==o&&o.standalone}function dr(s,o){const a=s[yo]||null;if(!a&&!0===o)throw new Error(`Type ${de(s)} does not have '\u0275mod' property.`);return a}function Kr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Ci(s){return Array.isArray(s)&&!0===s[1]}function la(s){return 0!=(4&s.flags)}function Ti(s){return s.componentOffset>-1}function kc(s){return 1==(1&s.flags)}function Yr(s){return null!==s.template}function da(s){return 0!=(256&s[2])}function Xs(s,o){return s.hasOwnProperty(Ir)?s[Ir]:null}class Ts{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function fa(){return Js}function Js(s){return s.type.prototype.ngOnChanges&&(s.setInput=pu),fu}function fu(){const s=pa(this),o=s?.current;if(o){const a=s.previous;if(a===En)s.previous=o;else for(let c in o)a[c]=o[c];s.current=null,this.ngOnChanges(o)}}function pu(s,o,a,c){const d=this.declaredInputs[a],p=pa(s)||function gu(s,o){return s[Ss]=o}(s,{previous:En,current:null}),_=p.current||(p.current={}),E=p.previous,b=E[d];_[d]=new Ts(b&&b.currentValue,o,E===En),s[c]=o}fa.ngInherit=!0;const Ss="__ngSimpleChanges__";function pa(s){return s[Ss]||null}function kn(s){for(;Array.isArray(s);)s=s[0];return s}function eo(s,o){return kn(o[s])}function fr(s,o){return kn(o[s.index])}function Do(s,o){return s.data[o]}function As(s,o){return s[o]}function rr(s,o){const a=o[s];return Kr(a)?a:a[0]}function ya(s){return 64==(64&s[2])}function ji(s,o){return null==o?null:s[o]}function _a(s){s[18]=0}function va(s,o){s[5]+=o;let a=s,c=s[3];for(;null!==c&&(1===o&&1===a[5]||-1===o&&0===a[5]);)c[5]+=o,a=c,c=c[3]}const At={lFrame:zy(null),bindingsEnabled:!0};function wu(){return At.bindingsEnabled}function Te(){return At.lFrame.lView}function Yt(){return At.lFrame.tView}function $c(s){return At.lFrame.contextLView=s,s[8]}function xd(s){return At.lFrame.contextLView=null,s}function pr(){let s=Co();for(;null!==s&&64===s.type;)s=s.parent;return s}function Co(){return At.lFrame.currentTNode}function oi(s,o){const a=At.lFrame;a.currentTNode=s,a.isParent=o}function Iu(){return At.lFrame.isParent}function bn(){const s=At.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function is(){return At.lFrame.bindingIndex++}function qc(s,o){const a=At.lFrame;a.bindingIndex=a.bindingRootIndex=s,Rd(o)}function Rd(s){At.lFrame.currentDirectiveIndex=s}function Nd(){return At.lFrame.currentQueryIndex}function Wc(s){At.lFrame.currentQueryIndex=s}function Od(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Tf(s,o,a){if(a&ft.SkipSelf){let d=o,p=s;for(;!(d=d.parent,null!==d||a&ft.Host||(d=Od(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;o=d,s=p}const c=At.lFrame=Sf();return c.currentTNode=o,c.lView=s,!0}function bu(s){const o=Sf(),a=s[1];At.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Sf(){const s=At.lFrame,o=null===s?null:s.child;return null===o?zy(s):o}function zy(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function vg(){const s=At.lFrame;return At.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Du=vg;function wg(){const s=vg();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Qr(){return At.lFrame.selectedIndex}function Ea(s){At.lFrame.selectedIndex=s}function pn(){const s=At.lFrame;return Do(s.tView,s.selectedIndex)}function xs(s,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:E,ngAfterViewInit:b,ngAfterViewChecked:T,ngOnDestroy:M}=p;_&&(s.contentHooks||(s.contentHooks=[])).push(-a,_),E&&((s.contentHooks||(s.contentHooks=[])).push(a,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,E)),b&&(s.viewHooks||(s.viewHooks=[])).push(-a,b),T&&((s.viewHooks||(s.viewHooks=[])).push(a,T),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,T)),null!=M&&(s.destroyHooks||(s.destroyHooks=[])).push(a,M)}}function ui(s,o,a){Yc(s,o,3,a)}function Cu(s,o,a,c){(3&s[2])===a&&Yc(s,o,a,c)}function Ai(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Yc(s,o,a,c){const p=c??-1,_=o.length-1;let E=0;for(let b=void 0!==c?65535&s[18]:0;b<_;b++)if("number"==typeof o[b+1]){if(E=o[b],null!=c&&E>=c)break}else o[b]<0&&(s[18]+=65536),(E<p||-1==p)&&(kd(s,a,o,b),s[18]=(4294901760&s[18])+b+2),b++}function kd(s,o,a,c){const d=a[c]<0,p=a[c+1],E=s[d?-a[c]:a[c]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(E)}finally{}}}else try{p.call(E)}finally{}}class Ia{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function _n(s,o,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const p=a[c++],_=a[c++],E=a[c++];s.setAttribute(o,_,E,p)}else{const p=d,_=a[++c];Ro(p)?s.setProperty(o,p,_):s.setAttribute(o,p,_),c++}}return c}function Mo(s){return 3===s||4===s||6===s}function Ro(s){return 64===s.charCodeAt(0)}function Rs(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?a=d:0===a||Tu(s,a,d,null,-1===a||2===a?o[++c]:null)}}return s}function Tu(s,o,a,c,d){let p=0,_=s.length;if(-1===o)_=-1;else for(;p<s.length;){const E=s[p++];if("number"==typeof E){if(E===o){_=-1;break}if(E>o){_=p-1;break}}}for(;p<s.length;){const E=s[p];if("number"==typeof E)break;if(E===a){if(null===c)return void(null!==d&&(s[p+1]=d));if(c===s[p+1])return void(s[p+2]=d)}p++,null!==c&&p++,null!==d&&p++}-1!==_&&(s.splice(_,0,o),p=_+1),s.splice(p++,0,a),null!==c&&s.splice(p++,0,c),null!==d&&s.splice(p++,0,d)}function Fd(s){return-1!==s}function Su(s){return 32767&s}function No(s,o){let a=function Au(s){return s>>16}(s),c=o;for(;a>0;)c=c[15],a--;return c}let ss=!0;function no(s){const o=ss;return ss=s,o}let xu=0;const Xr={};function Oo(s,o){const a=Mu(s,o);if(-1!==a)return a;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,Os(c.data,s),Os(o,null),Os(c.blueprint,null));const d=Ru(s,o),p=s.injectorIndex;if(Fd(d)){const _=Su(d),E=No(d,o),b=E[1].data;for(let T=0;T<8;T++)o[p+T]=E[_+T]|b[_+T]}return o[p+8]=d,p}function Os(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Mu(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Ru(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,c=null,d=o;for(;null!==d;){if(c=Rf(d),null===c)return-1;if(a++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function tl(s,o,a){!function el(s,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(sa)&&(c=a[sa]),null==c&&(c=a[sa]=xu++);const d=255&c;o.data[s+(d>>5)]|=1<<d}(s,o,a)}function ko(s,o,a){if(a&ft.Optional||void 0!==s)return s;Le()}function nl(s,o,a,c){if(a&ft.Optional&&void 0===c&&(c=null),!(a&(ft.Self|ft.Host))){const d=s[9],p=vn(void 0);try{return d?d.get(o,c,a&ft.Optional):kr(o,c,a&ft.Optional)}finally{vn(p)}}return ko(c,0,a)}function rl(s,o,a,c=ft.Default,d){if(null!==s){if(1024&o[2]){const _=function Ud(s,o,a,c,d){let p=s,_=o;for(;null!==p&&null!==_&&1024&_[2]&&!(256&_[2]);){const E=os(p,_,a,c|ft.Self,Xr);if(E!==Xr)return E;let b=p.parent;if(!b){const T=_[21];if(T){const M=T.get(a,Xr,c);if(M!==Xr)return M}b=Rf(_),_=_[15]}p=b}return d}(s,o,a,c,Xr);if(_!==Xr)return _}const p=os(s,o,a,c,Xr);if(p!==Xr)return p}return nl(o,a,c,d)}function os(s,o,a,c,d){const p=function ku(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(sa)?s[sa]:void 0;return"number"==typeof o?o>=0?255&o:Mf:o}(a);if("function"==typeof p){if(!Tf(o,s,c))return c&ft.Host?ko(d,0,c):nl(o,a,c,d);try{const _=p(c);if(null!=_||c&ft.Optional)return _;Le()}finally{Du()}}else if("number"==typeof p){let _=null,E=Mu(s,o),b=-1,T=c&ft.Host?o[16][6]:null;for((-1===E||c&ft.SkipSelf)&&(b=-1===E?Ru(s,o):o[E+8],-1!==b&&Mi(c,!1)?(_=o[1],E=Su(b),o=No(b,o)):E=-1);-1!==E;){const M=o[1];if(il(p,E,M.data)){const P=Ou(E,o,a,_,c,T);if(P!==Xr)return P}b=o[E+8],-1!==b&&Mi(c,o[1].data[E+8]===T)&&il(p,E,o)?(_=M,E=Su(b),o=No(b,o)):E=-1}}return d}function Ou(s,o,a,c,d,p){const _=o[1],E=_.data[s+8],M=Ta(E,_,a,null==c?Ti(E)&&ss:c!=_&&0!=(3&E.type),d&ft.Host&&p===E);return null!==M?xi(o,_,M,E):Xr}function Ta(s,o,a,c,d){const p=s.providerIndexes,_=o.data,E=1048575&p,b=s.directiveStart,M=p>>20,z=d?E+M:s.directiveEnd;for(let J=c?E:E+M;J<z;J++){const me=_[J];if(J<b&&a===me||J>=b&&me.type===a)return J}if(d){const J=_[b];if(J&&Yr(J)&&J.type===a)return b}return null}function xi(s,o,a,c){let d=s[a];const p=o.data;if(function ci(s){return s instanceof Ia}(d)){const _=d;_.resolving&&function Ae(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new he(-200,`Circular dependency in DI detected for ${s}${a}`)}(function Fe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ee(s)}(p[a]));const E=no(_.canSeeViewProviders);_.resolving=!0;const b=_.injectImpl?vn(_.injectImpl):null;Tf(s,c,ft.Default);try{d=s[a]=_.factory(void 0,p,s,c),o.firstCreatePass&&a>=c.directiveStart&&function xf(s,o,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:p}=o.type.prototype;if(c){const _=Js(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,_)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,d),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==b&&vn(b),no(E),_.resolving=!1,Du()}}return d}function il(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Mi(s,o){return!(s&ft.Self||s&ft.Host&&o)}class li{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return rl(this._tNode,this._lView,o,It(c),a)}}function Mf(){return new li(pr(),Te())}function Ld(s){return ge(()=>{const o=s.prototype.constructor,a=o[Ir]||Vd(o),c=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==c;){const p=d[Ir]||Vd(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function Vd(s){return Ue(s)?()=>{const o=Vd(K(s));return o&&o()}:Xs(s)}function Rf(s){const o=s[1],a=o.type;return 2===a?o.declTNode:1===a?s[6]:null}function sl(s){return function Nu(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const p=a[d];if(Mo(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(p===o)return a[d+1];d+=2}}}return null}(pr(),s)}const Sa="__parameters__";function Po(s,o,a){return ge(()=>{const c=function Of(s){return function(...a){if(s){const c=s(...a);for(const d in c)this[d]=c[d]}}}(o);function d(...p){if(this instanceof d)return c.apply(this,p),this;const _=new d(...p);return E.annotation=_,E;function E(b,T,M){const P=b.hasOwnProperty(Sa)?b[Sa]:Object.defineProperty(b,Sa,{value:[]})[Sa];for(;P.length<=M;)P.push(null);return(P[M]=P[M]||[]).push(_),b}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class on{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=pt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function zi(s,o){s.forEach(a=>Array.isArray(a)?zi(a,o):o(a))}function Fu(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Ra(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Fn(s,o,a){let c=Qn(s,o);return c>=0?s[1|c]=a:(c=~c,function Uf(s,o,a,c){let d=s.length;if(d==o)s.push(a,c);else if(1===d)s.push(c,s[0]),s[0]=a;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=a,s[o+1]=c}}(s,c,o,a)),c}function Ye(s,o){const a=Qn(s,o);if(a>=0)return s[1|a]}function Qn(s,o){return function $d(s,o,a){let c=0,d=s.length>>a;for(;d!==c;){const p=c+(d-c>>1),_=s[p<<a];if(o===_)return p<<a;_>o?d=p:c=p+1}return~(d<<a)}(s,o,1)}const at=kt(Po("Optional"),8),C=kt(Po("SkipSelf"),4);var cs=(()=>((cs=cs||{})[cs.Important=1]="Important",cs[cs.DashCase=2]="DashCase",cs))();const $u=new Map;let Cg=0;const $f="__ngContext__";function Dr(s,o){Kr(o)?(s[$f]=o[20],function iw(s){$u.set(s[20],s)}(o)):s[$f]=o}function qf(s,o){return undefined(s,o)}function ds(s){const o=s[3];return Ci(o)?o[3]:o}function gl(s){return yl(s[13])}function ml(s){return yl(s[4])}function yl(s){for(;null!==s&&!Ci(s);)s=s[4];return s}function Va(s,o,a,c,d){if(null!=c){let p,_=!1;Ci(c)?p=c:Kr(c)&&(_=!0,c=c[0]);const E=kn(c);0===s&&null!==a?null==d?Ps(o,a,E):Ba(o,a,E,d||null,!0):1===s&&null!==a?Ba(o,a,E,d||null,!0):2===s?function Ha(s,o,a){const c=vl(s,o);c&&function ja(s,o,a,c){s.removeChild(o,a,c)}(s,c,o,a)}(o,E,_):3===s&&o.destroyNode(E),null!=p&&function Qf(s,o,a,c,d){const p=a[7];p!==kn(a)&&Va(o,s,c,p,d);for(let E=10;E<a.length;E++){const b=a[E];Zu(b[1],b,s,o,c,p)}}(o,s,p,a,d)}}function _l(s,o,a){return s.createElement(o,a)}function Ua(s,o){const a=s[9],c=a.indexOf(o),d=o[3];512&o[2]&&(o[2]&=-513,va(d,-1)),a.splice(c,1)}function Gu(s,o){if(s.length<=10)return;const a=10+o,c=s[a];if(c){const d=c[17];null!==d&&d!==s&&Ua(d,c),o>0&&(s[a-1][4]=c[4]);const p=Ra(s,10+o);!function eh(s,o){Zu(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const _=p[19];null!==_&&_.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function xg(s,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&Zu(s,o,a,3,null,null),function Zf(s){let o=s[13];if(!o)return so(s[1],s);for(;o;){let a=null;if(Kr(o))a=o[13];else{const c=o[10];c&&(a=c)}if(!a){for(;o&&!o[4]&&o!==s;)Kr(o)&&so(o[1],o),o=o[3];null===o&&(o=s),Kr(o)&&so(o[1],o),a=o&&o[4]}o=a}}(o)}}function so(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function sw(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let c=0;c<a.length;c+=2){const d=o[a[c]];if(!(d instanceof Ia)){const p=a[c+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const E=d[p[_]],b=p[_+1];try{b.call(E)}finally{}}else try{p.call(d)}finally{}}}}(s,o),function th(s,o){const a=s.cleanup,c=o[7];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const _=a[p+3];_>=0?c[d=_]():c[d=-_].unsubscribe(),p+=2}else{const _=c[d=a[p+1]];a[p].call(_)}if(null!==c){for(let p=d+1;p<c.length;p++)(0,c[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&Ci(o[3])){a!==o[3]&&Ua(a,o);const c=o[19];null!==c&&c.detachView(s)}!function Uo(s){$u.delete(s[20])}(o)}}function Mg(s,o,a){return function Rg(s,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[0];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:p}=s.data[c.directiveStart+d];if(p===qt.None||p===qt.Emulated)return null}return fr(c,a)}}(s,o.parent,a)}function Ba(s,o,a,c,d){s.insertBefore(o,a,c,d)}function Ps(s,o,a){s.appendChild(o,a)}function zu(s,o,a,c,d){null!==c?Ba(s,o,a,c,d):Ps(s,o,a)}function vl(s,o){return s.parentNode(o)}let ep,El,nh=function Kf(s,o,a){return 40&s.type?fr(s,a):null};function Wu(s,o,a,c){const d=Mg(s,c,o),p=o[11],E=function $a(s,o,a){return nh(s,o,a)}(c.parent||o[6],c,o);if(null!=d)if(Array.isArray(a))for(let b=0;b<a.length;b++)zu(p,d,a[b],E,!1);else zu(p,d,a,E,!1)}function Fs(s,o){if(null!==o){const a=o.type;if(3&a)return fr(o,s);if(4&a)return Cr(-1,s[o.index]);if(8&a){const c=o.child;if(null!==c)return Fs(s,c);{const d=s[o.index];return Ci(d)?Cr(-1,d):kn(d)}}if(32&a)return qf(o,s)()||kn(s[o.index]);{const c=Og(s,o);return null!==c?Array.isArray(c)?c[0]:Fs(ds(s[16]),c):Fs(s,o.next)}}return null}function Og(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Cr(s,o){const a=10+s+1;if(a<o.length){const c=o[a],d=c[1].firstChild;if(null!==d)return Fs(c,d)}return o[7]}function wl(s,o,a,c,d,p,_){for(;null!=a;){const E=c[a.index],b=a.type;if(_&&0===o&&(E&&Dr(kn(E),c),a.flags|=2),32!=(32&a.flags))if(8&b)wl(s,o,a.child,c,d,p,!1),Va(o,s,d,E,p);else if(32&b){const T=qf(a,c);let M;for(;M=T();)Va(o,s,d,M,p);Va(o,s,d,E,p)}else 16&b?Ri(s,o,c,a,d,p):Va(o,s,d,E,p);a=_?a.projectionNext:a.next}}function Zu(s,o,a,c,d,p){wl(a,c,s.firstChild,o,d,p,!1)}function Ri(s,o,a,c,d,p){const _=a[16],b=_[6].projection[c.projection];if(Array.isArray(b))for(let T=0;T<b.length;T++)Va(o,s,d,b[T],p);else wl(s,o,b,_[3],d,p,!0)}function Ls(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function ih(s,o,a){const{mergedAttrs:c,classes:d,styles:p}=a;null!==c&&_n(s,o,c),null!==d&&Ls(s,o,d),null!==p&&function rh(s,o,a){s.setAttribute(o,"style",a)}(s,o,p)}function oo(s){ep=s}function Lg(s){return function Il(){if(void 0===El&&(El=null,St.trustedTypes))try{El=St.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return El}()?.createScriptURL(s)||s}class n_{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nt})`}}function w(s){return s instanceof n_?s.changingThisBreaksApplicationSecurity:s}function A(s,o){const a=function R(s){return s instanceof n_&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${nt})`)}return a===o}const oh=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var yr=(()=>((yr=yr||{})[yr.NONE=0]="NONE",yr[yr.HTML=1]="HTML",yr[yr.STYLE=2]="STYLE",yr[yr.SCRIPT=3]="SCRIPT",yr[yr.URL=4]="URL",yr[yr.RESOURCE_URL=5]="RESOURCE_URL",yr))();function Yi(s){const o=Ho();return o?o.sanitize(yr.URL,s)||"":A(s,"URL")?w(s):function bl(s){return(s=String(s)).match(oh)?s:"unsafe:"+s}(Ee(s))}function c_(s){const o=Ho();if(o)return Lg(o.sanitize(yr.RESOURCE_URL,s)||"");if(A(s,"ResourceURL"))return Lg(w(s));throw new he(904,!1)}function sp(s,o,a){return function cw(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?c_:Yi}(o,a)(s)}function Ho(){const s=Te();return s&&s[12]}const Tl=new on("ENVIRONMENT_INITIALIZER"),lw=new on("INJECTOR",-1),dw=new on("INJECTOR_DEF_TYPES");class ch{get(o,a=Sn){if(a===Sn){const c=new Error(`NullInjectorError: No provider for ${de(o)}!`);throw c.name="NullInjectorError",c}return a}}function op(s){return{\u0275providers:s}}function hD(...s){return{\u0275providers:hw(0,s),\u0275fromNgModule:!0}}function hw(s,...o){const a=[],c=new Set;let d;return zi(o,p=>{const _=p;l_(_,a,[],c)&&(d||(d=[]),d.push(_))}),void 0!==d&&fw(d,a),a}function fw(s,o){for(let a=0;a<s.length;a++){const{providers:d}=s[a];d_(d,p=>{o.push(p)})}}function l_(s,o,a,c){if(!(s=K(s)))return!1;let d=null,p=wi(s);const _=!p&&Kt(s);if(p||_){if(_&&!_.standalone)return!1;d=s}else{const b=s.ngModule;if(p=wi(b),!p)return!1;d=b}const E=c.has(d);if(_){if(E)return!1;if(c.add(d),_.dependencies){const b="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const T of b)l_(T,o,a,c)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let T;c.add(d);try{zi(p.imports,M=>{l_(M,o,a,c)&&(T||(T=[]),T.push(M))})}finally{}void 0!==T&&fw(T,o)}if(!E){const T=Xs(d)||(()=>new d);o.push({provide:d,useFactory:T,deps:mt},{provide:dw,useValue:d,multi:!0},{provide:Tl,useValue:()=>je(d),multi:!0})}const b=p.providers;null==b||E||d_(b,M=>{o.push(M)})}}return d!==s&&void 0!==s.providers}function d_(s,o){for(let a of s)De(a)&&(a=a.\u0275providers),Array.isArray(a)?d_(a,o):o(a)}const UA=ie({provide:String,useValue:ie});function h_(s){return null!==s&&"object"==typeof s&&UA in s}function Vs(s){return"function"==typeof s}const f_=new on("Set Injector scope."),jg={},pD={};let p_;function $g(){return void 0===p_&&(p_=new ch),p_}class Sl{}class pw extends Sl{get destroyed(){return this._destroyed}constructor(o,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,y_(o,_=>this.processProvider(_)),this.records.set(lw,Al(void 0,this)),d.has("environment")&&this.records.set(Sl,Al(void 0,this));const p=this.records.get(f_);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(dw.multi,mt,ft.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=Er(this),c=vn(void 0);try{return o()}finally{Er(a),vn(c)}}get(o,a=Sn,c=ft.Default){this.assertNotDestroyed(),c=It(c);const d=Er(this),p=vn(void 0);try{if(!(c&ft.SkipSelf)){let E=this.records.get(o);if(void 0===E){const b=function mD(s){return"function"==typeof s||"object"==typeof s&&s instanceof on}(o)&&qr(o);E=b&&this.injectableDefInScope(b)?Al(g_(o),jg):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(c&ft.Self?$g():this.parent).get(o,a=c&ft.Optional&&a===Sn?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[Ii]=_[Ii]||[]).unshift(de(o)),d)throw _;return function L(s,o,a,c){const d=s[Ii];throw o[ns]&&d.unshift(o[ns]),s.message=function Z(s,o,a,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let d=de(o);if(Array.isArray(o))d=o.map(de).join(" -> ");else if("object"==typeof o){let p=[];for(let _ in o)if(o.hasOwnProperty(_)){let E=o[_];p.push(_+":"+("string"==typeof E?JSON.stringify(E):de(E)))}d=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${s.replace(ia,"\n  ")}`}("\n"+s.message,d,a,c),s.ngTokenPath=d,s[Ii]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{vn(p),Er(d)}}resolveInjectorInitializers(){const o=Er(this),a=vn(void 0);try{const c=this.get(Tl.multi,mt,ft.Self);for(const d of c)d()}finally{Er(o),vn(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(de(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processProvider(o){let a=Vs(o=K(o))?o:K(o&&o.provide);const c=function gD(s){return h_(s)?Al(void 0,s.useValue):Al(Hg(s),jg)}(o);if(Vs(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=Al(void 0,jg,!0),d.factory=()=>Tt(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===jg&&(a.value=pD,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Gg(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=K(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function g_(s){const o=qr(s),a=null!==o?o.factory:Xs(s);if(null!==a)return a;if(s instanceof on)throw new he(204,!1);if(s instanceof Function)return function gw(s){const o=s.length;if(o>0)throw function Fo(s,o){const a=[];for(let c=0;c<s;c++)a.push(o);return a}(o,"?"),new he(204,!1);const a=function mo(s){const o=s&&(s[Or]||s[dn]);if(o){const a=function bs(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new he(204,!1)}function Hg(s,o,a){let c;if(Vs(s)){const d=K(s);return Xs(d)||g_(d)}if(h_(s))c=()=>K(s.useValue);else if(function ap(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...Tt(s.deps||[]));else if(function Bg(s){return!(!s||!s.useExisting)}(s))c=()=>je(K(s.useExisting));else{const d=K(s&&(s.useClass||s.provide));if(!function m_(s){return!!s.deps}(s))return Xs(d)||g_(d);c=()=>new d(...Tt(s.deps))}return c}function Al(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function y_(s,o){for(const a of s)Array.isArray(a)?y_(a,o):a&&De(a)?y_(a.\u0275providers,o):o(a)}class yD{}class mw{}class qg{resolveComponentFactory(o){throw function zg(s){const o=Error(`No component factory found for ${de(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Xu=(()=>{class s{}return s.NULL=new qg,s})();function yw(){return Go(pr(),Te())}function Go(s,o){return new lh(fr(s,o))}let lh=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=yw,s})();function vD(s){return s instanceof lh?s.nativeElement:s}class _w{}let wD=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function ED(){const s=Te(),a=rr(pr().index,s);return(Kr(a)?a:s)[11]}(),s})(),ID=(()=>{class s{}return s.\u0275prov=pt({token:s,providedIn:"root",factory:()=>null}),s})();class v_{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const vw=new v_("15.1.0"),w_={};function I_(s){return s.ngOriginalError}class up{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&I_(o);for(;a&&I_(a);)a=I_(a);return a||null}}function Wa(s){return s instanceof Function?s():s}function Wg(s,o,a){let c=s.length;for(;;){const d=s.indexOf(o,a);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const p=o.length;if(d+p===c||s.charCodeAt(d+p)<=32)return d}a=d+1}}const Cw="ng-template";function Tw(s,o,a){let c=0;for(;c<s.length;){let d=s[c++];if(a&&"class"===d){if(d=s[c],-1!==Wg(d.toLowerCase(),o,0))return!0}else if(1===d){for(;c<s.length&&"string"==typeof(d=s[c++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function Ml(s){return 4===s.type&&s.value!==Cw}function b_(s,o,a){return o===(4!==s.type||a?s.value:Cw)}function xD(s,o,a){let c=4;const d=s.attrs||[],p=function Aw(s){for(let o=0;o<s.length;o++)if(Mo(s[o]))return o;return s.length}(d);let _=!1;for(let E=0;E<o.length;E++){const b=o[E];if("number"!=typeof b){if(!_)if(4&c){if(c=2|1&c,""!==b&&!b_(s,b,a)||""===b&&1===o.length){if(Us(c))return!1;_=!0}}else{const T=8&c?b:o[++E];if(8&c&&null!==s.attrs){if(!Tw(s.attrs,T,a)){if(Us(c))return!1;_=!0}continue}const P=Zg(8&c?"class":b,d,Ml(s),a);if(-1===P){if(Us(c))return!1;_=!0;continue}if(""!==T){let z;z=P>p?"":d[P+1].toLowerCase();const J=8&c?z:null;if(J&&-1!==Wg(J,T,0)||2&c&&T!==z){if(Us(c))return!1;_=!0}}}}else{if(!_&&!Us(c)&&!Us(b))return!1;if(_&&Us(b))continue;_=!1,c=b|1&c}}return Us(c)||_}function Us(s){return 0==(1&s)}function Zg(s,o,a,c){if(null===o)return-1;let d=0;if(c||!a){let p=!1;for(;d<o.length;){const _=o[d];if(_===s)return d;if(3===_||6===_)p=!0;else{if(1===_||2===_){let E=o[++d];for(;"string"==typeof E;)E=o[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=p?1:2}return-1}return function MD(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const c=s[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,s)}function cp(s,o,a=!1){for(let c=0;c<o.length;c++)if(xD(s,o[c],a))return!0;return!1}function xw(s,o){return s?":not("+o.trim()+")":o}function ND(s){let o=s[0],a=1,c=2,d="",p=!1;for(;a<s.length;){let _=s[a];if("string"==typeof _)if(2&c){const E=s[++a];d+="["+_+(E.length>0?'="'+E+'"':"")+"]"}else 8&c?d+="."+_:4&c&&(d+=" "+_);else""!==d&&!Us(_)&&(o+=xw(p,d),d=""),c=_,p=p||!Us(c);a++}return""!==d&&(o+=xw(p,d)),o}const jt={};function Mw(s){D_(Yt(),Te(),Qr()+s,!1)}function D_(s,o,a,c){if(!c)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&ui(o,p,a)}else{const p=s.preOrderHooks;null!==p&&Cu(o,p,0,a)}Ea(a)}function C_(s,o=null,a=null,c){const d=LD(s,o,a,c);return d.resolveInjectorInitializers(),d}function LD(s,o=null,a=null,c,d=new Set){const p=[a||mt,hD(s)];return c=c||("object"==typeof s?void 0:de(s)),new pw(p,o||$g(),c||null,d)}let dh=(()=>{class s{static create(a,c){if(Array.isArray(a))return C_({name:""},c,a,"");{const d=a.name??"";return C_({name:d},a.parent,a.providers,d)}}}return s.THROW_IF_NOT_FOUND=Sn,s.NULL=new ch,s.\u0275prov=pt({token:s,providedIn:"any",factory:()=>je(lw)}),s.__NG_ELEMENT_ID__=-1,s})();function ph(s,o=ft.Default){const a=Te();return null===a?je(s,o):rl(pr(),a,K(s),o)}function A_(){throw new Error("invalid")}function zD(s,o){const a=s.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const p=a[c+1];if(-1!==p){const _=s.data[p];Wc(a[c]),_.contentQueries(2,o[p],p)}}}function fp(s,o,a,c,d,p,_,E,b,T,M){const P=o.blueprint.slice();return P[0]=d,P[2]=76|c,(null!==M||s&&1024&s[2])&&(P[2]|=1024),_a(P),P[3]=P[15]=s,P[8]=a,P[10]=_||s&&s[10],P[11]=E||s&&s[11],P[12]=b||s&&s[12]||null,P[9]=T||s&&s[9]||null,P[6]=p,P[20]=function Kd(){return Cg++}(),P[21]=M,P[16]=2==o.type?s[16]:P,P}function gn(s,o,a,c,d){let p=s.data[o];if(null===p)p=function pp(s,o,a,c,d){const p=Co(),_=Iu(),b=s.data[o]=function lt(s,o,a,c,d,p){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,a,o,c,d);return null===s.firstChild&&(s.firstChild=b),null!==p&&(_?null==p.child&&null!==b.parent&&(p.child=b):null===p.next&&(p.next=b)),b}(s,o,a,c,d),function _g(){return At.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=c,p.attrs=d;const _=function Eu(){const s=At.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return oi(p,!0),p}function gp(s,o,a,c){if(0===a)return-1;const d=o.length;for(let p=0;p<a;p++)o.push(c),s.blueprint.push(c),s.data.push(null);return d}function x_(s,o,a){bu(o);try{const c=s.viewQuery;null!==c&&vp(1,c,a);const d=s.template;null!==d&&WD(s,o,d,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&zD(s,o),s.staticViewQueries&&vp(2,s.viewQuery,a);const p=s.components;null!==p&&function gh(s,o){for(let a=0;a<o.length;a++)Zw(s,o[a])}(o,p)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,wg()}}function Ur(s,o,a,c){const d=o[2];if(128!=(128&d)){bu(o);try{_a(o),function Gc(s){return At.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&WD(s,o,a,2,c);const _=3==(3&d);if(_){const T=s.preOrderCheckHooks;null!==T&&ui(o,T,null)}else{const T=s.preOrderHooks;null!==T&&Cu(o,T,0,null),Ai(o,0)}if(function yh(s){for(let o=gl(s);null!==o;o=ml(o)){if(!o[2])continue;const a=o[9];for(let c=0;c<a.length;c++){const d=a[c];512&d[2]||va(d[3],1),d[2]|=512}}}(o),function QD(s){for(let o=gl(s);null!==o;o=ml(o))for(let a=10;a<o.length;a++){const c=o[a],d=c[1];ya(c)&&Ur(d,c,d.template,c[8])}}(o),null!==s.contentQueries&&zD(s,o),_){const T=s.contentCheckHooks;null!==T&&ui(o,T)}else{const T=s.contentHooks;null!==T&&Cu(o,T,1),Ai(o,1)}!function GD(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)Ea(~d);else{const p=d,_=a[++c],E=a[++c];qc(_,p),E(2,o[p])}}}finally{Ea(-1)}}(s,o);const E=s.components;null!==E&&function qD(s,o){for(let a=0;a<o.length;a++)Ww(s,o[a])}(o,E);const b=s.viewQuery;if(null!==b&&vp(2,b,c),_){const T=s.viewCheckHooks;null!==T&&ui(o,T)}else{const T=s.viewHooks;null!==T&&Cu(o,T,2),Ai(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,va(o[3],-1))}finally{wg()}}}function WD(s,o,a,c,d){const p=Qr(),_=2&c;try{Ea(-1),_&&o.length>22&&D_(s,o,22,!1),a(c,d)}finally{Ea(p)}}function Jg(s,o,a){if(la(o)){const d=o.directiveEnd;for(let p=o.directiveStart;p<d;p++){const _=s.data[p];_.contentQueries&&_.contentQueries(1,a[p],p)}}}function pe(s,o,a){wu()&&(function ni(s,o,a,c){const d=a.directiveStart,p=a.directiveEnd;Ti(a)&&function zw(s,o,a){const c=fr(o,s),d=Nl(a),p=s[10],_=_p(s,fp(s,d,null,a.onPush?32:16,c,o,p,p.createRenderer(c,a),null,null,null));s[o.index]=_}(o,a,s.data[d+a.componentOffset]),s.firstCreatePass||Oo(a,o),Dr(c,o);const _=a.initialInputs;for(let E=d;E<p;E++){const b=s.data[E],T=xi(o,s,E,a);Dr(T,o),null!==_&&Wo(0,E-d,T,b,0,_),Yr(b)&&(rr(a.index,o)[8]=xi(o,s,E,a))}}(s,o,a,fr(a,o)),64==(64&a.flags)&&Ka(s,o,a))}function hs(s,o,a=fr){const c=o.localNames;if(null!==c){let d=o.index+1;for(let p=0;p<c.length;p+=2){const _=c[p+1],E=-1===_?a(o,s):s[_];s[d++]=E}}}function Nl(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=zo(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function zo(s,o,a,c,d,p,_,E,b,T){const M=22+c,P=M+d,z=function Ht(s,o){const a=[];for(let c=0;c<o;c++)a.push(c<s?null:jt);return a}(M,P),J="function"==typeof T?T():T;return z[1]={type:s,blueprint:z,template:a,queries:null,viewQuery:E,declTNode:o,data:z.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:b,consts:J,incompleteFirstPass:!1}}function qo(s,o,a,c){const d=Yw(o);null===a?d.push(c):(d.push(a),s.firstCreatePass&&sm(s).push(c,d.length-1))}function em(s,o,a,c){for(let d in s)if(s.hasOwnProperty(d)){a=null===a?{}:a;const p=s[d];null===c?Ot(a,o,d,p):c.hasOwnProperty(d)&&Ot(a,o,c[d],p)}return a}function Ot(s,o,a,c){s.hasOwnProperty(a)?s[a].push(o,c):s[a]=[o,c]}function ti(s,o,a,c,d,p,_,E){const b=fr(o,a);let M,T=o.inputs;!E&&null!=T&&(M=T[c])?(Ol(s,a,M,c,d),Ti(o)&&jw(a,o.index)):3&o.type&&(c=function nm(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),d=null!=_?_(d,o.value||"",c):d,p.setProperty(b,c,d))}function jw(s,o){const a=rr(o,s);16&a[2]||(a[2]|=32)}function R_(s,o,a,c){let d=!1;if(wu()){const p=null===c?null:{"":-1},_=function Hw(s,o){const a=s.directiveRegistry;let c=null,d=null;if(a)for(let p=0;p<a.length;p++){const _=a[p];if(cp(o,_.selectors,!1))if(c||(c=[]),Yr(_))if(null!==_.findHostDirectiveDefs){const E=[];d=d||new Map,_.findHostDirectiveDefs(_,E,d),c.unshift(...E,_),mp(s,o,E.length)}else c.unshift(_),mp(s,o,0);else d=d||new Map,_.findHostDirectiveDefs?.(_,c,d),c.push(_)}return null===c?null:[c,d]}(s,a);let E,b;null===_?E=b=null:[E,b]=_,null!==E&&(d=!0,$w(s,o,a,E,p,b)),p&&function Gw(s,o,a){if(o){const c=s.localNames=[];for(let d=0;d<o.length;d+=2){const p=a[o[d+1]];if(null==p)throw new he(-301,!1);c.push(o[d],p)}}}(a,c,p)}return a.mergedAttrs=Rs(a.mergedAttrs,a.attrs),d}function $w(s,o,a,c,d,p){for(let T=0;T<c.length;T++)tl(Oo(a,o),s,c[T].type);!function YD(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}(a,s.data.length,c.length);for(let T=0;T<c.length;T++){const M=c[T];M.providersResolver&&M.providersResolver(M)}let _=!1,E=!1,b=gp(s,o,c.length,null);for(let T=0;T<c.length;T++){const M=c[T];a.mergedAttrs=Rs(a.mergedAttrs,M.hostAttrs),im(s,a,o,b,M),gi(b,M,d),null!==M.contentQueries&&(a.flags|=4),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(a.flags|=64);const P=M.type.prototype;!_&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),_=!0),!E&&(P.ngOnChanges||P.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),E=!0),b++}!function tm(s,o,a){const d=o.directiveEnd,p=s.data,_=o.attrs,E=[];let b=null,T=null;for(let M=o.directiveStart;M<d;M++){const P=p[M],z=a?a.get(P):null,me=z?z.outputs:null;b=em(P.inputs,M,b,z?z.inputs:null),T=em(P.outputs,M,T,me);const Pe=null===b||null===_||Ml(o)?null:N_(b,M,_);E.push(Pe)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=8),b.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=E,o.inputs=b,o.outputs=T}(s,a,p)}function Ka(s,o,a){const c=a.directiveStart,d=a.directiveEnd,p=a.index,_=function wa(){return At.lFrame.currentDirectiveIndex}();try{Ea(p);for(let E=c;E<d;E++){const b=s.data[E],T=o[E];Rd(E),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&KD(b,T)}}finally{Ea(-1),Rd(_)}}function KD(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function mp(s,o,a){o.componentOffset=a,(s.components||(s.components=[])).push(o.index)}function gi(s,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=s;Yr(o)&&(a[""]=s)}}function im(s,o,a,c,d){s.data[c]=d;const p=d.factory||(d.factory=Xs(d.type)),_=new Ia(p,Yr(d),ph);s.blueprint[c]=_,a[c]=_,function pi(s,o,a,c,d){const p=d.hostBindings;if(p){let _=s.hostBindingOpCodes;null===_&&(_=s.hostBindingOpCodes=[]);const E=~o.index;(function rm(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(_)!=E&&_.push(E),_.push(a,c,p)}}(s,o,c,gp(s,a,d.hostVars,jt),d)}function Bs(s,o,a,c,d,p){const _=fr(s,o);!function mh(s,o,a,c,d,p,_){if(null==p)s.removeAttribute(o,d,a);else{const E=null==_?Ee(p):_(p,c||"",d);s.setAttribute(o,d,E,a)}}(o[11],_,p,s.value,a,c,d)}function Wo(s,o,a,c,d,p){const _=p[o];if(null!==_){const E=c.setInput;for(let b=0;b<_.length;){const T=_[b++],M=_[b++],P=_[b++];null!==E?c.setInput(a,P,T,M):a[M]=P}}}function N_(s,o,a){let c=null,d=0;for(;d<a.length;){const p=a[d];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===c&&(c=[]);const _=s[p];for(let E=0;E<_.length;E+=2)if(_[E]===o){c.push(p,_[E+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function qw(s,o,a,c){return[s,!0,!1,o,null,0,c,a,null,null]}function Ww(s,o){const a=rr(o,s);if(ya(a)){const c=a[1];48&a[2]?Ur(c,a,c.template,a[8]):a[5]>0&&yp(a)}}function yp(s){for(let c=gl(s);null!==c;c=ml(c))for(let d=10;d<c.length;d++){const p=c[d];if(ya(p))if(512&p[2]){const _=p[1];Ur(_,p,_.template,p[8])}else p[5]>0&&yp(p)}const a=s[1].components;if(null!==a)for(let c=0;c<a.length;c++){const d=rr(a[c],s);ya(d)&&d[5]>0&&yp(d)}}function Zw(s,o){const a=rr(o,s),c=a[1];(function XD(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(c,a),x_(c,a,a[8])}function _p(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function _h(s){for(;s;){s[2]|=32;const o=ds(s);if(da(s)&&!o)return s;s=o}return null}function vh(s,o,a,c=!0){const d=o[10];d.begin&&d.begin();try{Ur(s,o,s.template,a)}catch(_){throw c&&Qw(o,_),_}finally{d.end&&d.end()}}function vp(s,o,a){Wc(0),o(s,a)}function Yw(s){return s[7]||(s[7]=[])}function sm(s){return s.cleanup||(s.cleanup=[])}function Qw(s,o){const a=s[9],c=a?a.get(up,null):null;c&&c.handleError(o)}function Ol(s,o,a,c,d){for(let p=0;p<a.length;){const _=a[p++],E=a[p++],b=o[_],T=s.data[_];null!==T.setInput?T.setInput(b,d,c,E):b[E]=d}}function Ju(s,o,a){let c=a?s.styles:null,d=a?s.classes:null,p=0;if(null!==o)for(let _=0;_<o.length;_++){const E=o[_];"number"==typeof E?p=E:1==p?d=le(d,E):2==p&&(c=le(c,E+": "+o[++_]+";"))}a?s.styles=c:s.stylesWithoutHost=c,a?s.classes=d:s.classesWithoutHost=d}function om(s,o,a,c,d=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&c.push(kn(p)),Ci(p))for(let E=10;E<p.length;E++){const b=p[E],T=b[1].firstChild;null!==T&&om(b[1],b,T,c)}const _=a.type;if(8&_)om(s,o,a.child,c);else if(32&_){const E=qf(a,o);let b;for(;b=E();)c.push(b)}else if(16&_){const E=Og(o,a);if(Array.isArray(E))c.push(...E);else{const b=ds(o[16]);om(b[1],b,E,c,!0)}}a=d?a.projectionNext:a.next}return c}class wp{get rootNodes(){const o=this._lView,a=o[1];return om(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Ci(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(Gu(o,c),Ra(a,c))}this._attachedToViewContainer=!1}xg(this._lView[1],this._lView)}onDestroy(o){qo(this._lView[1],this._lView,null,o)}markForCheck(){_h(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){vh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new he(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Wf(s,o){Zu(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new he(902,!1);this._appRef=o}}class am extends wp{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;vh(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class um extends Xu{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Kt(o);return new ec(a,this.ngModule)}}function k_(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class Jw{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){c=It(c);const d=this.injector.get(o,w_,c);return d!==w_||a===w_?d:this.parentInjector.get(o,a,c)}}class ec extends mw{get inputs(){return k_(this.componentDef.inputs)}get outputs(){return k_(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function OD(s){return s.map(ND).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,c,d){let p=(d=d||this.ngModule)instanceof Sl?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new Jw(o,p):o,E=_.get(_w,null);if(null===E)throw new he(407,!1);const b=_.get(ID,null),T=E.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",P=c?function ZD(s,o,a){return s.selectRootElement(o,a===qt.ShadowDom)}(T,c,this.componentDef.encapsulation):_l(T,M,function Xw(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(M)),z=this.componentDef.onPush?288:272,J=zo(0,null,null,1,0,null,null,null,null,null),me=fp(null,J,null,z,null,null,E,T,b,_,null);let Pe,ze;bu(me);try{const et=this.componentDef;let Dt,Re=null;et.findHostDirectiveDefs?(Dt=[],Re=new Map,et.findHostDirectiveDefs(et,Dt,Re),Dt.push(et)):Dt=[et];const Vt=function F_(s,o){const a=s[1];return s[22]=o,gn(a,22,2,"#host",null)}(me,P),Un=function L_(s,o,a,c,d,p,_,E){const b=d[1];!function tE(s,o,a,c){for(const d of s)o.mergedAttrs=Rs(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(Ju(o,o.mergedAttrs,!0),null!==a&&ih(c,a,o))}(c,s,o,_);const T=p.createRenderer(o,a),M=fp(d,Nl(a),null,a.onPush?32:16,d[s.index],s,p,T,E||null,null,null);return b.firstCreatePass&&mp(b,s,c.length-1),_p(d,M),d[s.index]=M}(Vt,P,et,Dt,me,E,T);ze=Do(J,22),P&&function JD(s,o,a,c){if(c)_n(s,a,["ng-version",vw.full]);else{const{attrs:d,classes:p}=function Kg(s){const o=[],a=[];let c=1,d=2;for(;c<s.length;){let p=s[c];if("string"==typeof p)2===d?""!==p&&o.push(p,s[++c]):8===d&&a.push(p);else{if(!Us(d))break;d=p}c++}return{attrs:o,classes:a}}(o.selectors[0]);d&&_n(s,a,d),p&&p.length>0&&Ls(s,a,p.join(" "))}}(T,et,P,c),void 0!==a&&function rE(s,o,a){const c=s.projection=[];for(let d=0;d<o.length;d++){const p=a[d];c.push(null!=p?Array.from(p):null)}}(ze,this.ngContentSelectors,a),Pe=function nE(s,o,a,c,d,p){const _=pr(),E=d[1],b=fr(_,d);$w(E,d,_,a,null,c);for(let M=0;M<a.length;M++)Dr(xi(d,E,_.directiveStart+M,_),d);Ka(E,d,_),b&&Dr(b,d);const T=xi(d,E,_.directiveStart+_.componentOffset,_);if(s[8]=d[8]=T,null!==p)for(const M of p)M(T,o);return Jg(E,_,s),T}(Un,et,Dt,Re,me,[iE]),x_(J,me,null)}finally{wg()}return new P_(this.componentType,Pe,Go(ze,me),me,ze)}}class P_ extends yD{constructor(o,a,c,d,p){super(),this.location=c,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new am(d),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[o])){const p=this._rootLView;Ol(p[1],p,d,o,a),jw(p,this._tNode.index)}}get injector(){return new li(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function iE(){const s=pr();xs(Te()[1],s)}function lm(s){let o=function cm(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const c=[s];for(;o;){let d;if(Yr(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new he(903,!1);d=o.\u0275dir}if(d){if(a){c.push(d);const _=s;_.inputs=Ep(s.inputs),_.declaredInputs=Ep(s.declaredInputs),_.outputs=Ep(s.outputs);const E=d.hostBindings;E&&Br(s,E);const b=d.viewQuery,T=d.contentQueries;if(b&&V_(s,b),T&&U_(s,T),fe(s.inputs,d.inputs),fe(s.declaredInputs,d.declaredInputs),fe(s.outputs,d.outputs),Yr(d)&&d.data.animation){const M=s.data;M.animation=(M.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let _=0;_<p.length;_++){const E=p[_];E&&E.ngInherit&&E(s),E===lm&&(a=!1)}}o=Object.getPrototypeOf(o)}!function eC(s){let o=0,a=null;for(let c=s.length-1;c>=0;c--){const d=s[c];d.hostVars=o+=d.hostVars,d.hostAttrs=Rs(d.hostAttrs,a=Rs(a,d.hostAttrs))}}(c)}function Ep(s){return s===En?{}:s===mt?[]:s}function V_(s,o){const a=s.viewQuery;s.viewQuery=a?(c,d)=>{o(c,d),a(c,d)}:o}function U_(s,o){const a=s.contentQueries;s.contentQueries=a?(c,d,p)=>{o(c,d,p),a(c,d,p)}:o}function Br(s,o){const a=s.hostBindings;s.hostBindings=a?(c,d)=>{o(c,d),a(c,d)}:o}let wh=null;function kl(){if(!wh){const s=St.Symbol;if(s&&s.iterator)wh=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const c=o[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(wh=c)}}}return wh}function Eh(s){return!!Ip(s)&&(Array.isArray(s)||!(s instanceof Map)&&kl()in s)}function Ip(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ao(s,o,a){return s[o]=a}function _r(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function tc(s,o,a,c){const d=_r(s,o,a);return _r(s,o+1,c)||d}function Ih(s,o,a,c){const d=Te();return _r(d,is(),o)&&(Yt(),Bs(pn(),d,s,o,a,c)),Ih}function Dh(s,o,a,c){return _r(s,is(),a)?o+Ee(a)+c:jt}function pm(s,o,a,c,d,p,_,E){const b=Te(),T=Yt(),M=s+22,P=T.firstCreatePass?function Tp(s,o,a,c,d,p,_,E,b){const T=o.consts,M=gn(o,s,4,_||null,ji(T,E));R_(o,a,M,ji(T,b)),xs(o,M);const P=M.tViews=zo(2,M,c,d,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,M),P.queries=o.queries.embeddedTView(M)),M}(M,T,b,o,a,c,d,p,_):T.data[M];oi(P,!1);const z=b[11].createComment("");Wu(T,b,z,P),Dr(z,b),_p(b,b[M]=qw(z,b,z,P)),kc(P)&&pe(T,b,P),null!=_&&hs(b,P,E)}function xh(s,o,a){const c=Te();return _r(c,is(),o)&&ti(Yt(),pn(),c,s,o,c[11],a,!1),xh}function Ll(s,o,a,c,d){const _=d?"class":"style";Ol(s,a,o.inputs[_],_,c)}function gm(s,o,a,c){const d=Te(),p=Yt(),_=22+s,E=d[11],b=d[_]=_l(E,o,function Eg(){return At.lFrame.currentNamespace}()),T=p.firstCreatePass?function uE(s,o,a,c,d,p,_){const E=o.consts,T=gn(o,s,2,d,ji(E,p));return R_(o,a,T,ji(E,_)),null!==T.attrs&&Ju(T,T.attrs,!1),null!==T.mergedAttrs&&Ju(T,T.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,T),T}(_,p,d,0,o,a,c):p.data[_];return oi(T,!0),ih(E,b,T),32!=(32&T.flags)&&Wu(p,d,b,T),0===function vu(){return At.lFrame.elementDepthCount}()&&Dr(b,d),function jc(){At.lFrame.elementDepthCount++}(),kc(T)&&(pe(p,d,T),Jg(p,T,d)),null!==c&&hs(d,T),gm}function Mh(){let s=pr();Iu()?function To(){At.lFrame.isParent=!1}():(s=s.parent,oi(s,!1));const o=s;!function Sd(){At.lFrame.elementDepthCount--}();const a=Yt();return a.firstCreatePass&&(xs(a,s),la(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Xc(s){return 0!=(8&s.flags)}(o)&&Ll(a,o,Te(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Pd(s){return 0!=(16&s.flags)}(o)&&Ll(a,o,Te(),o.stylesWithoutHost,!1),Mh}function Rh(s,o,a,c){return gm(s,o,a,c),Mh(),Rh}function cE(){return Te()}function Vl(s){return!!s&&"function"==typeof s.then}function X_(s){return!!s&&"function"==typeof s.subscribe}const Sp=X_;function Ul(s,o,a,c){const d=Te(),p=Yt(),_=pr();return function lE(s,o,a,c,d,p,_){const E=kc(c),T=s.firstCreatePass&&sm(s),M=o[8],P=Yw(o);let z=!0;if(3&c.type||_){const Pe=fr(c,o),ze=_?_(Pe):Pe,et=P.length,Dt=_?Vt=>_(kn(Vt[c.index])):c.index;let Re=null;if(!_&&E&&(Re=function J_(s,o,a,c){const d=s.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const _=d[p];if(_===a&&d[p+1]===c){const E=o[7],b=d[p+2];return E.length>b?E[b]:null}"string"==typeof _&&(p+=2)}return null}(s,o,d,c.index)),null!==Re)(Re.__ngLastListenerFn__||Re).__ngNextListenerFn__=p,Re.__ngLastListenerFn__=p,z=!1;else{p=ev(c,o,M,p,!1);const Vt=a.listen(ze,d,p);P.push(p,Vt),T&&T.push(d,Dt,et,et+1)}}else p=ev(c,o,M,p,!1);const J=c.outputs;let me;if(z&&null!==J&&(me=J[d])){const Pe=me.length;if(Pe)for(let ze=0;ze<Pe;ze+=2){const Un=o[me[ze]][me[ze+1]].subscribe(p),qn=P.length;P.push(p,Un),T&&T.push(d,c.index,qn,-(qn+1))}}}(p,d,d[11],_,s,o,c),Ul}function dE(s,o,a,c){try{return!1!==a(c)}catch(d){return Qw(s,d),!1}}function ev(s,o,a,c,d){return function p(_){if(_===Function)return c;_h(s.componentOffset>-1?rr(s.index,o):o);let b=dE(o,0,c,_),T=p.__ngNextListenerFn__;for(;T;)b=dE(o,0,T,_)&&b,T=T.__ngNextListenerFn__;return d&&!1===b&&(_.preventDefault(),_.returnValue=!1),b}}function tv(s=1){return function qy(s){return(At.lFrame.contextLView=function Zc(s,o){for(;s>0;)o=o[15],s--;return o}(s,At.lFrame.contextLView))[8]}(s)}function Nh(s,o,a){return Oh(s,"",o,"",a),Nh}function Oh(s,o,a,c,d){const p=Te(),_=Dh(p,o,a,c);return _!==jt&&ti(Yt(),pn(),p,s,_,p[11],d,!1),Oh}function _m(s,o){return s<<17|o<<2}function rc(s){return s>>17&32767}function Zo(s){return 2|s}function ic(s){return(131068&s)>>2}function vm(s,o){return-131069&s|o<<2}function sc(s){return 1|s}function iv(s,o,a,c,d){const p=s[a+1],_=null===o;let E=c?rc(p):ic(p),b=!1;for(;0!==E&&(!1===b||_);){const M=s[E+1];mE(s[E],o)&&(b=!0,s[E+1]=c?sc(M):Zo(M)),E=c?rc(M):ic(M)}b&&(s[a+1]=c?Zo(p):sc(p))}function mE(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Qn(s,o)>=0}function Ln(s,o){return function $s(s,o,a,c){const d=Te(),p=Yt(),_=function ai(s){const o=At.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}(2);p.firstUpdatePass&&function Rp(s,o,a,c){const d=s.data;if(null===d[a+1]){const p=d[Qr()],_=function sv(s,o){return o>=s.expandoStartIndex}(s,a);(function Lh(s,o){return 0!=(s.flags&(o?8:16))})(p,c)&&null===o&&!_&&(o=!1),o=function bE(s,o,a,c){const d=function to(s){const o=At.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(a=tu(a=Np(null,s,o,a,c),o.attrs,c),p=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==d)if(a=Np(d,s,o,a,c),null===p){let b=function eu(s,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==ic(c))return s[rc(c)]}(s,o,c);void 0!==b&&Array.isArray(b)&&(b=Np(null,s,o,b[1],c),b=tu(b,o.attrs,c),function DE(s,o,a,c){s[rc(a?o.classBindings:o.styleBindings)]=c}(s,o,c,b))}else p=function CE(s,o,a){let c;const d=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<d;p++)c=tu(c,s[p].hostAttrs,a);return tu(c,o.attrs,a)}(s,o,c)}return void 0!==p&&(c?o.residualClasses=p:o.residualStyles=p),a}(d,p,o,c),function gE(s,o,a,c,d,p){let _=p?o.classBindings:o.styleBindings,E=rc(_),b=ic(_);s[c]=a;let M,T=!1;if(Array.isArray(a)?(M=a[1],(null===M||Qn(a,M)>0)&&(T=!0)):M=a,d)if(0!==b){const z=rc(s[E+1]);s[c+1]=_m(z,E),0!==z&&(s[z+1]=vm(s[z+1],c)),s[E+1]=function xp(s,o){return 131071&s|o<<17}(s[E+1],c)}else s[c+1]=_m(E,0),0!==E&&(s[E+1]=vm(s[E+1],c)),E=c;else s[c+1]=_m(b,0),0===E?E=c:s[b+1]=vm(s[b+1],c),b=c;T&&(s[c+1]=Zo(s[c+1])),iv(s,M,c,!0),iv(s,M,c,!1),function oC(s,o,a,c,d){const p=d?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Qn(p,o)>=0&&(a[c+1]=sc(a[c+1]))}(o,M,s,c,p),_=_m(E,b),p?o.classBindings=_:o.styleBindings=_}(d,p,o,a,_,c)}}(p,s,_,c),o!==jt&&_r(d,_,o)&&function ov(s,o,a,c,d,p,_,E){if(!(3&o.type))return;const b=s.data,T=b[E+1],M=function pE(s){return 1==(1&s)}(T)?Op(b,o,a,d,ic(T),_):void 0;Sm(M)||(Sm(p)||function sC(s){return 2==(2&s)}(T)&&(p=Op(b,null,a,d,E,_)),function $o(s,o,a,c,d){if(o)d?s.addClass(a,c):s.removeClass(a,c);else{let p=-1===c.indexOf("-")?void 0:cs.DashCase;null==d?s.removeStyle(a,c,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=cs.Important),s.setStyle(a,c,d,p))}}(c,_,eo(Qr(),a),d,p))}(p,p.data[Qr()],d,d[11],s,d[_+1]=function SE(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=de(w(s)))),s}(o,a),c,_)}(s,o,null,!0),Ln}function Np(s,o,a,c,d){let p=null;const _=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<_&&(p=o[E],c=tu(c,p.hostAttrs,d),p!==s);)E++;return null!==s&&(a.directiveStylingLast=E),c}function tu(s,o,a){const c=a?1:2;let d=-1;if(null!==o)for(let p=0;p<o.length;p++){const _=o[p];"number"==typeof _?d=_:d===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Fn(s,_,!!a||o[++p]))}return void 0===s?null:s}function Op(s,o,a,c,d,p){const _=null===o;let E;for(;d>0;){const b=s[d],T=Array.isArray(b),M=T?b[1]:b,P=null===M;let z=a[d+1];z===jt&&(z=P?mt:void 0);let J=P?Ye(z,c):M===c?z:void 0;if(T&&!Sm(J)&&(J=Ye(b,c)),Sm(J)&&(E=J,_))return E;const me=s[d+1];d=_?rc(me):ic(me)}if(null!==o){let b=p?o.residualClasses:o.residualStyles;null!=b&&(E=Ye(b,c))}return E}function Sm(s){return void 0!==s}function av(s,o=""){const a=Te(),c=Yt(),d=s+22,p=c.firstCreatePass?gn(c,d,1,o,null):c.data[d],_=a[d]=function Jd(s,o){return s.createText(o)}(a[11],o);Wu(c,a,_,p),oi(p,!1)}function Am(s){return Vh("",s,""),Am}function Vh(s,o,a){const c=Te(),d=Dh(c,s,o,a);return d!==jt&&function Ya(s,o,a){const c=eo(o,s);!function Sg(s,o,a){s.setValue(o,a)}(s[11],c,a)}(c,Qr(),d),Vh}const $e=void 0;var Me=["en",[["a","p"],["AM","PM"],$e],[["AM","PM"],$e,$e],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$e,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$e,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$e,"{1} 'at' {0}",$e],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ue(s){const a=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Vn={};function FE(s,o,a){"string"!=typeof o&&(a=o,o=s[wt.LocaleId]),o=o.toLowerCase().replace(/_/g,"-"),Vn[o]=s,a&&(Vn[o][wt.ExtraData]=a)}function pv(s){const o=function mC(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=VE(o);if(a)return a;const c=o.split("-")[0];if(a=VE(c),a)return a;if("en"===c)return Me;throw new he(701,!1)}function LE(s){return pv(s)[wt.PluralCase]}function VE(s){return s in Vn||(Vn[s]=St.ng&&St.ng.common&&St.ng.common.locales&&St.ng.common.locales[s]),Vn[s]}var wt=(()=>((wt=wt||{})[wt.LocaleId=0]="LocaleId",wt[wt.DayPeriodsFormat=1]="DayPeriodsFormat",wt[wt.DayPeriodsStandalone=2]="DayPeriodsStandalone",wt[wt.DaysFormat=3]="DaysFormat",wt[wt.DaysStandalone=4]="DaysStandalone",wt[wt.MonthsFormat=5]="MonthsFormat",wt[wt.MonthsStandalone=6]="MonthsStandalone",wt[wt.Eras=7]="Eras",wt[wt.FirstDayOfWeek=8]="FirstDayOfWeek",wt[wt.WeekendRange=9]="WeekendRange",wt[wt.DateFormat=10]="DateFormat",wt[wt.TimeFormat=11]="TimeFormat",wt[wt.DateTimeFormat=12]="DateTimeFormat",wt[wt.NumberSymbols=13]="NumberSymbols",wt[wt.NumberFormats=14]="NumberFormats",wt[wt.CurrencyCode=15]="CurrencyCode",wt[wt.CurrencySymbol=16]="CurrencySymbol",wt[wt.CurrencyName=17]="CurrencyName",wt[wt.Currencies=18]="Currencies",wt[wt.Directionality=19]="Directionality",wt[wt.PluralCase=20]="PluralCase",wt[wt.ExtraData=21]="ExtraData",wt))();const $l="en-US";let Bh=$l;function $m(s,o,a,c,d){if(s=K(s),Array.isArray(s))for(let p=0;p<s.length;p++)$m(s[p],o,a,c,d);else{const p=Yt(),_=Te();let E=Vs(s)?s:K(s.provide),b=Hg(s);const T=pr(),M=1048575&T.providerIndexes,P=T.directiveStart,z=T.providerIndexes>>20;if(Vs(s)||!s.multi){const J=new Ia(b,d,ph),me=Tv(E,o,d?M:M+z,P);-1===me?(tl(Oo(T,_),p,E),Cv(p,s,o.length),o.push(E),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),a.push(J),_.push(J)):(a[me]=J,_[me]=J)}else{const J=Tv(E,o,M+z,P),me=Tv(E,o,M,M+z),ze=me>=0&&a[me];if(d&&!ze||!d&&!(J>=0&&a[J])){tl(Oo(T,_),p,E);const et=function TC(s,o,a,c,d){const p=new Ia(s,a,ph);return p.multi=[],p.index=o,p.componentProviders=0,tI(p,d,c&&!a),p}(d?CC:nI,a.length,d,c,b);!d&&ze&&(a[me].providerFactory=et),Cv(p,s,o.length,0),o.push(E),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),a.push(et),_.push(et)}else Cv(p,s,J>-1?J:me,tI(a[d?me:J],b,!d&&c));!d&&c&&ze&&a[me].componentProviders++}}}function Cv(s,o,a,c){const d=Vs(o),p=function fD(s){return!!s.useClass}(o);if(d||p){const b=(p?K(o.useClass):o).prototype.ngOnDestroy;if(b){const T=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const M=T.indexOf(a);-1===M?T.push(a,[c,b]):T[M+1].push(c,b)}else T.push(a,b)}}}function tI(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function Tv(s,o,a,c){for(let d=a;d<c;d++)if(o[d]===s)return d;return-1}function nI(s,o,a,c){return Hm(this.multi,[])}function CC(s,o,a,c){const d=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,E=xi(a,a[1],this.providerFactory.index,c);p=E.slice(0,_),Hm(d,p);for(let b=_;b<E.length;b++)p.push(E[b])}else p=[],Hm(d,p);return p}function Hm(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function rI(s,o=[]){return a=>{a.providersResolver=(c,d)=>function eI(s,o,a){const c=Yt();if(c.firstCreatePass){const d=Yr(s);$m(a,c.data,c.blueprint,d,!0),$m(o,c.data,c.blueprint,d,!1)}}(c,d?d(s):s,o)}}class ho{}class iI{}function er(s,o){return new $r(s,o??null)}class $r extends ho{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new um(this);const c=dr(o);this._bootstrapComponents=Wa(c.bootstrap),this._r3Injector=LD(o,a,[{provide:ho,useValue:this},{provide:Xu,useValue:this.componentFactoryResolver}],de(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class cn extends iI{constructor(o){super(),this.moduleType=o}create(o){return new $r(this.moduleType,o)}}class sI extends ho{constructor(o,a,c){super(),this.componentFactoryResolver=new um(this),this.instance=null;const d=new pw([...o,{provide:ho,useValue:this},{provide:Xu,useValue:this.componentFactoryResolver}],a||$g(),c,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function fc(s,o,a=null){return new sI(s,o,a).injector}let Qi=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=hw(0,a.type),d=c.length>0?fc([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=pt({token:s,providedIn:"environment",factory:()=>new s(je(Sl))}),s})();function Hr(s){s.getStandaloneInjector=o=>o.get(Qi).getOrCreateStandaloneInjector(s)}function _i(s,o,a,c){return kv(Te(),bn(),s,o,a,c)}function Gp(s,o){const a=s[o];return a===jt?void 0:a}function kv(s,o,a,c,d,p){const _=o+a;return _r(s,_,d)?ao(s,_+1,p?c.call(p,d):c(d)):Gp(s,_+1)}function zp(s,o,a,c,d,p,_,E,b){const T=o+a;return function fs(s,o,a,c,d,p){const _=tc(s,o,a,c);return tc(s,o+2,d,p)||_}(s,T,d,p,_,E)?ao(s,T+4,b?c.call(b,d,p,_,E):c(d,p,_,E)):Gp(s,T+4)}function pI(s,o){const a=Yt();let c;const d=s+22;a.firstCreatePass?(c=function gI(s,o){if(o)for(let a=o.length-1;a>=0;a--){const c=o[a];if(s===c.name)return c}}(o,a.pipeRegistry),a.data[d]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,c.onDestroy)):c=a.data[d];const p=c.factory||(c.factory=Xs(c.type)),_=vn(ph);try{const E=no(!1),b=p();return no(E),function Z_(s,o,a,c){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=c}(a,Te(),d,b),b}finally{vn(_)}}function mc(s,o,a){const c=s+22,d=Te(),p=As(d,c);return Kh(d,c)?kv(d,bn(),o,p.transform,a,p):p.transform(a)}function Lv(s,o,a,c,d,p){const _=s+22,E=Te(),b=As(E,_);return Kh(E,_)?zp(E,bn(),o,b.transform,a,c,d,p,b):b.transform(a,c,d,p)}function Kh(s,o){return s[1].data[o].pure}function Jl(s){return o=>{setTimeout(s,void 0,o)}}const Xo=class yI extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let d=o,p=a||(()=>null),_=c;if(o&&"object"==typeof o){const b=o;d=b.next?.bind(b),p=b.error?.bind(b),_=b.complete?.bind(b)}this.__isAsync&&(p=Jl(p),d&&(d=Jl(d)),_&&(_=Jl(_)));const E=super.subscribe({next:d,error:p,complete:_});return o instanceof X.w0&&o.add(E),E}};function SC(){return this._results[kl()]()}class Tn{get changes(){return this._changes||(this._changes=new Xo)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=kl(),c=Tn.prototype;c[a]||(c[a]=SC)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const d=function Jr(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function jd(s,o,a){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let d=s[c],p=o[c];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let yc=(()=>{class s{}return s.__NG_ELEMENT_ID__=AC,s})();const Ym=yc,_I=class extends Ym{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(o,a){const c=this._declarationTContainer.tViews,d=fp(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,a||null);d[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(d[19]=_.createEmbeddedView(c)),x_(c,d,o),new wp(d)}};function AC(){return _c(pr(),Te())}function _c(s,o){return 4&s.type?new _I(o,s,Go(s,o)):null}let Qm=(()=>{class s{}return s.__NG_ELEMENT_ID__=vI,s})();function vI(){return Uv(pr(),Te())}const Yh=Qm,Jo=class extends Yh{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return Go(this._hostTNode,this._hostLView)}get injector(){return new li(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ru(this._hostTNode,this._hostLView);if(Fd(o)){const a=No(o,this._hostLView),c=Su(o);return new li(a[1].data[c+8],a)}return new li(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Vv(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,c){let d,p;"number"==typeof c?d=c:null!=c&&(d=c.index,p=c.injector);const _=o.createEmbeddedView(a||{},p);return this.insert(_,d),_}createComponent(o,a,c,d,p){const _=o&&!function Pu(s){return"function"==typeof s}(o);let E;if(_)E=a;else{const P=a||{};E=P.index,c=P.injector,d=P.projectableNodes,p=P.environmentInjector||P.ngModuleRef}const b=_?o:new ec(Kt(o)),T=c||this.parentInjector;if(!p&&null==b.ngModule){const z=(_?T:this.parentInjector).get(Sl,null);z&&(p=z)}const M=b.create(T,d,void 0,p);return this.insert(M.hostView,E),M}insert(o,a){const c=o._lView,d=c[1];if(function yu(s){return Ci(s[3])}(c)){const M=this.indexOf(o);if(-1!==M)this.detach(M);else{const P=c[3],z=new Jo(P,P[6],P[3]);z.detach(z.indexOf(o))}}const p=this._adjustIndex(a),_=this._lContainer;!function Jy(s,o,a,c){const d=10+c,p=a.length;c>0&&(a[d-1][4]=o),c<p-10?(o[4]=a[d],Fu(a,10+c,o)):(a.push(o),o[4]=null),o[3]=a;const _=o[17];null!==_&&a!==_&&function e_(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(_,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=64}(d,c,_,p);const E=Cr(p,_),b=c[11],T=vl(b,_[7]);return null!==T&&function Xy(s,o,a,c,d,p){c[0]=d,c[6]=o,Zu(s,c,a,1,d,p)}(d,_[6],b,c,T,E),o.attachToViewContainerRef(),Fu(Xm(_),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Vv(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=Gu(this._lContainer,a);c&&(Ra(Xm(this._lContainer),a),xg(c[1],c))}detach(o){const a=this._adjustIndex(o,-1),c=Gu(this._lContainer,a);return c&&null!=Ra(Xm(this._lContainer),a)?new wp(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function Vv(s){return s[8]}function Xm(s){return s[8]||(s[8]=[])}function Uv(s,o){let a;const c=o[s.index];if(Ci(c))a=c;else{let d;if(8&s.type)d=kn(c);else{const p=o[11];d=p.createComment("");const _=fr(s,o);Ba(p,vl(p,_),d,function Ng(s,o){return s.nextSibling(o)}(p,_),!1)}o[s.index]=a=qw(c,o,d,s),_p(o,a)}return new Jo(a,s,o)}class vc{constructor(o){this.queryList=o,this.matches=null}clone(){return new vc(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wp{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let p=0;p<c;p++){const _=a.getByIndex(p);d.push(this.queries[_.indexInDeclarationView].clone())}return new Wp(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==TI(o,a).matches&&this.queries[a].setDirty()}}class wI{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class tr{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(o,d);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new tr(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Jt{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Jt(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const p=c[d];this.matchTNodeWithReadOption(o,a,EI(a,p)),this.matchTNodeWithReadOption(o,a,Ta(a,o,p,!1,!1))}else c===yc?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Ta(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===lh||d===Qm||d===yc&&4&a.type)this.addMatch(a.index,-2);else{const p=Ta(a,o,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function EI(s,o){const a=s.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function wc(s,o,a,c){return-1===a?function II(s,o){return 11&s.type?Go(s,o):4&s.type?_c(s,o):null}(o,s):-2===a?function xC(s,o,a){return a===lh?Go(o,s):a===yc?_c(o,s):a===Qm?Uv(o,s):void 0}(s,o,c):xi(s,s[1],a,o)}function Oi(s,o,a,c){const d=o[19].queries[c];if(null===d.matches){const p=s.data,_=a.matches,E=[];for(let b=0;b<_.length;b+=2){const T=_[b];E.push(T<0?null:wc(o,p[T],_[b+1],a.metadata.read))}d.matches=E}return d.matches}function Jm(s,o,a,c){const d=s.queries.getByIndex(a),p=d.matches;if(null!==p){const _=Oi(s,o,d,a);for(let E=0;E<p.length;E+=2){const b=p[E];if(b>0)c.push(_[E/2]);else{const T=p[E+1],M=o[-b];for(let P=10;P<M.length;P++){const z=M[P];z[17]===z[3]&&Jm(z[1],z,T,c)}if(null!==M[9]){const P=M[9];for(let z=0;z<P.length;z++){const J=P[z];Jm(J[1],J,T,c)}}}}}return c}function Qh(s){const o=Te(),a=Yt(),c=Nd();Wc(c+1);const d=TI(a,c);if(s.dirty&&function ma(s){return 4==(4&s[2])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const p=d.crossesNgTemplate?Jm(a,o,c,[]):Oi(a,o,d,c);s.reset(p,vD),s.notifyOnChanges()}return!0}return!1}function fo(s,o,a,c){const d=Yt();if(d.firstCreatePass){const p=pr();(function CI(s,o,a){null===s.queries&&(s.queries=new tr),s.queries.track(new Jt(o,a))})(d,new wI(o,a,c),p.index),function zt(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(d,s),2==(2&a)&&(d.staticContentQueries=!0)}!function DI(s,o,a){const c=new Tn(4==(4&a));qo(s,o,c,c.destroy),null===o[19]&&(o[19]=new Wp),o[19].queries.push(new vc(c))}(d,Te(),a)}function Bv(){return function Zp(s,o){return s[19].queries[o].queryList}(Te(),Nd())}function TI(s,o){return s.queries.getByIndex(o)}function iy(...s){}const jI=new on("Application Initializer");let sy=(()=>{class s{constructor(a){this.appInits=a,this.resolve=iy,this.reject=iy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(Vl(p))a.push(p);else if(Sp(p)){const _=new Promise((E,b)=>{p.subscribe({complete:E,error:b})});a.push(_)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(je(jI,8))},s.\u0275prov=pt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const $I=new on("AppId",{providedIn:"root",factory:function HI(){return`${oy()}${oy()}${oy()}`}});function oy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const GI=new on("Platform Initializer"),zI=new on("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),t0=new on("appBootstrapListener");let Gr=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=pt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const nf=new on("LocaleId",{providedIn:"root",factory:()=>We(nf,ft.Optional|ft.SkipSelf)||function n0(){return typeof $localize<"u"&&$localize.locale||$l}()}),r0=new on("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class WI{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let ay=(()=>{class s{compileModuleSync(a){return new cn(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),p=Wa(dr(a).declarations).reduce((_,E)=>{const b=Kt(E);return b&&_.push(new ec(b)),_},[]);return new WI(c,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=pt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const KI=(()=>Promise.resolve(0))();function uy(s){typeof Zone>"u"?KI.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ms{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xo(!1),this.onMicrotaskEmpty=new Xo(!1),this.onStable=new Xo(!1),this.onError=new Xo(!1),typeof Zone>"u")throw new he(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function VC(){let s=St.requestAnimationFrame,o=St.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function BC(s){const o=()=>{!function sd(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(St,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,ly(s),s.isCheckStableRunning=!0,id(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),ly(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,p,_,E)=>{try{return YI(s),a.invokeTask(d,p,_,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),QI(s)}},onInvoke:(a,c,d,p,_,E,b)=>{try{return YI(s),a.invoke(d,p,_,E,b)}finally{s.shouldCoalesceRunChangeDetection&&o(),QI(s)}},onHasTask:(a,c,d,p)=>{a.hasTask(d,p),c===d&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,ly(s),id(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,d,p)=>(a.handleError(d,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ms.isInAngularZone())throw new he(909,!1)}static assertNotInAngularZone(){if(ms.isInAngularZone())throw new he(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,d){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+d,o,cy,iy,iy);try{return p.runTask(_,a,c)}finally{p.cancelTask(_)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const cy={};function id(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function ly(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function YI(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function QI(s){s._nesting--,id(s)}class jC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xo,this.onMicrotaskEmpty=new Xo,this.onStable=new Xo,this.onError=new Xo}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,d){return o.apply(a,c)}}const af=new on(""),Ic=new on("");let dy,bc=(()=>{class s{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,dy||(function $C(s){dy=s}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ms.assertNotInAngularZone(),uy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())uy(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}}return s.\u0275fac=function(a){return new(a||s)(je(ms),je(o0),je(Ic))},s.\u0275prov=pt({token:s,factory:s.\u0275fac}),s})(),o0=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return dy?.findTestabilityInTree(this,a,c)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=pt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Dc=null;const hy=new on("AllowMultipleToken"),Yp=new on("PlatformDestroyListeners");class fy{constructor(o,a){this.name=o,this.token=a}}function c0(s,o,a=[]){const c=`Platform: ${o}`,d=new on(c);return(p=[])=>{let _=gy();if(!_||_.injector.get(hy,!1)){const E=[...a,...p,{provide:d,useValue:!0}];s?s(E):function HC(s){if(Dc&&!Dc.get(hy,!1))throw new he(400,!1);Dc=s;const o=s.get(l0);(function Qp(s){const o=s.get(GI,null);o&&o.forEach(a=>a())})(s)}(function Jp(s=[],o){return dh.create({name:o,providers:[{provide:f_,useValue:"platform"},{provide:Yp,useValue:new Set([()=>Dc=null])},...s]})}(E,c))}return function Xp(s){const o=gy();if(!o)throw new he(401,!1);return o}()}}function gy(){return Dc?.get(l0)??null}let l0=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function d0(s,o){let a;return a="noop"===s?new jC:("zone.js"===s?void 0:s)||new ms(o),a}(c?.ngZone,function ki(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(c)),p=[{provide:ms,useValue:d}];return d.run(()=>{const _=dh.create({providers:p,parent:this.injector,name:a.moduleType.name}),E=a.create(_),b=E.injector.get(up,null);if(!b)throw new he(402,!1);return d.runOutsideAngular(()=>{const T=d.onError.subscribe({next:M=>{b.handleError(M)}});E.onDestroy(()=>{po(this._modules,E),T.unsubscribe()})}),function eg(s,o,a){try{const c=a();return Vl(c)?c.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(b,d,()=>{const T=E.injector.get(sy);return T.runInitializers(),T.donePromise.then(()=>(function tn(s){Bt(s,"Expected localeId to be defined"),"string"==typeof s&&(Bh=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(nf,$l)||$l),this._moduleDoBootstrap(E),E))})})}bootstrapModule(a,c=[]){const d=tg({},c);return function a0(s,o,a){const c=new cn(a);return Promise.resolve(c)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const c=a.injector.get(ng);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new he(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new he(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(Yp,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(je(dh))},s.\u0275prov=pt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function tg(s,o){return Array.isArray(o)?o.reduce(tg,s):{...s,...o}}let ng=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,c,d){this._zone=a,this._injector=c,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new O.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),_=new O.y(E=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{ms.assertNotInAngularZone(),uy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{ms.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{b.unsubscribe(),T.unsubscribe()}});this.isStable=(0,oe.T)(p,_.pipe((0,ae.B)()))}bootstrap(a,c){const d=a instanceof mw;if(!this._injector.get(sy).done)throw!d&&Rn(a),new he(405,false);let _;_=d?a:this._injector.get(Xu).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const E=function JI(s){return s.isBoundToModule}(_)?void 0:this._injector.get(ho),T=_.create(dh.NULL,[],c||_.selector,E),M=T.location.nativeElement,P=T.injector.get(af,null);return P?.registerApplication(M),T.onDestroy(()=>{this.detachView(T.hostView),po(this.components,T),P?.unregisterApplication(M)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new he(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;po(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(t0,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>po(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new he(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(je(ms),je(Sl),je(up))},s.\u0275prov=pt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function po(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}function ad(){return!1}let tb=(()=>{class s{}return s.__NG_ELEMENT_ID__=zC,s})();function zC(s){return function qC(s,o,a){if(Ti(s)&&!a){const c=rr(s.index,o);return new wp(c,c)}return 47&s.type?new wp(o[16],o):null}(pr(),Te(),16==(16&s))}class m0{constructor(){}supports(o){return Eh(o)}create(o){return new _y(o)}}const KC=(s,o)=>o;class _y{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||KC}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,d=0,p=null;for(;a||c;){const _=!c||a&&a.currentIndex<wy(c,d,p)?a:c,E=wy(_,d,p),b=_.currentIndex;if(_===c)d--,c=c._nextRemoved;else if(a=a._next,null==_.previousIndex)d++;else{p||(p=[]);const T=E-d,M=b-d;if(T!=M){for(let z=0;z<T;z++){const J=z<p.length?p[z]:p[z]=0,me=J+z;M<=me&&me<T&&(p[z]=J+1)}p[_.previousIndex]=M-T}}E!==b&&o(_,E,b)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Eh(o))throw new he(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,p,_,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)p=o[E],_=this._trackByFn(E,p),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,p,_,E)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,_,E),c=!0),a=a._next}else d=0,function hm(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[kl()]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,E=>{_=this._trackByFn(d,E),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,E,_,d)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,_,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,d){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,d)):o=this._addAfter(new YC(a,c),p,d),o}_verifyReinsertion(o,a,c,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?o=this._reinsertAfter(p,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,p=o._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new vy),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vy),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class YC{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ib{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class vy{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new ib,this.map.set(a,c)),c.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wy(s,o,a){const c=s.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+o+d}class cf{constructor(){}supports(o){return o instanceof Map||Ip(o)}create(){return new Ey}}class Ey{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Ip(o)))throw new he(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const p=d._prev,_=d._next;return p&&(p._next=_),_&&(_._prev=p),d._next=null,d._prev=null,d}const c=new y0(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class y0{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Iy(){return new by([new m0])}let by=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||Iy()),deps:[[s,new C,new at]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new he(901,!1)}}return s.\u0275prov=pt({token:s,providedIn:"root",factory:Iy}),s})();function _0(){return new Dy([new cf])}let Dy=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||_0()),deps:[[s,new C,new at]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new he(901,!1)}}return s.\u0275prov=pt({token:s,providedIn:"root",factory:_0}),s})();const sb=c0(null,"core",[]);let JC=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(je(ng))},s.\u0275mod=In({type:s}),s.\u0275inj=ii({}),s})();function lf(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(ut,Ie,k)=>{k.d(Ie,{Z:()=>He});var h=k(2090),X=k(4859),O=k(9681),oe=k(1877);class ae{constructor(he,Ce){this._delegate=he,this.firebase=Ce,(0,O._addComponent)(he,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(he,Ce=O._DEFAULT_ENTRY_NAME){var Ee;this._delegate.checkDestroyed();const Fe=this._delegate.container.getProvider(he);return!Fe.isInitialized()&&"EXPLICIT"===(null===(Ee=Fe.getComponent())||void 0===Ee?void 0:Ee.instantiationMode)&&Fe.initialize(),Fe.getImmediate({identifier:Ce})}_removeServiceInstance(he,Ce=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(Ce)}_addComponent(he){(0,O._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,O._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function le(){const nt=function de(nt){const he={},Ce={__esModule:!0,initializeApp:function Ae(Oe,U={}){const ye=O.initializeApp(Oe,U);if((0,h.r3)(he,ye.name))return he[ye.name];const W=new nt(ye,Ce);return he[ye.name]=W,W},app:Fe,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function xe(Oe){const U=Oe.name,ye=U.replace("-compat","");if(O._registerComponent(Oe)&&"PUBLIC"===Oe.type){const W=(Y=Fe())=>{if("function"!=typeof Y[ye])throw fe.create("invalid-app-argument",{appName:U});return Y[ye]()};void 0!==Oe.serviceProps&&(0,h.ZB)(W,Oe.serviceProps),Ce[ye]=W,nt.prototype[ye]=function(...Y){return this._getService.bind(this,U).apply(this,Oe.multipleInstances?Y:[])}}return"PUBLIC"===Oe.type?Ce[ye]:null},removeApp:function Ee(Oe){delete he[Oe]},useAsService:function Le(Oe,U){return"serverAuth"===U?null:U},modularAPIs:O}};function Fe(Oe){if(!(0,h.r3)(he,Oe=Oe||O._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:Oe});return he[Oe]}return Ce.default=Ce,Object.defineProperty(Ce,"apps",{get:function _e(){return Object.keys(he).map(Oe=>he[Oe])}}),Fe.App=nt,Ce}(ae);return nt.INTERNAL=Object.assign(Object.assign({},nt.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function he(Ce){(0,h.ZB)(nt,Ce)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),nt}(),$=new oe.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const nt=self.firebase.SDK_VERSION;nt&&nt.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const He=j;!function De(nt){(0,O.registerVersion)("@firebase/app-compat","0.2.1",nt)}()},9681:(ut,Ie,k)=>{k.r(Ie),k.d(Ie,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>mo,_DEFAULT_ENTRY_NAME:()=>ln,_addComponent:()=>Qt,_addOrOverwriteComponent:()=>vr,_apps:()=>Bt,_clearComponents:()=>ii,_components:()=>ht,_getProvider:()=>pt,_registerComponent:()=>Mr,_removeServiceInstance:()=>mn,deleteApp:()=>Ws,getApp:()=>wi,getApps:()=>Or,initializeApp:()=>bs,onLog:()=>ft,registerVersion:()=>Wr,setLogLevel:()=>es});var h=k(5861),X=k(4859),O=k(1877),oe=k(2090),ae=k(8766);class ie{constructor(ve){this.container=ve}getPlatformInfoString(){return this.container.getProviders().map(We=>{if(function fe(je){return"VERSION"===je.getComponent()?.type}(We)){const It=We.getImmediate();return`${It.library}/${It.version}`}return null}).filter(We=>We).join(" ")}}const de="@firebase/app",j=new O.Yd("@firebase/app"),ln="[DEFAULT]",Rt={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Bt=new Map,ht=new Map;function Qt(je,ve){try{je.container.addComponent(ve)}catch(We){j.debug(`Component ${ve.name} failed to register with FirebaseApp ${je.name}`,We)}}function vr(je,ve){je.container.addOrOverwriteComponent(ve)}function Mr(je){const ve=je.name;if(ht.has(ve))return j.debug(`There were multiple attempts to register component ${ve}.`),!1;ht.set(ve,je);for(const We of Bt.values())Qt(We,je);return!0}function pt(je,ve){const We=je.container.getProvider("heartbeat").getImmediate({optional:!0});return We&&We.triggerHeartbeat(),je.container.getProvider(ve)}function mn(je,ve,We=ln){pt(je,ve).clearInstance(We)}function ii(){ht.clear()}const Rr=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Nr{constructor(ve,We,It){this._isDeleted=!1,this._options=Object.assign({},ve),this._config=Object.assign({},We),this._name=We.name,this._automaticDataCollectionEnabled=We.automaticDataCollectionEnabled,this._container=It,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ve){this._isDeleted=ve}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}const mo="9.16.0";function bs(je,ve={}){let We=je;"object"!=typeof ve&&(ve={name:ve});const It=Object.assign({name:ln,automaticDataCollectionEnabled:!1},ve),Tt=It.name;if("string"!=typeof Tt||!Tt)throw Rr.create("bad-app-name",{appName:String(Tt)});if(We||(We=(0,oe.aH)()),!We)throw Rr.create("no-options");const kt=Bt.get(Tt);if(kt){if((0,oe.vZ)(We,kt.options)&&(0,oe.vZ)(It,kt.config))return kt;throw Rr.create("duplicate-app",{appName:Tt})}const B=new X.H0(Tt);for(const Z of ht.values())B.addComponent(Z);const L=new Nr(We,It,B);return Bt.set(Tt,L),L}function wi(je=ln){const ve=Bt.get(je);if(!ve&&je===ln)return bs();if(!ve)throw Rr.create("no-app",{appName:je});return ve}function Or(){return Array.from(Bt.values())}function Ws(je){return dn.apply(this,arguments)}function dn(){return(dn=(0,h.Z)(function*(je){const ve=je.name;Bt.has(ve)&&(Bt.delete(ve),yield Promise.all(je.container.getProviders().map(We=>We.delete())),je.isDeleted=!0)})).apply(this,arguments)}function Wr(je,ve,We){var It;let Tt=null!==(It=Rt[je])&&void 0!==It?It:je;We&&(Tt+=`-${We}`);const kt=Tt.match(/\s|\//),B=ve.match(/\s|\//);if(kt||B){const L=[`Unable to register library "${Tt}" with version "${ve}":`];return kt&&L.push(`library name "${Tt}" contains illegal characters (whitespace or "/")`),kt&&B&&L.push("and"),B&&L.push(`version name "${ve}" contains illegal characters (whitespace or "/")`),void j.warn(L.join(" "))}Mr(new X.wA(`${Tt}-version`,()=>({library:Tt,version:ve}),"VERSION"))}function ft(je,ve){if(null!==je&&"function"!=typeof je)throw Rr.create("invalid-log-argument");(0,O.Am)(je,ve)}function es(je){(0,O.Ub)(je)}const kr="firebase-heartbeat-store";let Ds=null;function St(){return Ds||(Ds=(0,ae.X3)("firebase-heartbeat-database",1,{upgrade:(je,ve)=>{0===ve&&je.createObjectStore(kr)}}).catch(je=>{throw Rr.create("idb-open",{originalErrorMessage:je.message})})),Ds}function vt(){return(vt=(0,h.Z)(function*(je){try{return(yield St()).transaction(kr).objectStore(kr).get(wn(je))}catch(ve){if(ve instanceof oe.ZR)j.warn(ve.message);else{const We=Rr.create("idb-get",{originalErrorMessage:ve?.message});j.warn(We.message)}}})).apply(this,arguments)}function ts(je,ve){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,h.Z)(function*(je,ve){try{const It=(yield St()).transaction(kr,"readwrite");return yield It.objectStore(kr).put(ve,wn(je)),It.done}catch(We){if(We instanceof oe.ZR)j.warn(We.message);else{const It=Rr.create("idb-set",{originalErrorMessage:We?.message});j.warn(It.message)}}})).apply(this,arguments)}function wn(je){return`${je.name}!${je.options.appId}`}class ia{constructor(ve){this.container=ve,this._heartbeatsCache=null;const We=this.container.getProvider("app").getImmediate();this._storage=new Zt(We),this._heartbeatsCachePromise=this._storage.read().then(It=>(this._heartbeatsCache=It,It))}triggerHeartbeat(){var ve=this;return(0,h.Z)(function*(){const It=ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Tt=rn();if(null===ve._heartbeatsCache&&(ve._heartbeatsCache=yield ve._heartbeatsCachePromise),ve._heartbeatsCache.lastSentHeartbeatDate!==Tt&&!ve._heartbeatsCache.heartbeats.some(kt=>kt.date===Tt))return ve._heartbeatsCache.heartbeats.push({date:Tt,agent:It}),ve._heartbeatsCache.heartbeats=ve._heartbeatsCache.heartbeats.filter(kt=>{const B=new Date(kt.date).valueOf();return Date.now()-B<=2592e6}),ve._storage.overwrite(ve._heartbeatsCache)})()}getHeartbeatsHeader(){var ve=this;return(0,h.Z)(function*(){if(null===ve._heartbeatsCache&&(yield ve._heartbeatsCachePromise),null===ve._heartbeatsCache||0===ve._heartbeatsCache.heartbeats.length)return"";const We=rn(),{heartbeatsToSend:It,unsentEntries:Tt}=function ns(je,ve=1024){const We=[];let It=je.slice();for(const Tt of je){const kt=We.find(B=>B.agent===Tt.agent);if(kt){if(kt.dates.push(Tt.date),Er(We)>ve){kt.dates.pop();break}}else if(We.push({agent:Tt.agent,dates:[Tt.date]}),Er(We)>ve){We.pop();break}It=It.slice(1)}return{heartbeatsToSend:We,unsentEntries:It}}(ve._heartbeatsCache.heartbeats),kt=(0,oe.L)(JSON.stringify({version:2,heartbeats:It}));return ve._heartbeatsCache.lastSentHeartbeatDate=We,Tt.length>0?(ve._heartbeatsCache.heartbeats=Tt,yield ve._storage.overwrite(ve._heartbeatsCache)):(ve._heartbeatsCache.heartbeats=[],ve._storage.overwrite(ve._heartbeatsCache)),kt})()}}function rn(){return(new Date).toISOString().substring(0,10)}class Zt{constructor(ve){this.app=ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ve=this;return(0,h.Z)(function*(){return(yield ve._canUseIndexedDBPromise)&&(yield function gt(je){return vt.apply(this,arguments)}(ve.app))||{heartbeats:[]}})()}overwrite(ve){var We=this;return(0,h.Z)(function*(){var It;if(yield We._canUseIndexedDBPromise){const kt=yield We.read();return ts(We.app,{lastSentHeartbeatDate:null!==(It=ve.lastSentHeartbeatDate)&&void 0!==It?It:kt.lastSentHeartbeatDate,heartbeats:ve.heartbeats})}})()}add(ve){var We=this;return(0,h.Z)(function*(){var It;if(yield We._canUseIndexedDBPromise){const kt=yield We.read();return ts(We.app,{lastSentHeartbeatDate:null!==(It=ve.lastSentHeartbeatDate)&&void 0!==It?It:kt.lastSentHeartbeatDate,heartbeats:[...kt.heartbeats,...ve.heartbeats]})}})()}}function Er(je){return(0,oe.L)(JSON.stringify({version:2,heartbeats:je})).length}!function Li(je){Mr(new X.wA("platform-logger",ve=>new ie(ve),"PRIVATE")),Mr(new X.wA("heartbeat",ve=>new ia(ve),"PRIVATE")),Wr(de,"0.9.1",je),Wr(de,"0.9.1","esm2017"),Wr("fire-js","")}("")},4859:(ut,Ie,k)=>{k.d(Ie,{H0:()=>de,wA:()=>O});var h=k(5861),X=k(2090);class O{constructor(j,$,K){this.name=j,this.instanceFactory=$,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const oe="[DEFAULT]";class ae{constructor(j,$){this.name=j,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const $=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has($)){const K=new X.BH;if(this.instancesDeferred.set($,K),this.isInitialized($)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:$});Ue&&K.resolve(Ue)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(j){var $;const K=this.normalizeInstanceIdentifier(j?.identifier),Ue=null!==($=j?.optional)&&void 0!==$&&$;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(De){if(Ue)return null;throw De}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function fe(le){return"EAGER"===le.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[$,K]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier($);try{const De=this.getOrInitializeService({instanceIdentifier:Ue});K.resolve(De)}catch{}}}}clearInstance(j=oe){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,h.Z)(function*(){const $=Array.from(j.instances.values());yield Promise.all([...$.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...$.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=oe){return this.instances.has(j)}getOptions(j=oe){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:$={}}=j,K=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:K,options:$});for(const[De,He]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(De)&&He.resolve(Ue);return Ue}onInit(j,$){var K;const Ue=this.normalizeInstanceIdentifier($),De=null!==(K=this.onInitCallbacks.get(Ue))&&void 0!==K?K:new Set;De.add(j),this.onInitCallbacks.set(Ue,De);const He=this.instances.get(Ue);return He&&j(He,Ue),()=>{De.delete(j)}}invokeOnInitCallbacks(j,$){const K=this.onInitCallbacks.get($);if(K)for(const Ue of K)try{Ue(j,$)}catch{}}getOrInitializeService({instanceIdentifier:j,options:$={}}){let K=this.instances.get(j);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(le=j,le===oe?void 0:le),options:$}),this.instances.set(j,K),this.instancesOptions.set(j,$),this.invokeOnInitCallbacks(K,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,K)}catch{}var le;return K||null}normalizeInstanceIdentifier(j=oe){return this.component?this.component.multipleInstances?j:oe:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const $=this.getProvider(j.name);if($.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);$.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const $=new ae(j,this);return this.providers.set(j,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(ut,Ie,k)=>{k.d(Ie,{Am:()=>le,Ub:()=>de,Yd:()=>fe,in:()=>X});const h=[];var X=(()=>{return(j=X||(X={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",X;var j})();const O={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},oe=X.INFO,ae={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},ie=(j,$,...K)=>{if($<j.logLevel)return;const Ue=(new Date).toISOString(),De=ae[$];if(!De)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[De](`[${Ue}]  ${j.name}:`,...K)};class fe{constructor($){this.name=$,this._logLevel=oe,this._logHandler=ie,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in X))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?O[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...$),this._logHandler(this,X.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...$),this._logHandler(this,X.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,X.INFO,...$),this._logHandler(this,X.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,X.WARN,...$),this._logHandler(this,X.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...$),this._logHandler(this,X.ERROR,...$)}}function de(j){h.forEach($=>{$.setLogLevel(j)})}function le(j,$){for(const K of h){let Ue=null;$&&$.level&&(Ue=O[$.level]),K.userLogHandler=null===j?null:(De,He,...nt)=>{const he=nt.map(Ce=>{if(null==Ce)return null;if("string"==typeof Ce)return Ce;if("number"==typeof Ce||"boolean"==typeof Ce)return Ce.toString();if(Ce instanceof Error)return Ce.message;try{return JSON.stringify(Ce)}catch{return null}}).filter(Ce=>Ce).join(" ");He>=(Ue??De.logLevel)&&j({level:X[He].toLowerCase(),message:he,args:nt,type:De.name})}}}},259:(ut,Ie,k)=>{k.d(Ie,{C6:()=>h.getApps,Mq:()=>h.getApp});var h=k(9681);(0,h.registerVersion)("firebase","9.16.0","app")},9260:(ut,Ie,k)=>{k.d(Ie,{Z:()=>h.Z});var h=k(3942);h.Z.registerVersion("firebase","9.16.0","app-compat")},750:(ut,Ie,k)=>{k.r(Ie);var h=k(5861),X=k(3942),O=k(2090),oe=k(9681),ae=k(1877),ie=k(655),fe=k(4859);const He=function Ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},nt=function De(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},he=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ee=new ae.Yd("@firebase/auth");function Fe(y,...f){Ee.logLevel<=ae.in.ERROR&&Ee.error(`Auth (${oe.SDK_VERSION}): ${y}`,...f)}function Ae(y,...f){throw Oe(y,...f)}function _e(y,...f){return Oe(y,...f)}function xe(y,f,g){const w=Object.assign(Object.assign({},nt()),{[f]:g});return new O.LL("auth","Firebase",w).create(f,{appName:y.name})}function Le(y,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Ae(y,"argument-error"),xe(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Oe(y,...f){if("string"!=typeof y){const g=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(g,...w)}return he.create(y,...f)}function U(y,f,...g){if(!y)throw Oe(f,...g)}function ye(y){const f="INTERNAL ASSERTION FAILED: "+y;throw Fe(f),new Error(f)}function W(y,f){y||ye(f)}const Y=new Map;function se(y){W(y instanceof Function,"Expected a class definition");let f=Y.get(y);return f?(W(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,Y.set(y,f),f)}function ke(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ct(){return"http:"===en()||"https:"===en()}function en(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Bt{constructor(f,g){this.shortDelay=f,this.longDelay=g,W(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function ln(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ct()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ht(y,f){W(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class Qt{static initialize(f,g,w){this.fetchImpl=f,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Mr=new Bt(3e4,6e4);function pt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function mn(y,f,g,w){return ii.apply(this,arguments)}function ii(){return(ii=(0,h.Z)(function*(y,f,g,w,A={}){return qr(y,A,(0,h.Z)(function*(){let R={},q={};w&&("GET"===f?q=w:R={body:JSON.stringify(w)});const ce=(0,O.xO)(Object.assign({key:y.config.apiKey},q)).slice(1),Be=yield y._getAdditionalHeaders();return Be["Content-Type"]="application/json",y.languageCode&&(Be["X-Firebase-Locale"]=y.languageCode),Qt.fetch()(bs(y,y.config.apiHost,g,ce),Object.assign({method:f,headers:Be,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function qr(y,f,g){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,h.Z)(function*(y,f,g){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},vr),f);try{const A=new wi(y),R=yield Promise.race([g(),A.promise]);A.clearNetworkTimeout();const q=yield R.json();if("needConfirmation"in q)throw Or(y,"account-exists-with-different-credential",q);if(R.ok&&!("errorMessage"in q))return q;{const ce=R.ok?q.errorMessage:q.error.message,[Be,Ze]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Be)throw Or(y,"credential-already-in-use",q);if("EMAIL_EXISTS"===Be)throw Or(y,"email-already-in-use",q);if("USER_DISABLED"===Be)throw Or(y,"user-disabled",q);const _t=w[Be]||Be.toLowerCase().replace(/[_\s]+/g,"-");if(Ze)throw xe(y,_t,Ze);Ae(y,_t)}}catch(A){if(A instanceof O.ZR)throw A;Ae(y,"network-request-failed")}})).apply(this,arguments)}function Nr(y,f,g,w){return mo.apply(this,arguments)}function mo(){return(mo=(0,h.Z)(function*(y,f,g,w,A={}){const R=yield mn(y,f,g,w,A);return"mfaPendingCredential"in R&&Ae(y,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function bs(y,f,g,w){const A=`${f}${g}?${w}`;return y.config.emulator?ht(y.config,A):`${y.config.apiScheme}://${A}`}class wi{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(_e(this.auth,"network-request-failed")),Mr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Or(y,f,g){const w={appName:y.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const A=_e(y,f,w);return A.customData._tokenResponse=g,A}function dn(){return(dn=(0,h.Z)(function*(y,f){return mn(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Wr(y,f){return ft.apply(this,arguments)}function ft(){return(ft=(0,h.Z)(function*(y,f){return mn(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function es(y,f){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,h.Z)(function*(y,f){return mn(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function vn(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function St(){return(St=(0,h.Z)(function*(y,f=!1){const g=(0,O.m9)(y),w=yield g.getIdToken(f),A=vt(w);U(A&&A.exp&&A.auth_time&&A.iat,g.auth,"internal-error");const R="object"==typeof A.firebase?A.firebase:void 0,q=R?.sign_in_provider;return{claims:A,token:w,authTime:vn(gt(A.auth_time)),issuedAtTime:vn(gt(A.iat)),expirationTime:vn(gt(A.exp)),signInProvider:q||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function gt(y){return 1e3*Number(y)}function vt(y){const[f,g,w]=y.split(".");if(void 0===f||void 0===g||void 0===w)return Fe("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,O.tV)(g);return A?JSON.parse(A):(Fe("Failed to decode base64 JWT payload"),null)}catch(A){return Fe("Caught error parsing JWT payload as JSON",A?.toString()),null}}function Sn(y,f){return wn.apply(this,arguments)}function wn(){return(wn=(0,h.Z)(function*(y,f,g=!1){if(g)return f;try{return yield f}catch(w){throw w instanceof O.ZR&&Ii(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function Ii({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class wr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const A=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,h.Z)(function*(){yield g.iteration()}),w)}iteration(){var f=this;return(0,h.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class ia{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=vn(this.lastLoginAt),this.creationTime=vn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function rn(y){return ns.apply(this,arguments)}function ns(){return(ns=(0,h.Z)(function*(y){var f;const g=y.auth,w=yield y.getIdToken(),A=yield Sn(y,es(g,{idToken:w}));U(A?.users.length,g,"internal-error");const R=A.users[0];y._notifyReloadListener(R);const q=null!==(f=R.providerUserInfo)&&void 0!==f&&f.length?je(R.providerUserInfo):[],ce=Li(y.providerData,q),_t=!!y.isAnonymous&&!(y.email&&R.passwordHash||ce?.length),dt={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:ce,metadata:new ia(R.createdAt,R.lastLoginAt),isAnonymous:_t};Object.assign(y,dt)})).apply(this,arguments)}function Er(){return(Er=(0,h.Z)(function*(y){const f=(0,O.m9)(y);yield rn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Li(y,f){return[...y.filter(w=>!f.some(A=>A.providerId===w.providerId)),...f]}function je(y){return y.map(f=>{var{providerId:g}=f,w=(0,ie._T)(f,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function We(){return(We=(0,h.Z)(function*(y,f){const g=yield qr(y,{},(0,h.Z)(function*(){const w=(0,O.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:A,apiKey:R}=y.config,q=bs(y,A,"/v1/token",`key=${R}`),ce=yield y._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",Qt.fetch()(q,{method:"POST",headers:ce,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class It{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){U(f.idToken,"internal-error"),U(typeof f.idToken<"u","internal-error"),U(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function ts(y){const f=vt(y);return U(f,"internal-error"),U(typeof f.exp<"u","internal-error"),U(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var w=this;return(0,h.Z)(function*(){return U(!w.accessToken||w.refreshToken,f,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var w=this;return(0,h.Z)(function*(){const{accessToken:A,refreshToken:R,expiresIn:q}=yield function ve(y,f){return We.apply(this,arguments)}(f,g);w.updateTokensAndExpiration(A,R,Number(q))})()}updateTokensAndExpiration(f,g,w){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,g){const{refreshToken:w,accessToken:A,expirationTime:R}=g,q=new It;return w&&(U("string"==typeof w,"internal-error",{appName:f}),q.refreshToken=w),A&&(U("string"==typeof A,"internal-error",{appName:f}),q.accessToken=A),R&&(U("number"==typeof R,"internal-error",{appName:f}),q.expirationTime=R),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new It,this.toJSON())}_performRefresh(){return ye("not implemented")}}function Tt(y,f){U("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class kt{constructor(f){var{uid:g,auth:w,stsTokenManager:A}=f,R=(0,ie._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new ia(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,h.Z)(function*(){const w=yield Sn(g,g.stsTokenManager.getToken(g.auth,f));return U(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(f){return function Ds(y){return St.apply(this,arguments)}(this,f)}reload(){return function Zt(y){return Er.apply(this,arguments)}(this)}_assign(f){this!==f&&(U(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new kt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var w=this;return(0,h.Z)(function*(){let A=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),A=!0),g&&(yield rn(w)),yield w.auth._persistUserIfCurrent(w),A&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,h.Z)(function*(){const g=yield f.getIdToken();return yield Sn(f,function Ws(y,f){return dn.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var w,A,R,q,ce,Be,Ze,_t;const dt=null!==(w=g.displayName)&&void 0!==w?w:void 0,Hn=null!==(A=g.email)&&void 0!==A?A:void 0,Ki=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,Yu=null!==(q=g.photoURL)&&void 0!==q?q:void 0,oh=null!==(ce=g.tenantId)&&void 0!==ce?ce:void 0,bl=null!==(Be=g._redirectEventId)&&void 0!==Be?Be:void 0,fi=null!==(Ze=g.createdAt)&&void 0!==Ze?Ze:void 0,Qu=null!==(_t=g.lastLoginAt)&&void 0!==_t?_t:void 0,{uid:ah,emailVerified:Dl,isAnonymous:uh,providerData:np,stsTokenManager:Ug}=g;U(ah&&Ug,f,"internal-error");const i_=It.fromJSON(this.name,Ug);U("string"==typeof ah,f,"internal-error"),Tt(dt,f.name),Tt(Hn,f.name),U("boolean"==typeof Dl,f,"internal-error"),U("boolean"==typeof uh,f,"internal-error"),Tt(Ki,f.name),Tt(Yu,f.name),Tt(oh,f.name),Tt(bl,f.name),Tt(fi,f.name),Tt(Qu,f.name);const Cl=new kt({uid:ah,auth:f,email:Hn,emailVerified:Dl,displayName:dt,isAnonymous:uh,photoURL:Yu,phoneNumber:Ki,tenantId:oh,stsTokenManager:i_,createdAt:fi,lastLoginAt:Qu});return np&&Array.isArray(np)&&(Cl.providerData=np.map(qa=>Object.assign({},qa))),bl&&(Cl._redirectEventId=bl),Cl}static _fromIdTokenResponse(f,g,w=!1){return(0,h.Z)(function*(){const A=new It;A.updateFromServerResponse(g);const R=new kt({uid:g.localId,auth:f,stsTokenManager:A,isAnonymous:w});return yield rn(R),R})()}}const L=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(g,w){var A=this;return(0,h.Z)(function*(){A.storage[g]=w})()}_get(g){var w=this;return(0,h.Z)(function*(){const A=w.storage[g];return void 0===A?null:A})()}_remove(g){var w=this;return(0,h.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return y.type="NONE",y})();function Z(y,f,g){return`firebase:${y}:${f}:${g}`}class ge{constructor(f,g,w){this.persistence=f,this.auth=g,this.userKey=w;const{config:A,name:R}=this.auth;this.fullUserKey=Z(this.userKey,A.apiKey,R),this.fullPersistenceKey=Z("persistence",A.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,h.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?kt._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,h.Z)(function*(){if(g.persistence===f)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,w="authUser"){return(0,h.Z)(function*(){if(!g.length)return new ge(se(L),f,w);const A=(yield Promise.all(g.map(function(){var Ze=(0,h.Z)(function*(_t){if(yield _t._isAvailable())return _t});return function(_t){return Ze.apply(this,arguments)}}()))).filter(Ze=>Ze);let R=A[0]||se(L);const q=Z(w,f.config.apiKey,f.name);let ce=null;for(const Ze of g)try{const _t=yield Ze._get(q);if(_t){const dt=kt._fromJSON(f,_t);Ze!==R&&(ce=dt),R=Ze;break}}catch{}const Be=A.filter(Ze=>Ze._shouldAllowMigration);return R._shouldAllowMigration&&Be.length?(R=Be[0],ce&&(yield R._set(q,ce.toJSON())),yield Promise.all(g.map(function(){var Ze=(0,h.Z)(function*(_t){if(_t!==R)try{yield _t._remove(q)}catch{}});return function(_t){return Ze.apply(this,arguments)}}())),new ge(R,f,w)):new ge(R,f,w)})()}}function ee(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(En(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Je(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(nr(f))return"Blackberry";if($t(f))return"Webos";if(Pt(f))return"Safari";if((f.includes("chrome/")||qt(f))&&!f.includes("edge/"))return"Chrome";if(mt(f))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function Je(y=(0,O.z$)()){return/firefox\//i.test(y)}function Pt(y=(0,O.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function qt(y=(0,O.z$)()){return/crios\//i.test(y)}function En(y=(0,O.z$)()){return/iemobile/i.test(y)}function mt(y=(0,O.z$)()){return/android/i.test(y)}function nr(y=(0,O.z$)()){return/blackberry/i.test(y)}function $t(y=(0,O.z$)()){return/webos/i.test(y)}function Kn(y=(0,O.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function If(y=(0,O.z$)()){return Kn(y)||mt(y)||$t(y)||nr(y)||/windows phone/i.test(y)||En(y)}function lu(y,f=[]){let g;switch(y){case"Browser":g=ee((0,O.z$)());break;case"Worker":g=`${ee((0,O.z$)())}-${y}`;break;default:g=y}const w=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${oe.SDK_VERSION}/${w}`}class Nc{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const w=R=>new Promise((q,ce)=>{try{q(f(R))}catch(Be){ce(Be)}});w.onAbort=g,this.queue.push(w);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,h.Z)(function*(){if(g.auth.currentUser===f)return;const w=[];try{for(const A of g.queue)yield A(f),A.onAbort&&w.push(A.onAbort)}catch(A){w.reverse();for(const R of w)try{R()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:A?.message})}})()}}class md{constructor(f,g,w){this.app=f,this.heartbeatServiceProvider=g,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yd(this),this.idTokenSubscription=new yd(this),this.beforeStateQueue=new Nc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=he,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(f,g){var w=this;return g&&(this._popupRedirectResolver=se(g)),this._initializationPromise=this.queue((0,h.Z)(function*(){var A,R;if(!w._deleted&&(w.persistenceManager=yield ge.create(w,f),!w._deleted)){if(null!==(A=w._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(R=w.currentUser)||void 0===R?void 0:R.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,h.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,h.Z)(function*(){var w;const A=yield g.assertedPersistence.getCurrentUser();let R=A,q=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ce=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,Be=R?._redirectEventId,Ze=yield g.tryRedirectSignIn(f);(!ce||ce===Be)&&Ze?.user&&(R=Ze.user,q=!0)}if(!R)return g.directlySetCurrentUser(null);if(!R._redirectEventId){if(q)try{yield g.beforeStateQueue.runMiddleware(R)}catch(ce){R=A,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ce))}return R?g.reloadAndSetCurrentUserOrClear(R):g.directlySetCurrentUser(null)}return U(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===R._redirectEventId?g.directlySetCurrentUser(R):g.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(f){var g=this;return(0,h.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,h.Z)(function*(){try{yield rn(f)}catch(w){if("auth/network-request-failed"!==w?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Rt(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,h.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,h.Z)(function*(){const w=f?(0,O.m9)(f):null;return w&&U(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(f,g=!1){var w=this;return(0,h.Z)(function*(){if(!w._deleted)return f&&U(w.tenantId===f.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(f)),w.queue((0,h.Z)(function*(){yield w.directlySetCurrentUser(f),w.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,h.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,h.Z)(function*(){yield g.assertedPersistence.setPersistence(se(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new O.LL("auth","Firebase",f())}onAuthStateChanged(f,g,w){return this.registerStateListener(this.authStateSubscription,f,g,w)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,w){return this.registerStateListener(this.idTokenSubscription,f,g,w)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var w=this;return(0,h.Z)(function*(){const A=yield w.getOrInitRedirectPersistenceManager(g);return null===f?A.removeCurrentUser():A.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,h.Z)(function*(){if(!g.redirectPersistenceManager){const w=f&&se(f)||g._popupRedirectResolver;U(w,g,"argument-error"),g.redirectPersistenceManager=yield ge.create(g,[se(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,h.Z)(function*(){var w,A;return g._isInitialized&&(yield g.queue((0,h.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===f?g._currentUser:(null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,h.Z)(function*(){if(f===g.currentUser)return g.queue((0,h.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,w,A){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),q=this._isInitialized?Promise.resolve():this._initializationPromise;return U(q,this,"internal-error"),q.then(()=>R(this.currentUser)),"function"==typeof g?f.addObserver(g,w,A):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,h.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=lu(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,h.Z)(function*(){var g;const w={"X-Client-Version":f.clientVersion};f.app.options.appId&&(w["X-Firebase-gmpid"]=f.app.options.appId);const A=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return A&&(w["X-Firebase-Client"]=A),w})()}}function In(y){return(0,O.m9)(y)}class yd{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,O.ne)(g=>this.observer=g)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function aa(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function Kt(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class Mn{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return ye("not implemented")}_getIdTokenResponse(f){return ye("not implemented")}_linkToIdToken(f,g){return ye("not implemented")}_getReauthenticationResolver(f){return ye("not implemented")}}function Rn(y,f){return dr.apply(this,arguments)}function dr(){return(dr=(0,h.Z)(function*(y,f){return mn(y,"POST","/v1/accounts:resetPassword",pt(y,f))})).apply(this,arguments)}function Vi(y,f){return qe.apply(this,arguments)}function qe(){return(qe=(0,h.Z)(function*(y,f){return mn(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function xt(y,f){return hn.apply(this,arguments)}function hn(){return(hn=(0,h.Z)(function*(y,f){return mn(y,"POST","/v1/accounts:update",pt(y,f))})).apply(this,arguments)}function bi(){return(bi=(0,h.Z)(function*(y,f){return Nr(y,"POST","/v1/accounts:signInWithPassword",pt(y,f))})).apply(this,arguments)}function Nn(y,f){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,h.Z)(function*(y,f){return mn(y,"POST","/v1/accounts:sendOobCode",pt(y,f))})).apply(this,arguments)}function yn(y,f){return _o.apply(this,arguments)}function _o(){return(_o=(0,h.Z)(function*(y,f){return Nn(y,f)})).apply(this,arguments)}function Zs(y,f){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,h.Z)(function*(y,f){return Nn(y,f)})).apply(this,arguments)}function du(y,f){return vo.apply(this,arguments)}function vo(){return(vo=(0,h.Z)(function*(y,f){return Nn(y,f)})).apply(this,arguments)}function bf(y,f){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,h.Z)(function*(y,f){return Nn(y,f)})).apply(this,arguments)}function wo(){return(wo=(0,h.Z)(function*(y,f){return Nr(y,"POST","/v1/accounts:signInWithEmailLink",pt(y,f))})).apply(this,arguments)}function Di(){return(Di=(0,h.Z)(function*(y,f){return Nr(y,"POST","/v1/accounts:signInWithEmailLink",pt(y,f))})).apply(this,arguments)}class Cs extends Mn{constructor(f,g,w,A=null){super("password",w),this._email=f,this._password=g,this._tenantId=A}static _fromEmailAndPassword(f,g){return new Cs(f,g,"password")}static _fromEmailAndCode(f,g,w=null){return new Cs(f,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,h.Z)(function*(){switch(g.signInMethod){case"password":return function Zr(y,f){return bi.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function hr(y,f){return wo.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Ae(f,"internal-error")}})()}_linkToIdToken(f,g){var w=this;return(0,h.Z)(function*(){switch(w.signInMethod){case"password":return Vi(f,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function ca(y,f){return Di.apply(this,arguments)}(f,{idToken:g,email:w._email,oobCode:w._password});default:Ae(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function On(y,f){return sn.apply(this,arguments)}function sn(){return(sn=(0,h.Z)(function*(y,f){return Nr(y,"POST","/v1/accounts:signInWithIdp",pt(y,f))})).apply(this,arguments)}class si extends Mn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new si(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Ae("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:A}=g,R=(0,ie._T)(g,["providerId","signInMethod"]);if(!w||!A)return null;const q=new si(w,A);return q.idToken=R.idToken||void 0,q.accessToken=R.accessToken||void 0,q.secret=R.secret,q.nonce=R.nonce,q.pendingToken=R.pendingToken||null,q}_getIdTokenResponse(f){return On(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,On(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,On(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,O.xO)(g)}return f}}function _d(y,f){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,h.Z)(function*(y,f){return mn(y,"POST","/v1/accounts:sendVerificationCode",pt(y,f))})).apply(this,arguments)}function Pr(){return(Pr=(0,h.Z)(function*(y,f){return Nr(y,"POST","/v1/accounts:signInWithPhoneNumber",pt(y,f))})).apply(this,arguments)}function vd(){return(vd=(0,h.Z)(function*(y,f){const g=yield Nr(y,"POST","/v1/accounts:signInWithPhoneNumber",pt(y,f));if(g.temporaryProof)throw Or(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Kr={USER_NOT_FOUND:"user-not-found"};function la(){return(la=(0,h.Z)(function*(y,f){return Nr(y,"POST","/v1/accounts:signInWithPhoneNumber",pt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Kr)})).apply(this,arguments)}class Ti extends Mn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Ti({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Ti({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function Ys(y,f){return Pr.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function br(y,f){return vd.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Ci(y,f){return la.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:w,verificationCode:A}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:w,code:A}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:w,phoneNumber:A,temporaryProof:R}=f;return w||g||A||R?new Ti({verificationId:g,verificationCode:w,phoneNumber:A,temporaryProof:R}):null}}class da{constructor(f){var g,w,A,R,q,ce;const Be=(0,O.zd)((0,O.pd)(f)),Ze=null!==(g=Be.apiKey)&&void 0!==g?g:null,_t=null!==(w=Be.oobCode)&&void 0!==w?w:null,dt=function kc(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Be.mode)&&void 0!==A?A:null);U(Ze&&_t&&dt,"argument-error"),this.apiKey=Ze,this.operation=dt,this.code=_t,this.continueUrl=null!==(R=Be.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(q=Be.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(ce=Be.tenantId)&&void 0!==ce?ce:null}static parseLink(f){const g=function Yr(y){const f=(0,O.zd)((0,O.pd)(y)).link,g=f?(0,O.zd)((0,O.pd)(f)).deep_link_id:null,w=(0,O.zd)((0,O.pd)(y)).deep_link_id;return(w?(0,O.zd)((0,O.pd)(w)).link:null)||w||g||f||y}(f);try{return new da(g)}catch{return null}}}let Pc=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,w){return Cs._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const A=da.parseLink(w);return U(A,"argument-error"),Cs._fromEmailAndCode(g,A.code,A.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class rs{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Qs extends rs{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class ha extends Qs{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return U("providerId"in g&&"signInMethod"in g,"argument-error"),si._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return U(f.idToken||f.accessToken,"argument-error"),si._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return ha.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return ha.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:A,pendingToken:R,nonce:q,providerId:ce}=f;if(!w&&!A&&!g&&!R||!ce)return null;try{return new ha(ce)._credential({idToken:g,accessToken:w,nonce:q,pendingToken:R})}catch{return null}}}let wd=(()=>{class y extends Qs{constructor(){super("facebook.com")}static credential(g){return si._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Eo=(()=>{class y extends Qs{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return si._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:A}=g;if(!w&&!A)return null;try{return y.credential(w,A)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Fc=(()=>{class y extends Qs{constructor(){super("github.com")}static credential(g){return si._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Lc extends Mn{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return On(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,On(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,On(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:A,pendingToken:R}=g;return w&&A&&R&&w===A?new Lc(w,R):null}static _create(f,g){return new Lc(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Si extends rs{constructor(f){U(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Si.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Si.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=Lc.fromJSON(f);return U(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:w}=f;if(!g||!w)return null;try{return Lc._create(w,g)}catch{return null}}}let Id=(()=>{class y extends Qs{constructor(){super("twitter.com")}static credential(g,w){return si._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:A}=g;if(!w||!A)return null;try{return y.credential(w,A)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Vc(y,f){return bd.apply(this,arguments)}function bd(){return(bd=(0,h.Z)(function*(y,f){return Nr(y,"POST","/v1/accounts:signUp",pt(y,f))})).apply(this,arguments)}class Fr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,w,A=!1){return(0,h.Z)(function*(){const R=yield kt._fromIdTokenResponse(f,w,A),q=Dd(w);return new Fr({user:R,providerId:q,_tokenResponse:w,operationType:g})})()}static _forOperation(f,g,w){return(0,h.Z)(function*(){yield f._updateTokensIfNecessary(w,!0);const A=Dd(w);return new Fr({user:f,providerId:A,_tokenResponse:w,operationType:g})})()}}function Dd(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Cf(){return(Cf=(0,h.Z)(function*(y){var f;const g=In(y);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new Fr({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield Vc(g,{returnSecureToken:!0}),A=yield Fr._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class Cd extends O.ZR{constructor(f,g,w,A){var R;super(g.code,g.message),this.operationType=w,this.user=A,Object.setPrototypeOf(this,Cd.prototype),this.customData={appName:f.name,tenantId:null!==(R=f.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,g,w,A){return new Cd(f,g,w,A)}}function Xs(y,f,g,w){return("reauthenticate"===f?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Cd._fromErrorAndOperation(y,R,f,w):R})}function Ts(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function Js(){return(Js=(0,h.Z)(function*(y,f){const g=(0,O.m9)(y);yield Ss(!0,g,f);const{providerUserInfo:w}=yield Wr(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),A=Ts(w||[]);return g.providerData=g.providerData.filter(R=>A.has(R.providerId)),A.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function fu(y,f){return pu.apply(this,arguments)}function pu(){return(pu=(0,h.Z)(function*(y,f,g=!1){const w=yield Sn(y,f._linkToIdToken(y.auth,yield y.getIdToken()),g);return Fr._forOperation(y,"link",w)})).apply(this,arguments)}function Ss(y,f,g){return pa.apply(this,arguments)}function pa(){return(pa=(0,h.Z)(function*(y,f,g){yield rn(f);const A=!1===y?"provider-already-linked":"no-such-provider";U(Ts(f.providerData).has(g)===y,f.auth,A)})).apply(this,arguments)}function gu(y,f){return Io.apply(this,arguments)}function Io(){return(Io=(0,h.Z)(function*(y,f,g=!1){const{auth:w}=y,A="reauthenticate";try{const R=yield Sn(y,Xs(w,A,f,y),g);U(R.idToken,w,"internal-error");const q=vt(R.idToken);U(q,w,"internal-error");const{sub:ce}=q;return U(y.uid===ce,w,"user-mismatch"),Fr._forOperation(y,A,R)}catch(R){throw"auth/user-not-found"===R?.code&&Ae(w,"user-mismatch"),R}})).apply(this,arguments)}function mu(y,f){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,h.Z)(function*(y,f,g=!1){const w="signIn",A=yield Xs(y,w,f),R=yield Fr._fromIdTokenResponse(y,w,A);return g||(yield y._updateCurrentUser(R.user)),R})).apply(this,arguments)}function An(y,f){return ga.apply(this,arguments)}function ga(){return(ga=(0,h.Z)(function*(y,f){return mu(In(y),f)})).apply(this,arguments)}function kn(y,f){return bo.apply(this,arguments)}function bo(){return(bo=(0,h.Z)(function*(y,f){const g=(0,O.m9)(y);return yield Ss(!1,g,f.providerId),fu(g,f)})).apply(this,arguments)}function eo(y,f){return fr.apply(this,arguments)}function fr(){return(fr=(0,h.Z)(function*(y,f){return gu((0,O.m9)(y),f)})).apply(this,arguments)}function Td(y,f){return Do.apply(this,arguments)}function Do(){return(Do=(0,h.Z)(function*(y,f){return Nr(y,"POST","/v1/accounts:signInWithCustomToken",pt(y,f))})).apply(this,arguments)}function rr(){return(rr=(0,h.Z)(function*(y,f){const g=In(y),w=yield Td(g,{token:f,returnSecureToken:!0}),A=yield Fr._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class ma{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?ya._fromServerResponse(f,g):Ae(f,"internal-error")}}class ya extends ma{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new ya(g)}}function yu(y,f,g){var w;U((null===(w=g.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),U(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(U(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(U(g.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function _a(){return(_a=(0,h.Z)(function*(y,f,g){const w=(0,O.m9)(y),A={requestType:"PASSWORD_RESET",email:f};g&&yu(w,A,g),yield Zs(w,A)})).apply(this,arguments)}function At(){return(At=(0,h.Z)(function*(y,f,g){yield Rn((0,O.m9)(y),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Bc(){return(Bc=(0,h.Z)(function*(y,f){yield xt((0,O.m9)(y),{oobCode:f})})).apply(this,arguments)}function vu(y,f){return jc.apply(this,arguments)}function jc(){return(jc=(0,h.Z)(function*(y,f){const g=(0,O.m9)(y),w=yield Rn(g,{oobCode:f}),A=w.requestType;switch(U(A,g,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":U(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":U(w.mfaInfo,g,"internal-error");default:U(w.email,g,"internal-error")}let R=null;return w.mfaInfo&&(R=ma._fromServerResponse(In(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:R},operation:A}})).apply(this,arguments)}function wu(){return(wu=(0,h.Z)(function*(y,f){const{data:g}=yield vu((0,O.m9)(y),f);return g.email})).apply(this,arguments)}function Ad(){return(Ad=(0,h.Z)(function*(y,f,g){const w=In(y),A=yield Vc(w,{returnSecureToken:!0,email:f,password:g}),R=yield Fr._fromIdTokenResponse(w,"signIn",A);return yield w._updateCurrentUser(R.user),R})).apply(this,arguments)}function $c(){return($c=(0,h.Z)(function*(y,f,g){const w=(0,O.m9)(y),A={requestType:"EMAIL_SIGNIN",email:f};U(g.handleCodeInApp,w,"argument-error"),g&&yu(w,A,g),yield du(w,A)})).apply(this,arguments)}function Co(){return(Co=(0,h.Z)(function*(y,f,g){const w=(0,O.m9)(y),A=Pc.credentialWithLink(f,g||ke());return U(A._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),An(w,A)})).apply(this,arguments)}function Eu(y,f){return oi.apply(this,arguments)}function oi(){return(oi=(0,h.Z)(function*(y,f){return mn(y,"POST","/v1/accounts:createAuthUri",pt(y,f))})).apply(this,arguments)}function To(){return(To=(0,h.Z)(function*(y,f){const w={identifier:f,continueUri:ct()?ke():"http://localhost"},{signinMethods:A}=yield Eu((0,O.m9)(y),w);return A||[]})).apply(this,arguments)}function Md(){return(Md=(0,h.Z)(function*(y,f){const g=(0,O.m9)(y),A={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&yu(g.auth,A,f);const{email:R}=yield yn(g.auth,A);R!==y.email&&(yield y.reload())})).apply(this,arguments)}function bn(){return(bn=(0,h.Z)(function*(y,f,g){const w=(0,O.m9)(y),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};g&&yu(w.auth,R,g);const{email:q}=yield bf(w.auth,R);q!==y.email&&(yield y.reload())})).apply(this,arguments)}function $i(y,f){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,h.Z)(function*(y,f){return mn(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ai(){return(ai=(0,h.Z)(function*(y,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const w=(0,O.m9)(y),R={idToken:yield w.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},q=yield Sn(w,$i(w.auth,R));w.displayName=q.displayName||null,w.photoURL=q.photoUrl||null;const ce=w.providerData.find(({providerId:Be})=>"password"===Be);ce&&(ce.displayName=w.displayName,ce.photoURL=w.photoURL),yield w._updateTokensIfNecessary(q)})).apply(this,arguments)}function qc(y,f,g){return wa.apply(this,arguments)}function wa(){return(wa=(0,h.Z)(function*(y,f,g){const{auth:w}=y,R={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(R.email=f),g&&(R.password=g);const q=yield Sn(y,Vi(w,R));yield y._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class to{constructor(f,g,w={}){this.isNewUser=f,this.providerId=g,this.profile=w}}class Nd extends to{constructor(f,g,w,A){super(f,g,w),this.username=A}}class Wc extends to{constructor(f,g){super(f,"facebook.com",g)}}class Od extends Nd{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Tf extends to{constructor(f,g){super(f,"google.com",g)}}class bu extends Nd{constructor(f,g,w){super(f,"twitter.com",g,w)}}function Sf(y){const{user:f,_tokenResponse:g}=y;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Rd(y){var f,g;if(!y)return null;const{providerId:w}=y,A=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},R=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const q=null===(g=null===(f=vt(y.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(q)return new to(R,"anonymous"!==q&&"custom"!==q?q:null)}if(!w)return null;switch(w){case"facebook.com":return new Wc(R,A);case"github.com":return new Od(R,A);case"google.com":return new Tf(R,A);case"twitter.com":return new bu(R,A,y.screenName||null);case"custom":case"anonymous":return new to(R,null);default:return new to(R,w,A)}}(g)}class Ao{constructor(f,g,w){this.type=f,this.credential=g,this.auth=w}static _fromIdtoken(f,g){return new Ao("enroll",f,g)}static _fromMfaPendingCredential(f){return new Ao("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,w;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Ao._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(w=f.multiFactorSession)&&void 0!==w&&w.idToken)return Ao._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Kc{constructor(f,g,w){this.session=f,this.hints=g,this.signInResolver=w}static _fromError(f,g){const w=In(f),A=g.customData._serverResponse,R=(A.mfaInfo||[]).map(ce=>ma._fromServerResponse(w,ce));U(A.mfaPendingCredential,w,"internal-error");const q=Ao._fromMfaPendingCredential(A.mfaPendingCredential);return new Kc(q,R,function(){var ce=(0,h.Z)(function*(Be){const Ze=yield Be._process(w,q);delete A.mfaInfo,delete A.mfaPendingCredential;const _t=Object.assign(Object.assign({},A),{idToken:Ze.idToken,refreshToken:Ze.refreshToken});switch(g.operationType){case"signIn":const dt=yield Fr._fromIdTokenResponse(w,g.operationType,_t);return yield w._updateCurrentUser(dt.user),dt;case"reauthenticate":return U(g.user,w,"internal-error"),Fr._forOperation(g.user,g.operationType,_t);default:Ae(w,"internal-error")}});return function(Be){return ce.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,h.Z)(function*(){return g.signInResolver(f)})()}}function Af(y,f){return mn(y,"POST","/v2/accounts/mfaEnrollment:start",pt(y,f))}class xs{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>ma._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new xs(f)}getSession(){var f=this;return(0,h.Z)(function*(){return Ao._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var w=this;return(0,h.Z)(function*(){const A=f,R=yield w.getSession(),q=yield Sn(w.user,A._process(w.user.auth,R,g));return yield w.user._updateTokensIfNecessary(q),w.user.reload()})()}unenroll(f){var g=this;return(0,h.Z)(function*(){const w="string"==typeof f?f:f.uid,A=yield g.user.getIdToken(),R=yield Sn(g.user,function xf(y,f){return mn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",pt(y,f))}(g.user.auth,{idToken:A,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:q})=>q!==w),yield g.user._updateTokensIfNecessary(R);try{yield g.user.reload()}catch(q){if("auth/user-token-expired"!==q?.code)throw q}})()}}const ui=new WeakMap,Ai="__sak";class Yc{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Ai,"1"),this.storage.removeItem(Ai),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qc=(()=>{class y extends Yc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function kd(){const y=(0,O.z$)();return Pt(y)||Kn(y)}()&&function oa(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=If(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const A=this.storage.getItem(w),R=this.localCache[w];A!==R&&g(w,R,A)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((ce,Be,Ze)=>{this.notifyListeners(ce,Ze)});const A=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(A);if(g.newValue!==ce)null!==g.newValue?this.storage.setItem(A,g.newValue):this.storage.removeItem(A);else if(this.localCache[A]===g.newValue&&!w)return}const R=()=>{const ce=this.storage.getItem(A);!w&&this.localCache[A]===ce||this.notifyListeners(A,ce)},q=this.storage.getItem(A);!function sa(){return(0,O.w1)()&&10===document.documentMode}()||q===g.newValue||g.newValue===g.oldValue?R():setTimeout(R,10)}notifyListeners(g,w){this.localCache[g]=w;const A=this.listeners[g];if(A)for(const R of Array.from(A))R(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var A=()=>super._set,R=this;return(0,h.Z)(function*(){yield A().call(R,g,w),R.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,A=this;return(0,h.Z)(function*(){const R=yield w().call(A,g);return A.localCache[g]=JSON.stringify(R),R})()}_remove(g){var w=()=>super._remove,A=this;return(0,h.Z)(function*(){yield w().call(A,g),delete A.localCache[g]})()}}return y.type="LOCAL",y})(),Hi=(()=>{class y extends Yc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return y.type="SESSION",y})();let Pd=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(R=>R.isListeningto(g));if(w)return w;const A=new y(g);return this.receivers.push(A),A}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,h.Z)(function*(){const A=g,{eventId:R,eventType:q,data:ce}=A.data,Be=w.handlersMap[q];if(!Be?.size)return;A.ports[0].postMessage({status:"ack",eventId:R,eventType:q});const Ze=Array.from(Be).map(function(){var dt=(0,h.Z)(function*(Hn){return Hn(A.origin,ce)});return function(Hn){return dt.apply(this,arguments)}}()),_t=yield function Xc(y){return Promise.all(y.map(function(){var f=(0,h.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return f.apply(this,arguments)}}()))}(Ze);A.ports[0].postMessage({status:"done",eventId:R,eventType:q,response:_t})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ms(y="",f=10){let g="";for(let w=0;w<f;w++)g+=Math.floor(10*Math.random());return y+g}class Jc{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,w=50){var A=this;return(0,h.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let q,ce;return new Promise((Be,Ze)=>{const _t=Ms("",20);R.port1.start();const dt=setTimeout(()=>{Ze(new Error("unsupported_event"))},w);ce={messageChannel:R,onMessage(Hn){const Ki=Hn;if(Ki.data.eventId===_t)switch(Ki.data.status){case"ack":clearTimeout(dt),q=setTimeout(()=>{Ze(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Be(Ki.data.response);break;default:clearTimeout(dt),clearTimeout(q),Ze(new Error("invalid_response"))}}},A.handlers.add(ce),R.port1.addEventListener("message",ce.onMessage),A.target.postMessage({eventType:f,eventId:_t,data:g},[R.port2])}).finally(()=>{ce&&A.removeMessageHandler(ce)})})()}}function _n(){return window}function Ro(){return typeof _n().WorkerGlobalScope<"u"&&"function"==typeof _n().importScripts}function Tu(){return(Tu=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Au="firebaseLocalStorageDb",ss="firebaseLocalStorage",no="fbase_key";class Ns{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Da(y,f){return y.transaction([ss],f?"readwrite":"readonly").objectStore(ss)}function xu(){const y=indexedDB.open(Au,1);return new Promise((f,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(ss,{keyPath:no})}catch(A){g(A)}}),y.addEventListener("success",(0,h.Z)(function*(){const w=y.result;w.objectStoreNames.contains(ss)?f(w):(w.close(),yield function Ca(){const y=indexedDB.deleteDatabase(Au);return new Ns(y).toPromise()}(),f(yield xu()))}))})}function Xr(y,f,g){return el.apply(this,arguments)}function el(){return(el=(0,h.Z)(function*(y,f,g){const w=Da(y,!0).put({[no]:f,value:g});return new Ns(w).toPromise()})).apply(this,arguments)}function Os(){return(Os=(0,h.Z)(function*(y,f){const g=Da(y,!1).get(f),w=yield new Ns(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Mu(y,f){const g=Da(y,!0).delete(f);return new Ns(g).toPromise()}const ko=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,h.Z)(function*(){return g.db||(g.db=yield xu()),g.db})()}_withRetries(g){var w=this;return(0,h.Z)(function*(){let A=0;for(;;)try{const R=yield w._openDb();return yield g(R)}catch(R){if(A++>3)throw R;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,h.Z)(function*(){return Ro()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,h.Z)(function*(){g.receiver=Pd._getInstance(function Su(){return Ro()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,h.Z)(function*(A,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(A,R){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,h.Z)(function*(A,R){return["keyChanged"]});return function(A,R){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,h.Z)(function*(){var w,A;if(g.activeServiceWorker=yield function Rs(){return Tu.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Jc(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);R&&null!==(w=R[0])&&void 0!==w&&w.fulfilled&&null!==(A=R[0])&&void 0!==A&&A.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,h.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Fd(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const g=yield xu();return yield Xr(g,Ai,"1"),yield Mu(g,Ai),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,h.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var A=this;return(0,h.Z)(function*(){return A._withPendingWrite((0,h.Z)(function*(){return yield A._withRetries(R=>Xr(R,g,w)),A.localCache[g]=w,A.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,h.Z)(function*(){const A=yield w._withRetries(R=>function Oo(y,f){return Os.apply(this,arguments)}(R,g));return w.localCache[g]=A,A})()}_remove(g){var w=this;return(0,h.Z)(function*(){return w._withPendingWrite((0,h.Z)(function*(){return yield w._withRetries(A=>Mu(A,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,h.Z)(function*(){const w=yield g._withRetries(q=>{const ce=Da(q,!1).getAll();return new Ns(ce).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const A=[],R=new Set;for(const{fbase_key:q,value:ce}of w)R.add(q),JSON.stringify(g.localCache[q])!==JSON.stringify(ce)&&(g.notifyListeners(q,ce),A.push(q));for(const q of Object.keys(g.localCache))g.localCache[q]&&!R.has(q)&&(g.notifyListeners(q,null),A.push(q));return A})()}notifyListeners(g,w){this.localCache[g]=w;const A=this.listeners[g];if(A)for(const R of Array.from(A))R(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function nl(y,f){return mn(y,"POST","/v2/accounts/mfaSignIn:start",pt(y,f))}function Ou(){return(Ou=(0,h.Z)(function*(y){return(yield mn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function xi(y){return new Promise((f,g)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=f,w.onerror=A=>{const R=_e("internal-error");R.customData=A,g(R)},w.type="text/javascript",w.charset="UTF-8",function Ta(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(w)})}function ku(y){return`__${y}${Math.floor(1e6*Math.random())}`}const li=1e12;class Mf{constructor(f){this.auth=f,this.counter=li,this._widgets=new Map}render(f,g){const w=this.counter;return this._widgets.set(w,new Ld(f,this.auth.name,g||{})),this.counter++,w}reset(f){var g;const w=f||li;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(f){var g;return(null===(g=this._widgets.get(f||li))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,h.Z)(function*(){var w;return null===(w=g._widgets.get(f||li))||void 0===w||w.execute(),""})()}}class Ld{constructor(f,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof f?document.getElementById(f):f;U(A,"argument-error",{appName:g}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Vd(y){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ud=ku("rcb"),Rf=new Bt(3e4,6e4);class Gi{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=_n().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return U(function Sa(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(_n().grecaptcha):new Promise((w,A)=>{const R=_n().setTimeout(()=>{A(_e(f,"network-request-failed"))},Rf.get());_n()[Ud]=()=>{_n().clearTimeout(R),delete _n()[Ud];const ce=_n().grecaptcha;if(!ce)return void A(_e(f,"internal-error"));const Be=ce.render;ce.render=(Ze,_t)=>{const dt=Be(Ze,_t);return this.counter++,dt},this.hostLanguage=g,w(ce)},xi(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:Ud,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),A(_e(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=_n().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Aa{load(f){return(0,h.Z)(function*(){return new Mf(f)})()}clearedOneInstance(){}}const Nf="recaptcha",Of={theme:"light",type:"image"};class Po{constructor(f,g=Object.assign({},Of),w){this.parameters=g,this.type=Nf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=In(w),this.isInvisible="invisible"===this.parameters.size,U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof f?document.getElementById(f):f;U(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Aa:new Gi,this.validateStartingState()}verify(){var f=this;return(0,h.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(g)||new Promise(R=>{const q=ce=>{ce&&(f.tokenChangeListeners.delete(q),R(ce))};f.tokenChangeListeners.add(q),f.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof f)f(g);else if("string"==typeof f){const w=_n()[f];"function"==typeof w&&w(g)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,h.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,h.Z)(function*(){U(ct()&&!Ro(),f.auth,"internal-error"),yield function ro(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function os(y){return Ou.apply(this,arguments)}(f.auth);U(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Bd{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Ti._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function xa(){return(xa=(0,h.Z)(function*(y,f,g){const w=In(y),A=yield ol(w,f,(0,O.m9)(g));return new Bd(A,R=>An(w,R))})).apply(this,arguments)}function Pf(){return(Pf=(0,h.Z)(function*(y,f,g){const w=(0,O.m9)(y);yield Ss(!1,w,"phone");const A=yield ol(w.auth,f,(0,O.m9)(g));return new Bd(A,R=>kn(w,R))})).apply(this,arguments)}function Ff(){return(Ff=(0,h.Z)(function*(y,f,g){const w=(0,O.m9)(y),A=yield ol(w.auth,f,(0,O.m9)(g));return new Bd(A,R=>eo(w,R))})).apply(this,arguments)}function ol(y,f,g){return Lf.apply(this,arguments)}function Lf(){return(Lf=(0,h.Z)(function*(y,f,g){var w;const A=yield g.verify();try{let R;if(U("string"==typeof A,y,"argument-error"),U(g.type===Nf,y,"argument-error"),R="string"==typeof f?{phoneNumber:f}:f,"session"in R){const q=R.session;if("phoneNumber"in R)return U("enroll"===q.type,y,"internal-error"),(yield Af(y,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{U("signin"===q.type,y,"internal-error");const ce=(null===(w=R.multiFactorHint)||void 0===w?void 0:w.uid)||R.multiFactorUid;return U(ce,y,"missing-multi-factor-info"),(yield nl(y,{mfaPendingCredential:q.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield _d(y,{phoneNumber:R.phoneNumber,recaptchaToken:A});return q}}finally{g._reset()}})).apply(this,arguments)}function Vf(){return(Vf=(0,h.Z)(function*(y,f){yield fu((0,O.m9)(y),f)})).apply(this,arguments)}let ul=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=In(g)}verifyPhoneNumber(g,w){return ol(this.auth,g,(0,O.m9)(w))}static credential(g,w){return Ti._fromVerification(g,w)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:A}=g;return w&&A?Ti._fromTokenResponse(w,A):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function fn(y,f){return f?se(f):(U(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ma extends Mn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return On(f,this._buildIdpRequest())}_linkToIdToken(f,g){return On(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return On(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Pu(y){return mu(y.auth,new Ma(y),y.bypassAuthState)}function jd(y){const{auth:f,user:g}=y;return U(g,f,"internal-error"),gu(g,new Ma(y),y.bypassAuthState)}function Jr(y){return zi.apply(this,arguments)}function zi(){return(zi=(0,h.Z)(function*(y){const{auth:f,user:g}=y;return U(g,f,"internal-error"),fu(g,new Ma(y),y.bypassAuthState)})).apply(this,arguments)}class Fu{constructor(f,g,w,A,R=!1){this.auth=f,this.resolver=w,this.user=A,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,h.Z)(function*(w,A){f.pendingPromise={resolve:w,reject:A};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(R){f.reject(R)}});return function(w,A){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,h.Z)(function*(){const{urlResponse:w,sessionId:A,postBody:R,tenantId:q,error:ce,type:Be}=f;if(ce)return void g.reject(ce);const Ze={auth:g.auth,requestUri:w,sessionId:A,tenantId:q||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Be)(Ze))}catch(_t){g.reject(_t)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Pu;case"linkViaPopup":case"linkViaRedirect":return Jr;case"reauthViaPopup":case"reauthViaRedirect":return jd;default:Ae(this.auth,"internal-error")}}resolve(f){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ra=new Bt(2e3,1e4);function Lu(){return(Lu=(0,h.Z)(function*(y,f,g){const w=In(y);Le(y,f,rs);const A=fn(w,g);return new Ye(w,"signInViaPopup",f,A).executeNotNull()})).apply(this,arguments)}function Uf(){return(Uf=(0,h.Z)(function*(y,f,g){const w=(0,O.m9)(y);Le(w.auth,f,rs);const A=fn(w.auth,g);return new Ye(w.auth,"reauthViaPopup",f,A,w).executeNotNull()})).apply(this,arguments)}function Fn(){return(Fn=(0,h.Z)(function*(y,f,g){const w=(0,O.m9)(y);Le(w.auth,f,rs);const A=fn(w.auth,g);return new Ye(w.auth,"linkViaPopup",f,A,w).executeNotNull()})).apply(this,arguments)}let Ye=(()=>{class y extends Fu{constructor(g,w,A,R,q){super(g,w,R,q),this.provider=A,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,h.Z)(function*(){const w=yield g.execute();return U(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,h.Z)(function*(){W(1===g.filter.length,"Popup operations only handle one event");const w=Ms();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(A=>{g.reject(A)}),g.resolver._isIframeWebStorageSupported(g.auth,A=>{A||g.reject(_e(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,A;this.pollId=null!==(A=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Ra.get())};g()}}return y.currentPopupAction=null,y})();const ir=new Map;class $d extends Fu{constructor(f,g,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,h.Z)(function*(){let w=ir.get(g.auth._key());if(!w){try{const R=(yield function Vu(y,f){return Bn.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;w=()=>Promise.resolve(R)}catch(A){w=()=>Promise.reject(A)}ir.set(g.auth._key(),w)}return g.bypassAuthState||ir.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,w=this;return(0,h.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(w,f);if("unknown"!==f.type){if(f.eventId){const A=yield w.auth._redirectUserForId(f.eventId);if(A)return w.user=A,g().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function Bn(){return(Bn=(0,h.Z)(function*(y,f){const g=Na(f),w=Lo(y);if(!(yield w._isAvailable()))return!1;const A="true"===(yield w._get(g));return yield w._remove(g),A})).apply(this,arguments)}function cl(y,f){return as.apply(this,arguments)}function as(){return(as=(0,h.Z)(function*(y,f){return Lo(y)._set(Na(f),"true")})).apply(this,arguments)}function Hd(y,f){ir.set(y._key(),f)}function Lo(y){return se(y._redirectPersistence)}function Na(y){return Z("pendingRedirect",y.config.apiKey,y.name)}function D(){return(D=(0,h.Z)(function*(y,f,g){const w=In(y);Le(y,f,rs),yield w._initializationPromise;const A=fn(w,g);return yield cl(A,w),A._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function F(){return(F=(0,h.Z)(function*(y,f,g){const w=(0,O.m9)(y);Le(w.auth,f,rs),yield w.auth._initializationPromise;const A=fn(w.auth,g);yield cl(A,w.auth);const R=yield bt(w);return A._openRedirect(w.auth,f,"reauthViaRedirect",R)})).apply(this,arguments)}function Se(){return(Se=(0,h.Z)(function*(y,f,g){const w=(0,O.m9)(y);Le(w.auth,f,rs),yield w.auth._initializationPromise;const A=fn(w.auth,g);yield Ss(!1,w,f.providerId),yield cl(A,w.auth);const R=yield bt(w);return A._openRedirect(w.auth,f,"linkViaRedirect",R)})).apply(this,arguments)}function rt(){return(rt=(0,h.Z)(function*(y,f){return yield In(y)._initializationPromise,Xe(y,f,!1)})).apply(this,arguments)}function Xe(y,f){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,h.Z)(function*(y,f,g=!1){const w=In(y),A=fn(w,f),q=yield new $d(w,A,g).execute();return q&&!g&&(delete q.user._redirectEventId,yield w._persistUserIfCurrent(q.user),yield w._setRedirectUser(null,f)),q})).apply(this,arguments)}function bt(y){return mr.apply(this,arguments)}function mr(){return(mr=(0,h.Z)(function*(y){const f=Ms(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class Oa{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(g=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Xn(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qi(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var w;if(f.error&&!qi(f)){const A=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(_e(this.auth,A))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const w=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ka(f))}saveEventToCache(f){this.cachedEventUids.add(ka(f)),this.lastProcessedEventTime=Date.now()}}function ka(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function qi({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function Wi(y){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,h.Z)(function*(y,f={}){return mn(y,"GET","/v1/projects",f)})).apply(this,arguments)}const Gd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ig=/^https?/;function Uu(){return(Uu=(0,h.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Wi(y);for(const g of f)try{if(ll(g))return}catch{}Ae(y,"unauthorized-domain")})).apply(this,arguments)}function ll(y){const f=ke(),{protocol:g,hostname:w}=new URL(f);if(y.startsWith("chrome-extension://")){const q=new URL(y);return""===q.hostname&&""===w?"chrome-extension:"===g&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&q.hostname===w}if(!Ig.test(g))return!1;if(Gd.test(y))return w===y;const A=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(w)}const us=new Bt(3e4,6e4);function Vr(){const y=_n().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Pa=null;function nw(y){return Pa=Pa||function zd(y){return new Promise((f,g)=>{var w,A,R;function q(){Vr(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Vr(),g(_e(y,"network-request-failed"))},timeout:us.get()})}if(null!==(A=null===(w=_n().gapi)||void 0===w?void 0:w.iframes)&&void 0!==A&&A.Iframe)f(gapi.iframes.getContext());else{if(null===(R=_n().gapi)||void 0===R||!R.load){const ce=ku("iframefcb");return _n()[ce]=()=>{gapi.load?q():g(_e(y,"network-request-failed"))},xi(`https://apis.google.com/js/api.js?onload=${ce}`).catch(Be=>g(Be))}q()}}).catch(f=>{throw Pa=null,f})}(y),Pa}const Vo=new Bt(5e3,15e3),Fa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qd(y){const f=y.config;U(f.authDomain,y,"auth-domain-config-required");const g=f.emulator?ht(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:f.apiKey,appName:y.name,v:oe.SDK_VERSION},A=rw.get(y.config.apiHost);A&&(w.eid=A);const R=y._getFrameworks();return R.length&&(w.fw=R.join(",")),`${g}?${(0,O.xO)(w).slice(1)}`}function Wd(){return Wd=(0,h.Z)(function*(y){const f=yield nw(y),g=_n().gapi;return U(g,y,"internal-error"),f.open({where:document.body,url:qd(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fa,dontclear:!0},w=>new Promise(function(){var A=(0,h.Z)(function*(R,q){yield w.restyle({setHideOnLeave:!1});const ce=_e(y,"network-request-failed"),Be=_n().setTimeout(()=>{q(ce)},Vo.get());function Ze(){_n().clearTimeout(Be),R(w)}w.ping(Ze).then(Ze,()=>{q(ce)})});return function(R,q){return A.apply(this,arguments)}}()))}),Wd.apply(this,arguments)}const Dg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class cs{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $u(y,f,g,w,A,R){U(y.config.authDomain,y,"auth-domain-config-required"),U(y.config.apiKey,y,"invalid-api-key");const q={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:w,v:oe.SDK_VERSION,eventId:A};if(f instanceof rs){f.setDefaultLanguage(y.languageCode),q.providerId=f.providerId||"",(0,O.xb)(f.getCustomParameters())||(q.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Be,Ze]of Object.entries(R||{}))q[Be]=Ze}if(f instanceof Qs){const Be=f.getScopes().filter(Ze=>""!==Ze);Be.length>0&&(q.scopes=Be.join(","))}y.tenantId&&(q.tid=y.tenantId);const ce=q;for(const Be of Object.keys(ce))void 0===ce[Be]&&delete ce[Be];return`${function Cg({config:y}){return y.emulator?ht(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,O.xO)(ce).slice(1)}`}const Kd="webStorageSupport",sr=class iw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hi,this._completeRedirectFn=Xe,this._overrideRedirectResult=Hd}_openPopup(f,g,w,A){var R=this;return(0,h.Z)(function*(){var q;W(null===(q=R.eventManagers[f._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const ce=$u(f,g,w,ke(),A);return function ju(y,f,g,w=500,A=600){const R=Math.max((window.screen.availHeight-A)/2,0).toString(),q=Math.max((window.screen.availWidth-w)/2,0).toString();let ce="";const Be=Object.assign(Object.assign({},Dg),{width:w.toString(),height:A.toString(),top:R,left:q}),Ze=(0,O.z$)().toLowerCase();g&&(ce=qt(Ze)?"_blank":g),Je(Ze)&&(f=f||"http://localhost",Be.scrollbars="yes");const _t=Object.entries(Be).reduce((Hn,[Ki,Yu])=>`${Hn}${Ki}=${Yu},`,"");if(function Ir(y=(0,O.z$)()){var f;return Kn(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Ze)&&"_self"!==ce)return function Ky(y,f){const g=document.createElement("a");g.href=y,g.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(f||"",ce),new cs(null);const dt=window.open(f||"",ce,_t);U(dt,y,"popup-blocked");try{dt.focus()}catch{}return new cs(dt)}(f,ce,Ms())})()}_openRedirect(f,g,w,A){var R=this;return(0,h.Z)(function*(){return yield R._originValidation(f),function Mo(y){_n().location.href=y}($u(f,g,w,ke(),A)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:A,promise:R}=this.eventManagers[g];return A?Promise.resolve(A):(W(R,"If manager is not set, promise should be"),R)}const w=this.initAndGetManager(f);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(f){var g=this;return(0,h.Z)(function*(){const w=yield function bg(y){return Wd.apply(this,arguments)}(f),A=new Oa(f);return w.register("authEvent",R=>(U(R?.authEvent,f,"invalid-auth-event"),{status:A.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:A},g.iframes[f._key()]=w,A})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Kd,{type:Kd},A=>{var R;const q=null===(R=A?.[0])||void 0===R?void 0:R[Kd];void 0!==q&&g(!!q),Ae(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function $n(y){return Uu.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return If()||Pt()||Kn()}};class Uo{constructor(f){this.factorId=f}_process(f,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,w);case"signin":return this._finalizeSignIn(f,g.credential);default:return ye("unexpected MultiFactorSessionType")}}}class Hu extends Uo{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Hu(f)}_finalizeEnroll(f,g,w){return function Eg(y,f){return mn(y,"POST","/v2/accounts/mfaEnrollment:finalize",pt(y,f))}(f,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function rl(y,f){return mn(y,"POST","/v2/accounts/mfaSignIn:finalize",pt(y,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let di=(()=>{class y{constructor(){}static assertion(g){return Hu._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var dl="@firebase/auth";class $f{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,h.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(w=>{f(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Zi(){return window}function zf(){return(zf=(0,h.Z)(function*(y,f,g){var w;const{BuildInfo:A}=Zi();W(f.sessionId,"AuthEvent did not contain a session ID");const R=yield Xd(f.sessionId),q={};return Kn()?q.ibi=A.packageName:mt()?q.apn=A.packageName:Ae(y,"operation-not-supported-in-this-environment"),A.displayName&&(q.appDisplayName=A.displayName),q.sessionId=R,$u(y,g,f.type,void 0,null!==(w=f.eventId)&&void 0!==w?w:void 0,q)})).apply(this,arguments)}function La(){return(La=(0,h.Z)(function*(y){const{BuildInfo:f}=Zi(),g={};Kn()?g.iosBundleId=f.packageName:mt()?g.androidPackageName=f.packageName:Ae(y,"operation-not-supported-in-this-environment"),yield Wi(y,g)})).apply(this,arguments)}function ds(){return(ds=(0,h.Z)(function*(y,f,g){const{cordova:w}=Zi();let A=()=>{};try{yield new Promise((R,q)=>{let ce=null;function Be(){var dt;R();const Hn=null===(dt=w.plugins.browsertab)||void 0===dt?void 0:dt.close;"function"==typeof Hn&&Hn(),"function"==typeof g?.close&&g.close()}function Ze(){ce||(ce=window.setTimeout(()=>{q(_e(y,"redirect-cancelled-by-user"))},2e3))}function _t(){"visible"===document?.visibilityState&&Ze()}f.addPassiveListener(Be),document.addEventListener("resume",Ze,!1),mt()&&document.addEventListener("visibilitychange",_t,!1),A=()=>{f.removePassiveListener(Be),document.removeEventListener("resume",Ze,!1),document.removeEventListener("visibilitychange",_t,!1),ce&&window.clearTimeout(ce)}})}finally{A()}})).apply(this,arguments)}function Xd(y){return gl.apply(this,arguments)}function gl(){return(gl=(0,h.Z)(function*(y){const f=ml(y),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ml(y){if(W(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),g=new Uint8Array(f);for(let w=0;w<y.length;w++)g[w]=y.charCodeAt(w);return g}(0,O.Pz)("authIdTokenMaxAge"),function hl(y){(0,oe._registerComponent)(new fe.wA("auth",(f,{options:g})=>{const w=f.getProvider("app").getImmediate(),A=f.getProvider("heartbeat"),{apiKey:R,authDomain:q}=w.options;return((ce,Be)=>{U(R&&!R.includes(":"),"invalid-api-key",{appName:ce.name}),U(!q?.includes(":"),"argument-error",{appName:ce.name});const Ze={apiKey:R,authDomain:q,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lu(y)},_t=new md(ce,Be,Ze);return function Ve(y,f){const g=f?.persistence||[],w=(Array.isArray(g)?g:[g]).map(se);f?.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(w,f?.popupRedirectResolver)}(_t,g),_t})(w,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,w)=>{f.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new fe.wA("auth-internal",f=>{const g=In(f.getProvider("auth").getImmediate());return new $f(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(dl,"0.21.1",function Dr(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,oe.registerVersion)(dl,"0.21.1","esm2017")}("Browser");class Va extends Oa{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,h.Z)(function*(){yield f.initPromise})()}}function Ag(y){return _l.apply(this,arguments)}function _l(){return(_l=(0,h.Z)(function*(y){const f=yield Wf()._get(Zf(y));return f&&(yield Wf()._remove(Zf(y))),f})).apply(this,arguments)}function Xy(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const w=Math.floor(Math.random()*f.length);y.push(f.charAt(w))}return y.join("")}function Wf(){return se(Qc)}function Zf(y){return Z("authEvent",y.config.apiKey,y.name)}function Ua(y){if(!y?.includes("?"))return{};const[f,...g]=y.split("?");return(0,O.zd)(g.join("?"))}const so=class xg{constructor(){this._redirectPersistence=Hi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Xe,this._overrideRedirectResult=Hd}_initialize(f){var g=this;return(0,h.Z)(function*(){const w=f._key();let A=g.eventManagers.get(w);return A||(A=new Va(f),g.eventManagers.set(w,A),g.attachCallbackListeners(f,A)),A})()}_openPopup(f){Ae(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,w,A){var R=this;return(0,h.Z)(function*(){!function Tg(y){var f,g,w,A,R,q,ce,Be,Ze,_t;const dt=Zi();U("function"==typeof(null===(f=dt?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),U(typeof(null===(g=dt?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),U("function"==typeof(null===(R=null===(A=null===(w=dt?.cordova)||void 0===w?void 0:w.plugins)||void 0===A?void 0:A.browsertab)||void 0===R?void 0:R.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(Be=null===(ce=null===(q=dt?.cordova)||void 0===q?void 0:q.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Be?void 0:Be.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(_t=null===(Ze=dt?.cordova)||void 0===Ze?void 0:Ze.InAppBrowser)||void 0===_t?void 0:_t.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const q=yield R._initialize(f);yield q.initialized(),q.resetRedirect(),function Bf(){ir.clear()}(),yield R._originValidation(f);const ce=function Jd(y,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:Xy(),postBody:null,tenantId:y.tenantId,error:_e(y,"no-auth-event")}}(f,w,A);yield function Sg(y,f){return Wf()._set(Zf(y),f)}(f,ce);const Be=yield function jo(y,f,g){return zf.apply(this,arguments)}(f,ce,g),Ze=yield function qf(y){const{cordova:f}=Zi();return new Promise(g=>{f.plugins.browsertab.isAvailable(w=>{let A=null;w?f.plugins.browsertab.openUrl(y):A=f.InAppBrowser.open(y,function yo(y=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(A)})})}(Be);return function Qd(y,f,g){return ds.apply(this,arguments)}(f,q,Ze)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function pl(y){return La.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:w,handleOpenURL:A,BuildInfo:R}=Zi(),q=setTimeout((0,h.Z)(function*(){yield Ag(f),g.onEvent(th())}),500),ce=function(){var _t=(0,h.Z)(function*(dt){clearTimeout(q);const Hn=yield Ag(f);let Ki=null;Hn&&dt?.url&&(Ki=function eh(y,f){var g,w;const A=function e_(y){const f=Ua(y),g=f.link?decodeURIComponent(f.link):void 0,w=Ua(g).link,A=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Ua(A).link||A||w||g||y}(f);if(A.includes("/__/auth/callback")){const R=Ua(A),q=R.firebaseError?function Jy(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,ce=null===(w=null===(g=q?.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],Be=ce?_e(ce):null;return Be?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Be,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:A,postBody:null}}return null}(Hn,dt.url)),g.onEvent(Ki||th())});return function(Hn){return _t.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,ce);const Be=A,Ze=`${R.packageName.toLowerCase()}://`;Zi().handleOpenURL=function(){var _t=(0,h.Z)(function*(dt){if(dt.toLowerCase().startsWith(Ze)&&ce({url:dt}),"function"==typeof Be)try{Be(dt)}catch(Hn){console.error(Hn)}});return function(dt){return _t.apply(this,arguments)}}()}};function th(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_e("no-auth-event")}}function Ps(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function ja(y=(0,O.z$)()){return!("file:"!==Ps()&&"ionic:"!==Ps()&&"capacitor:"!==Ps()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Kf(){try{const y=self.localStorage,f=Ms();if(y)return y.setItem(f,"1"),y.removeItem(f),!function $a(y=(0,O.z$)()){return function vl(){return(0,O.w1)()&&11===document?.documentMode}()||function Ng(y=(0,O.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,O.hl)()}catch{return nh()&&(0,O.hl)()}return!1}function nh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function qu(){return(function zu(){return"http:"===Ps()||"https:"===Ps()}()||(0,O.ru)()||ja())&&!function t_(){return(0,O.b$)()||(0,O.UG)()}()&&Kf()&&!nh()}function Yf(){return ja()&&typeof document<"u"}function Fs(){return(Fs=(0,h.Z)(function*(){return!!Yf()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const Cr={LOCAL:"local",NONE:"none",SESSION:"session"},Ha=U,wl="persistence";function Ga(y){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,h.Z)(function*(y){yield y._initializationPromise;const f=$o(),g=Z(wl,y.config.apiKey,y.name);f&&f.setItem(g,y._getPersistence())})).apply(this,arguments)}function $o(){var y;try{return(null===(y=function Og(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const rh=U;class Ls{constructor(){this.browserResolver=se(sr),this.cordovaResolver=se(so),this.underlyingResolver=null,this._redirectPersistence=Hi,this._completeRedirectFn=Xe,this._overrideRedirectResult=Hd}_initialize(f){var g=this;return(0,h.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,w,A){var R=this;return(0,h.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(f,g,w,A)})()}_openRedirect(f,g,w,A){var R=this;return(0,h.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(f,g,w,A)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Yf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return rh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,h.Z)(function*(){if(f.underlyingResolver)return;const g=yield function Wu(){return Fs.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function ih(y){return y.unwrap()}function Xf(y){return kg(y)}function kg(y){const{_tokenResponse:f}=y instanceof O.ZR?y.customData:y;if(!f)return null;if(!(y instanceof O.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return ul.credentialFromResult(y);const g=f.providerId;if(!g||"password"===g)return null;let w;switch(g){case"google.com":w=Eo;break;case"facebook.com":w=wd;break;case"github.com":w=Fc;break;case"twitter.com":w=Id;break;default:const{oauthIdToken:A,oauthAccessToken:R,oauthTokenSecret:q,pendingToken:ce,nonce:Be}=f;return R||q||A||ce?ce?g.startsWith("saml.")?Lc._create(g,ce):si._fromParams({providerId:g,signInMethod:g,pendingToken:ce,idToken:A,accessToken:R}):new ha(g).credential({idToken:A,accessToken:R,rawNonce:Be}):null}return y instanceof O.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function hi(y,f){return f.catch(g=>{throw g instanceof O.ZR&&function za(y,f){var g;const w=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new ep(y,function gr(y,f){var g;const w=(0,O.m9)(y),A=f;return U(f.customData.operationType,w,"argument-error"),U(null===(g=A.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),Kc._fromError(w,A)}(y,f));else if(w){const A=kg(f),R=f;A&&(R.credential=A,R.tenantId=w.tenantId||void 0,R.email=w.email||void 0,R.phoneNumber=w.phoneNumber||void 0)}}(y,g),g}).then(g=>{const A=g.user;return{operationType:g.operationType,credential:Xf(g),additionalUserInfo:Sf(g),user:oo.getOrCreate(A)}})}function Pg(y,f){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,h.Z)(function*(y,f){const g=yield f;return{verificationId:g.verificationId,confirm:w=>hi(y,g.confirm(w))}})).apply(this,arguments)}class ep{constructor(f,g){this.resolver=g,this.auth=function sh(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return hi(ih(this.auth),this.resolver.resolveSignIn(f))}}class oo{constructor(f){this._delegate=f,this.multiFactor=function Cu(y){const f=(0,O.m9)(y);return ui.has(f)||ui.set(f,xs._fromUser(f)),ui.get(f)}(f)}static getOrCreate(f){return oo.USER_MAP.has(f)||oo.USER_MAP.set(f,new oo(f)),oo.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,h.Z)(function*(){return hi(g.auth,kn(g._delegate,f))})()}linkWithPhoneNumber(f,g){var w=this;return(0,h.Z)(function*(){return Pg(w.auth,function kf(y,f,g){return Pf.apply(this,arguments)}(w._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,h.Z)(function*(){return hi(g.auth,function an(y,f,g){return Fn.apply(this,arguments)}(g._delegate,f,Ls))})()}linkWithRedirect(f){var g=this;return(0,h.Z)(function*(){return yield Ga(In(g.auth)),function H(y,f,g){return function te(y,f,g){return Se.apply(this,arguments)}(y,f,g)}(g._delegate,f,Ls)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,h.Z)(function*(){return hi(g.auth,eo(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return Pg(this.auth,function Wy(y,f,g){return Ff.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return hi(this.auth,function Zy(y,f,g){return Uf.apply(this,arguments)}(this._delegate,f,Ls))}reauthenticateWithRedirect(f){var g=this;return(0,h.Z)(function*(){return yield Ga(In(g.auth)),function C(y,f,g){return function x(y,f,g){return F.apply(this,arguments)}(y,f,g)}(g._delegate,f,Ls)})()}sendEmailVerification(f){return function Hc(y,f){return Md.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,h.Z)(function*(){return yield function fa(y,f){return Js.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function _g(y,f){return qc((0,O.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function zc(y,f){return qc((0,O.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function al(y,f){return Vf.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function is(y,f){return ai.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function So(y,f,g){return bn.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}oo.USER_MAP=new WeakMap;const Ku=U;let El=(()=>{class y{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=g.options;Ku(A,"invalid-api-key",{appName:g.name}),Ku(A,"invalid-api-key",{appName:g.name});const R=typeof window<"u"?Ls:void 0;this._delegate=w.initialize({options:{persistence:Fg(A,g.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(He),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?oo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function Oc(y,f,g){const w=In(y);U(w._canInitEmulator,w,"emulator-config-failed"),U(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const A=!!g?.disableWarnings,R=aa(f),{host:q,port:ce}=function ua(y){const f=aa(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(w);if(A){const R=A[1];return{host:R,port:Kt(w.substr(R.length+1))}}{const[R,q]=w.split(":");return{host:R,port:Kt(q)}}}(f);w.config.emulator={url:`${R}//${q}${null===ce?"":`:${ce}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:q,port:ce,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function Yn(){function y(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,w)}applyActionCode(g){return function _u(y,f){return Bc.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return vu(this._delegate,g)}confirmPasswordReset(g,w){return function va(y,f,g){return At.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var A=this;return(0,h.Z)(function*(){return hi(A._delegate,function Pn(y,f,g){return Ad.apply(this,arguments)}(A._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Iu(y,f){return To.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function xd(y,f){return"EMAIL_SIGNIN"===da.parseLink(f)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,h.Z)(function*(){Ku(qu(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function Qe(y,f){return rt.apply(this,arguments)}(g._delegate,Ls);return w?hi(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function sw(y,f){In(y)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,w,A){const{next:R,error:q,complete:ce}=Il(g,w,A);return this._delegate.onAuthStateChanged(R,q,ce)}onIdTokenChanged(g,w,A){const{next:R,error:q,complete:ce}=Il(g,w,A);return this._delegate.onIdTokenChanged(R,q,ce)}sendSignInLinkToEmail(g,w){return function Yt(y,f,g){return $c.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function ji(y,f,g){return _a.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,h.Z)(function*(){let A;switch(function Zu(y,f){Ha(Object.values(Cr).includes(f),y,"invalid-persistence-type"),(0,O.b$)()?Ha(f!==Cr.SESSION,y,"unsupported-persistence-type"):(0,O.UG)()?Ha(f===Cr.NONE,y,"unsupported-persistence-type"):nh()?Ha(f===Cr.NONE||f===Cr.LOCAL&&(0,O.hl)(),y,"unsupported-persistence-type"):Ha(f===Cr.NONE||Kf(),y,"unsupported-persistence-type")}(w._delegate,g),g){case Cr.SESSION:A=Hi;break;case Cr.LOCAL:A=(yield se(ko)._isAvailable())?ko:Qc;break;case Cr.NONE:A=L;break;default:return Ae("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return hi(this._delegate,function Uc(y){return Cf.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return hi(this._delegate,An(this._delegate,g))}signInWithCustomToken(g){return hi(this._delegate,function As(y,f){return rr.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return hi(this._delegate,function Te(y,f,g){return An((0,O.m9)(y),Pc.credential(f,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return hi(this._delegate,function pr(y,f,g){return Co.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return Pg(this._delegate,function on(y,f,g){return xa.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,h.Z)(function*(){return Ku(qu(),w._delegate,"operation-not-supported-in-this-environment"),hi(w._delegate,function Fo(y,f,g){return Lu.apply(this,arguments)}(w._delegate,g,Ls))})()}signInWithRedirect(g){var w=this;return(0,h.Z)(function*(){return Ku(qu(),w._delegate,"operation-not-supported-in-this-environment"),yield Ga(w._delegate),function io(y,f,g){return function at(y,f,g){return D.apply(this,arguments)}(y,f,g)}(w._delegate,g,Ls)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Sd(y,f){return wu.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Cr,y})();function Il(y,f,g){let w=y;"function"!=typeof y&&({next:w,error:f,complete:g}=y);const A=w;return{next:q=>A(q&&oo.getOrCreate(q)),error:f,complete:g}}function Fg(y,f){const g=function Qf(y,f){const g=$o();if(!g)return[];const w=Z(wl,y,f);switch(g.getItem(w)){case Cr.NONE:return[L];case Cr.LOCAL:return[ko,Hi];case Cr.SESSION:return[Hi];default:return[]}}(y,f);if(typeof self<"u"&&!g.includes(ko)&&g.push(ko),typeof window<"u")for(const w of[Qc,Hi])g.includes(w)||g.push(w);return g.includes(L)||g.push(L),g}class tp{constructor(){this.providerId="phone",this._delegate=new ul(ih(X.Z.auth()))}static credential(f,g){return ul.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}tp.PHONE_SIGN_IN_METHOD=ul.PHONE_SIGN_IN_METHOD,tp.PROVIDER_ID=ul.PROVIDER_ID;const Lg=U;class n_{constructor(f,g,w=X.Z.app()){var A;Lg(null===(A=w.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Po(f,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Vg(y){y.INTERNAL.registerComponent(new fe.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),w=f.getProvider("auth");return new El(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Pc,FacebookAuthProvider:wd,GithubAuthProvider:Fc,GoogleAuthProvider:Eo,OAuthProvider:ha,SAMLAuthProvider:Si,PhoneAuthProvider:tp,PhoneMultiFactorGenerator:di,RecaptchaVerifier:n_,TwitterAuthProvider:Id,Auth:El,AuthCredential:Mn,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.3.1")}(X.Z)},8766:(ut,Ie,k)=>{k.d(Ie,{Lj:()=>Ae,X3:()=>Fe});var h=k(5861);let O,oe;const fe=new WeakMap,de=new WeakMap,le=new WeakMap,j=new WeakMap,$=new WeakMap;let De={get(U,ye,W){if(U instanceof IDBTransaction){if("done"===ye)return de.get(U);if("objectStoreNames"===ye)return U.objectStoreNames||le.get(U);if("store"===ye)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return Ce(U[ye])},set:(U,ye,W)=>(U[ye]=W,!0),has:(U,ye)=>U instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in U};function he(U){return"function"==typeof U?function nt(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ie(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(U)?function(...ye){return U.apply(Ee(this),ye),Ce(fe.get(this))}:function(...ye){return Ce(U.apply(Ee(this),ye))}:function(ye,...W){const Y=U.call(Ee(this),ye,...W);return le.set(Y,ye.sort?ye.sort():[ye]),Ce(Y)}}(U):(U instanceof IDBTransaction&&function Ue(U){if(de.has(U))return;const ye=new Promise((W,Y)=>{const se=()=>{U.removeEventListener("complete",ne),U.removeEventListener("error",Ve),U.removeEventListener("abort",Ve)},ne=()=>{W(),se()},Ve=()=>{Y(U.error||new DOMException("AbortError","AbortError")),se()};U.addEventListener("complete",ne),U.addEventListener("error",Ve),U.addEventListener("abort",Ve)});de.set(U,ye)}(U),((U,ye)=>ye.some(W=>U instanceof W))(U,function ae(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(U,De):U)}function Ce(U){if(U instanceof IDBRequest)return function K(U){const ye=new Promise((W,Y)=>{const se=()=>{U.removeEventListener("success",ne),U.removeEventListener("error",Ve)},ne=()=>{W(Ce(U.result)),se()},Ve=()=>{Y(U.error),se()};U.addEventListener("success",ne),U.addEventListener("error",Ve)});return ye.then(W=>{W instanceof IDBCursor&&fe.set(W,U)}).catch(()=>{}),$.set(ye,U),ye}(U);if(j.has(U))return j.get(U);const ye=he(U);return ye!==U&&(j.set(U,ye),$.set(ye,U)),ye}const Ee=U=>$.get(U);function Fe(U,ye,{blocked:W,upgrade:Y,blocking:se,terminated:ne}={}){const Ve=indexedDB.open(U,ye),ke=Ce(Ve);return Y&&Ve.addEventListener("upgradeneeded",ct=>{Y(Ce(Ve.result),ct.oldVersion,ct.newVersion,Ce(Ve.transaction))}),W&&Ve.addEventListener("blocked",()=>W()),ke.then(ct=>{ne&&ct.addEventListener("close",()=>ne()),se&&ct.addEventListener("versionchange",()=>se())}).catch(()=>{}),ke}function Ae(U,{blocked:ye}={}){const W=indexedDB.deleteDatabase(U);return ye&&W.addEventListener("blocked",()=>ye()),Ce(W).then(()=>{})}const _e=["get","getKey","getAll","getAllKeys","count"],xe=["put","add","delete","clear"],Le=new Map;function Oe(U,ye){if(!(U instanceof IDBDatabase)||ye in U||"string"!=typeof ye)return;if(Le.get(ye))return Le.get(ye);const W=ye.replace(/FromIndex$/,""),Y=ye!==W,se=xe.includes(W);if(!(W in(Y?IDBIndex:IDBObjectStore).prototype)||!se&&!_e.includes(W))return;const ne=function(){var Ve=(0,h.Z)(function*(ke,...ct){const en=this.transaction(ke,se?"readwrite":"readonly");let ln=en.store;return Y&&(ln=ln.index(ct.shift())),(yield Promise.all([ln[W](...ct),se&&en.done]))[0]});return function(ct){return Ve.apply(this,arguments)}}();return Le.set(ye,ne),ne}!function He(U){De=U(De)}(U=>({...U,get:(ye,W,Y)=>Oe(ye,W)||U.get(ye,W,Y),has:(ye,W)=>!!Oe(ye,W)||U.has(ye,W)}))},5861:(ut,Ie,k)=>{function h(O,oe,ae,ie,fe,de,le){try{var j=O[de](le),$=j.value}catch(K){return void ae(K)}j.done?oe($):Promise.resolve($).then(ie,fe)}function X(O){return function(){var oe=this,ae=arguments;return new Promise(function(ie,fe){var de=O.apply(oe,ae);function le($){h(de,ie,fe,le,j,"next",$)}function j($){h(de,ie,fe,le,j,"throw",$)}le(void 0)})}}k.d(Ie,{Z:()=>X})}},ut=>{ut(ut.s=4378)}]);