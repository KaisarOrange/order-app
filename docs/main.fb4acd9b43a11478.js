"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{2011:(ct,Ie,k)=>{k.d(Ie,{Dh:()=>de,GT:()=>ie,cc:()=>De,hO:()=>Ue,on:()=>j,pX:()=>ae,xv:()=>le});var h=k(4650),J=k(9260),O=k(2122);ct=k.hmd(ct);const oe=["ngOnDestroy"],ae=(Ce,Ee,Pe,Ae={})=>new Proxy(Ce,{get:(_e,xe)=>Pe.runOutsideAngular(()=>{var Fe;if(Ce[xe])return!(null===(Fe=Ae?.spy)||void 0===Fe)&&Fe.get&&Ae.spy.get(xe,Ce[xe]),Ce[xe];if(oe.indexOf(xe)>-1)return()=>{};const Oe=Ee.toPromise().then(U=>{const ye=U&&U[xe];return"function"==typeof ye?ye.bind(U):ye&&ye.then?ye.then(W=>Pe.run(()=>W)):Pe.run(()=>ye)});return new Proxy(()=>{},{get:(U,ye)=>Oe[ye],apply:(U,ye,W)=>Oe.then(Y=>{var se;const ne=Y&&Y(...W);return!(null===(se=Ae?.spy)||void 0===se)&&se.apply&&Ae.spy.apply(xe,W,ne),ne})})})}),ie=(Ce,Ee)=>{Ee.forEach(Pe=>{Object.getOwnPropertyNames(Pe.prototype||Pe).forEach(Ae=>{Object.defineProperty(Ce.prototype,Ae,Object.getOwnPropertyDescriptor(Pe.prototype||Pe,Ae))})})};class fe{constructor(Ee){return Ee}}const de=new h.OlP("angularfire2.app.options"),le=new h.OlP("angularfire2.app.name");function j(Ce,Ee,Pe){const _e="object"==typeof Pe&&Pe||{};_e.name=_e.name||"string"==typeof Pe&&Pe||"[DEFAULT]";const Fe=J.Z.apps.filter(Oe=>Oe&&Oe.name===_e.name)[0]||Ee.runOutsideAngular(()=>J.Z.initializeApp(Ce,_e));try{JSON.stringify(Ce)!==JSON.stringify(Fe.options)&&$("error",`${Fe.name} Firebase App already initialized with different options${ct.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new fe(Fe)}const $=(Ce,...Ee)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Ce](...Ee)},K={provide:fe,useFactory:j,deps:[de,h.R0b,[new h.FiY,le]]};let Ue=(()=>{class Ce{constructor(Pe){J.Z.registerVersion("angularfire",O.q4.full,"core"),J.Z.registerVersion("angularfire",O.q4.full,"app-compat"),J.Z.registerVersion("angular",h.q4F.full,Pe.toString())}static initializeApp(Pe,Ae){return{ngModule:Ce,providers:[{provide:de,useValue:Pe},{provide:le,useValue:Ae}]}}}return Ce.\u0275fac=function(Pe){return new(Pe||Ce)(h.LFG(h.Lbi))},Ce.\u0275mod=h.oAB({type:Ce}),Ce.\u0275inj=h.cJS({providers:[K]}),Ce})();function De(Ce,Ee,Pe,Ae,_e){const[,xe,Fe]=globalThis.\u0275AngularfireInstanceCache.find(Oe=>Oe[0]===Ce)||[];if(xe)return function $e(Ce,Ee){try{return Ce.toString()===Ee.toString()}catch{return Ce===Ee}}(_e,Fe)||(he("error",`${Ee} was already initialized on the ${Pe} Firebase App with different settings.${rt?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:_e,was:Fe})),xe;{const Oe=Ae();return globalThis.\u0275AngularfireInstanceCache.push([Ce,Oe,_e]),Oe}}const rt=!!ct.hot,he=(Ce,...Ee)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Ce](...Ee)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(ct,Ie,k)=>{k.d(Ie,{q4:()=>Ou,iC:()=>ko,fc:()=>Ef,HU:()=>Fu,vb:()=>Qe,JM:()=>Pn});var h=k(4650),J=k(259),O=k(5861),oe=k(9681),ae=k(2090),ie=k(4859),fe=k(1877),de=k(8766);const le="@firebase/installations",j="0.6.1",K=`w:${j}`,Ue="FIS_v2",Ee=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Pe(D){return D instanceof ae.ZR&&D.code.includes("request-failed")}function Ae({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function _e(D){return{token:D.token,requestStatus:2,expiresIn:Y(D.expiresIn),creationTime:Date.now()}}function xe(D,C){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,O.Z)(function*(D,C){const F=(yield C.json()).error;return Ee.create("request-failed",{requestName:D,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function Oe({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function U(D,{refreshToken:C}){const x=Oe(D);return x.append("Authorization",function se(D){return`${Ue} ${D}`}(C)),x}function ye(D){return W.apply(this,arguments)}function W(){return(W=(0,O.Z)(function*(D){const C=yield D();return C.status>=500&&C.status<600?D():C})).apply(this,arguments)}function Y(D){return Number(D.replace("s","000"))}function ne(D,C){return Le.apply(this,arguments)}function Le(){return(Le=(0,O.Z)(function*({appConfig:D,heartbeatServiceProvider:C},{fid:x}){const F=Ae(D),H=Oe(D),te=C.getImmediate({optional:!0});if(te){const Je=yield te.getHeartbeatsHeader();Je&&H.append("x-firebase-client",Je)}const Xe={method:"POST",headers:H,body:JSON.stringify({fid:x,authVersion:Ue,appId:D.appId,sdkVersion:K})},it=yield ye(()=>fetch(F,Xe));if(it.ok){const Je=yield it.json();return{fid:Je.fid||x,registrationStatus:2,refreshToken:Je.refreshToken,authToken:_e(Je.authToken)}}throw yield xe("Create Installation",it)})).apply(this,arguments)}function ke(D){return new Promise(C=>{setTimeout(C,D)})}const Xt=/^[cdef][\w-]{21}$/;function Rt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const x=function Ut(D){return function lt(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Xt.test(x)?x:""}catch{return""}}function ft(D){return`${D.appName}!${D.appId}`}const Yt=new Map;function wr(D,C){const x=ft(D);gn(x,C),function ri(D,C){const x=function Or(){return!qr&&"BroadcastChannel"in self&&(qr=new BroadcastChannel("[Firebase] FID Change"),qr.onmessage=D=>{gn(D.data.key,D.data.fid)}),qr}();x&&x.postMessage({key:D,fid:C}),function kr(){0===Yt.size&&qr&&(qr.close(),qr=null)}()}(x,C)}function gn(D,C){const x=Yt.get(D);if(x)for(const F of x)F(C)}let qr=null;const mi="firebase-installations-store";let Pr=null;function zs(){return Pr||(Pr=(0,de.X3)("firebase-installations-database",1,{upgrade:(D,C)=>{0===C&&D.createObjectStore(mi)}})),Pr}function ln(D,C){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,O.Z)(function*(D,C){const x=ft(D),H=(yield zs()).transaction(mi,"readwrite"),te=H.objectStore(mi),Se=yield te.get(x);return yield te.put(C,x),yield H.done,(!Se||Se.fid!==C.fid)&&wr(D,C.fid),C})).apply(this,arguments)}function pt(D){return ts.apply(this,arguments)}function ts(){return(ts=(0,O.Z)(function*(D){const C=ft(D),F=(yield zs()).transaction(mi,"readwrite");yield F.objectStore(mi).delete(C),yield F.done})).apply(this,arguments)}function yi(D,C){return _n.apply(this,arguments)}function _n(){return(_n=(0,O.Z)(function*(D,C){const x=ft(D),H=(yield zs()).transaction(mi,"readwrite"),te=H.objectStore(mi),Se=yield te.get(x),Xe=C(Se);return void 0===Xe?yield te.delete(x):yield te.put(Xe,x),yield H.done,Xe&&(!Se||Se.fid!==Xe.fid)&&wr(D,Xe.fid),Xe})).apply(this,arguments)}function Fr(D){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,O.Z)(function*(D){let C;const x=yield yi(D.appConfig,F=>{const H=St(F),te=mt(D,H);return C=te.registrationPromise,te.installationEntry});return""===x.fid?{installationEntry:yield C}:{installationEntry:x,registrationPromise:C}})).apply(this,arguments)}function St(D){return Er(D||{fid:Rt(),registrationStatus:0})}function mt(D,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(Ee.create("app-offline"))};const x={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},F=function wt(D,C){return ns.apply(this,arguments)}(D,x);return{installationEntry:x,registrationPromise:F}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:Dn(D)}:{installationEntry:C}}function ns(){return(ns=(0,O.Z)(function*(D,C){try{const x=yield ne(D,C);return ln(D.appConfig,x)}catch(x){throw Pe(x)&&409===x.customData.serverCode?yield pt(D.appConfig):yield ln(D.appConfig,{fid:C.fid,registrationStatus:0}),x}})).apply(this,arguments)}function Dn(D){return vn.apply(this,arguments)}function vn(){return(vn=(0,O.Z)(function*(D){let C=yield _i(D.appConfig);for(;1===C.registrationStatus;)yield ke(100),C=yield _i(D.appConfig);if(0===C.registrationStatus){const{installationEntry:x,registrationPromise:F}=yield Fr(D);return F||x}return C})).apply(this,arguments)}function _i(D){return yi(D,C=>{if(!C)throw Ee.create("installation-not-found");return Er(C)})}function Er(D){return function ea(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function nn(D,C){return rs.apply(this,arguments)}function rs(){return(rs=(0,O.Z)(function*({appConfig:D,heartbeatServiceProvider:C},x){const F=Wt(D,x),H=U(D,x),te=C.getImmediate({optional:!0});if(te){const Je=yield te.getHeartbeatsHeader();Je&&H.append("x-firebase-client",Je)}const Xe={method:"POST",headers:H,body:JSON.stringify({installation:{sdkVersion:K,appId:D.appId}})},it=yield ye(()=>fetch(F,Xe));if(it.ok)return _e(yield it.json());throw yield xe("Generate Auth Token",it)})).apply(this,arguments)}function Wt(D,{fid:C}){return`${Ae(D)}/${C}/authTokens:generate`}function Ir(D){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,O.Z)(function*(D,C=!1){let x;const F=yield yi(D.appConfig,te=>{if(!Pt(te))throw Ee.create("not-registered");const Se=te.authToken;if(!C&&B(Se))return te;if(1===Se.requestStatus)return x=je(D,C),te;{if(!navigator.onLine)throw Ee.create("app-offline");const Xe=Z(te);return x=It(D,Xe),Xe}});return x?yield x:F.authToken})).apply(this,arguments)}function je(D,C){return ve.apply(this,arguments)}function ve(){return(ve=(0,O.Z)(function*(D,C){let x=yield Ke(D.appConfig);for(;1===x.authToken.requestStatus;)yield ke(100),x=yield Ke(D.appConfig);const F=x.authToken;return 0===F.requestStatus?Ir(D,C):F})).apply(this,arguments)}function Ke(D){return yi(D,C=>{if(!Pt(C))throw Ee.create("not-registered");return function pe(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function It(D,C){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,O.Z)(function*(D,C){try{const x=yield nn(D,C),F=Object.assign(Object.assign({},C),{authToken:x});return yield ln(D.appConfig,F),x}catch(x){if(!Pe(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const F=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield ln(D.appConfig,F)}else yield pt(D.appConfig);throw x}})).apply(this,arguments)}function Pt(D){return void 0!==D&&2===D.registrationStatus}function B(D){return 2===D.requestStatus&&!function L(D){const C=Date.now();return C<D.creationTime||D.creationTime+D.expiresIn<C+36e5}(D)}function Z(D){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:C})}function et(){return(et=(0,O.Z)(function*(D){const C=D,{installationEntry:x,registrationPromise:F}=yield Fr(C);return F?F.catch(console.error):Ir(C).catch(console.error),x.fid})).apply(this,arguments)}function zt(){return(zt=(0,O.Z)(function*(D,C=!1){const x=D;return yield wn(x),(yield Ir(x,C)).token})).apply(this,arguments)}function wn(D){return _t.apply(this,arguments)}function _t(){return(_t=(0,O.Z)(function*(D){const{registrationPromise:C}=yield Fr(D);C&&(yield C)})).apply(this,arguments)}function uu(D){return Ee.create("missing-app-config-values",{valueName:D})}const Sc="installations",En=D=>{const C=D.getProvider("app").getImmediate(),x=function na(D){if(!D||!D.options)throw uu("App Configuration");if(!D.name)throw uu("App Name");const C=["projectId","apiKey","appId"];for(const x of C)if(!D.options[x])throw uu(x);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(C);return{app:C,appConfig:x,heartbeatServiceProvider:(0,oe._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},cd=D=>{const C=D.getProvider("app").getImmediate(),x=(0,oe._getProvider)(C,Sc).getImmediate();return{getId:()=>function ee(D){return et.apply(this,arguments)}(x),getToken:H=>function Ft(D){return zt.apply(this,arguments)}(x,H)}};(function Ac(){(0,oe._registerComponent)(new ie.wA(Sc,En,"PUBLIC")),(0,oe._registerComponent)(new ie.wA("installations-internal",cd,"PRIVATE"))})(),(0,oe.registerVersion)(le,j),(0,oe.registerVersion)(le,j,"esm2017");const ra="@firebase/remote-config",Mn=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class sa{constructor(C,x,F,H){this.client=C,this.storage=x,this.storageCache=F,this.logger=H}isCachedDataFresh(C,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-x,H=F<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${H}.`),H}fetch(C){var x=this;return(0,O.Z)(function*(){const[F,H]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(H&&x.isCachedDataFresh(C.cacheMaxAgeMillis,F))return H;C.eTag=H&&H.eTag;const te=yield x.client.fetch(C),Se=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===te.status&&Se.push(x.storage.setLastSuccessfulFetchResponse(te)),yield Promise.all(Se),te})()}}function wi(D=navigator){return D.languages&&D.languages[0]||D.language}class Ss{constructor(C,x,F,H,te,Se){this.firebaseInstallations=C,this.sdkVersion=x,this.namespace=F,this.projectId=H,this.apiKey=te,this.appId=Se}fetch(C){var x=this;return(0,O.Z)(function*(){const[F,H]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Se=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Xe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},it={sdk_version:x.sdkVersion,app_instance_id:F,app_instance_id_token:H,app_id:x.appId,language_code:wi()},Je={method:"POST",headers:Xe,body:JSON.stringify(it)},Nt=fetch(Se,Je),bt=new Promise((Yn,qi)=>{C.signal.addEventListener(()=>{const bn=new Error("The operation was aborted.");bn.name="AbortError",qi(bn)})});let mr;try{yield Promise.race([Nt,bt]),mr=yield Nt}catch(Yn){let qi="fetch-client-network";throw"AbortError"===Yn?.name&&(qi="fetch-timeout"),Mn.create(qi,{originalErrorMessage:Yn?.message})}let Bn=mr.status;const xa=mr.headers.get("ETag")||void 0;let Ma,zi;if(200===mr.status){let Yn;try{Yn=yield mr.json()}catch(qi){throw Mn.create("fetch-client-parse",{originalErrorMessage:qi?.message})}Ma=Yn.entries,zi=Yn.state}if("INSTANCE_STATE_UNSPECIFIED"===zi?Bn=500:"NO_CHANGE"===zi?Bn=304:("NO_TEMPLATE"===zi||"EMPTY_CONFIG"===zi)&&(Ma={}),304!==Bn&&200!==Bn)throw Mn.create("fetch-status",{httpStatus:Bn});return{status:Bn,eTag:xa,config:Ma}})()}}class lg{constructor(C,x){this.client=C,this.storage=x}fetch(C){var x=this;return(0,O.Z)(function*(){const F=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(C,F)})()}attemptFetch(C,{throttleEndTimeMillis:x,backoffCount:F}){var H=this;return(0,O.Z)(function*(){yield function Nn(D,C){return new Promise((x,F)=>{const H=Math.max(C-Date.now(),0),te=setTimeout(x,H);D.addEventListener(()=>{clearTimeout(te),F(Mn.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,x);try{const te=yield H.client.fetch(C);return yield H.storage.deleteThrottleMetadata(),te}catch(te){if(!function sn(D){if(!(D instanceof ae.ZR&&D.customData))return!1;const C=Number(D.customData.httpStatus);return 429===C||500===C||503===C||504===C}(te))throw te;const Se={throttleEndTimeMillis:Date.now()+(0,ae.$s)(F),backoffCount:F+1};return yield H.storage.setThrottleMetadata(Se),H.attemptFetch(C,Se)}})()}}class Ws{constructor(C,x,F,H,te){this.app=C,this._client=x,this._storageCache=F,this._storage=H,this._logger=te,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Zs(D,C){const x=D.target.error||void 0;return Mn.create(C,{originalErrorMessage:x&&x?.message})}const Lr="app_namespace_store";class Ei{constructor(C,x,F,H=function Kr(){return new Promise((D,C)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=F=>{C(Zs(F,"storage-open"))},x.onsuccess=F=>{D(F.target.result)},x.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(Lr,{keyPath:"compositeKey"})}}catch(x){C(Mn.create("storage-open",{originalErrorMessage:x?.message}))}})}()){this.appId=C,this.appName=x,this.namespace=F,this.openDbPromise=H}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var x=this;return(0,O.Z)(function*(){const F=yield x.openDbPromise;return new Promise((H,te)=>{const Xe=F.transaction([Lr],"readonly").objectStore(Lr),it=x.createCompositeKey(C);try{const Je=Xe.get(it);Je.onerror=Nt=>{te(Zs(Nt,"storage-get"))},Je.onsuccess=Nt=>{const bt=Nt.target.result;H(bt?bt.value:void 0)}}catch(Je){te(Mn.create("storage-get",{originalErrorMessage:Je?.message}))}})})()}set(C,x){var F=this;return(0,O.Z)(function*(){const H=yield F.openDbPromise;return new Promise((te,Se)=>{const it=H.transaction([Lr],"readwrite").objectStore(Lr),Je=F.createCompositeKey(C);try{const Nt=it.put({compositeKey:Je,value:x});Nt.onerror=bt=>{Se(Zs(bt,"storage-set"))},Nt.onsuccess=()=>{te()}}catch(Nt){Se(Mn.create("storage-set",{originalErrorMessage:Nt?.message}))}})})()}delete(C){var x=this;return(0,O.Z)(function*(){const F=yield x.openDbPromise;return new Promise((H,te)=>{const Xe=F.transaction([Lr],"readwrite").objectStore(Lr),it=x.createCompositeKey(C);try{const Je=Xe.delete(it);Je.onerror=Nt=>{te(Zs(Nt,"storage-delete"))},Je.onsuccess=()=>{H()}}catch(Je){te(Mn.create("storage-delete",{originalErrorMessage:Je?.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class oa{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,O.Z)(function*(){const x=C.storage.getLastFetchStatus(),F=C.storage.getLastSuccessfulFetchTimestampMillis(),H=C.storage.getActiveConfig(),te=yield x;te&&(C.lastFetchStatus=te);const Se=yield F;Se&&(C.lastSuccessfulFetchTimestampMillis=Se);const Xe=yield H;Xe&&(C.activeConfig=Xe)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function aa(){return rf.apply(this,arguments)}function rf(){return(rf=(0,O.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}!function Ii(){(0,oe._registerComponent)(new ie.wA("remote-config",function D(C,{instanceIdentifier:x}){const F=C.getProvider("app").getImmediate(),H=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Mn.create("registration-window");if(!(0,ae.hl)())throw Mn.create("indexed-db-unavailable");const{projectId:te,apiKey:Se,appId:Xe}=F.options;if(!te)throw Mn.create("registration-project-id");if(!Se)throw Mn.create("registration-api-key");if(!Xe)throw Mn.create("registration-app-id");const it=new Ei(Xe,F.name,x=x||"firebase"),Je=new oa(it),Nt=new fe.Yd(ra);Nt.logLevel=fe.in.ERROR;const bt=new Ss(H,oe.SDK_VERSION,x,te,Se,Xe),mr=new lg(bt,it),Bn=new sa(mr,it,Je,Nt),xa=new Ws(F,Bn,Je,it,Nt);return function mn(D){const C=(0,ae.m9)(D);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(xa),xa},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(ra,"0.4.1"),(0,oe.registerVersion)(ra,"0.4.1","esm2017")}();const Mc="/firebase-messaging-sw.js",is="/firebase-cloud-messaging-push-scope",Ks="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",hd="google.c.a.c_id",_o="google.c.a.c_l",Rc="google.c.a.ts",fd="google.c.a.e";var lu=(()=>{return(D=lu||(lu={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",lu;var D})();function bi(D){const C=new Uint8Array(D);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function pd(D){const x=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(x),H=new Uint8Array(F.length);for(let te=0;te<F.length;++te)H[te]=F.charCodeAt(te);return H}const Oc="fcm_token_details_db",Vr="fcm_token_object_Store";function md(D){return kc.apply(this,arguments)}function kc(){return kc=(0,O.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(te=>te.name).includes(Oc))return null;let C=null;return(yield(0,de.X3)(Oc,5,{upgrade:(F=(0,O.Z)(function*(H,te,Se,Xe){var it;if(te<2||!H.objectStoreNames.contains(Vr))return;const Je=Xe.objectStore(Vr),Nt=yield Je.index("fcmSenderId").get(D);if(yield Je.clear(),Nt)if(2===te){const bt=Nt;if(!bt.auth||!bt.p256dh||!bt.endpoint)return;C={token:bt.fcmToken,createTime:null!==(it=bt.createTime)&&void 0!==it?it:Date.now(),subscriptionOptions:{auth:bt.auth,p256dh:bt.p256dh,endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:"string"==typeof bt.vapidKey?bt.vapidKey:bi(bt.vapidKey)}}}else if(3===te){const bt=Nt;C={token:bt.fcmToken,createTime:bt.createTime,subscriptionOptions:{auth:bi(bt.auth),p256dh:bi(bt.p256dh),endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:bi(bt.vapidKey)}}}else if(4===te){const bt=Nt;C={token:bt.fcmToken,createTime:bt.createTime,subscriptionOptions:{auth:bi(bt.auth),p256dh:bi(bt.p256dh),endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:bi(bt.vapidKey)}}}}),function(te,Se,Xe,it){return F.apply(this,arguments)})})).close(),yield(0,de.Lj)(Oc),yield(0,de.Lj)("fcm_vapid_details_db"),yield(0,de.Lj)("undefined"),sf(C)?C:null;var F}),kc.apply(this,arguments)}function sf(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:C}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}const As="firebase-messaging-store";let ca=null;function Qs(){return ca||(ca=(0,de.X3)("firebase-messaging-database",1,{upgrade:(D,C)=>{0===C&&D.createObjectStore(As)}})),ca}function du(D){return hu.apply(this,arguments)}function hu(){return(hu=(0,O.Z)(function*(D){const C=pu(D),F=yield(yield Qs()).transaction(As).objectStore(As).get(C);if(F)return F;{const H=yield md(D.appConfig.senderId);if(H)return yield xs(D,H),H}})).apply(this,arguments)}function xs(D,C){return la.apply(this,arguments)}function la(){return(la=(0,O.Z)(function*(D,C){const x=pu(D),H=(yield Qs()).transaction(As,"readwrite");return yield H.objectStore(As).put(C,x),yield H.done,C})).apply(this,arguments)}function fu(D){return vo.apply(this,arguments)}function vo(){return(vo=(0,O.Z)(function*(D){const C=pu(D),F=(yield Qs()).transaction(As,"readwrite");yield F.objectStore(As).delete(C),yield F.done})).apply(this,arguments)}function pu({appConfig:D}){return D.appId}const Cn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function da(D,C){return On.apply(this,arguments)}function On(){return(On=(0,O.Z)(function*(D,C){const x=yield Ms(D),F=ha(C),H={method:"POST",headers:x,body:JSON.stringify(F)};let te;try{te=yield(yield fetch(Eo(D.appConfig),H)).json()}catch(Se){throw Cn.create("token-subscribe-failed",{errorInfo:Se?.toString()})}if(te.error)throw Cn.create("token-subscribe-failed",{errorInfo:te.error.message});if(!te.token)throw Cn.create("token-subscribe-no-token");return te.token})).apply(this,arguments)}function wo(D,C){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,O.Z)(function*(D,C){const x=yield Ms(D),F=ha(C.subscriptionOptions),H={method:"PATCH",headers:x,body:JSON.stringify(F)};let te;try{te=yield(yield fetch(`${Eo(D.appConfig)}/${C.token}`,H)).json()}catch(Se){throw Cn.create("token-update-failed",{errorInfo:Se?.toString()})}if(te.error)throw Cn.create("token-update-failed",{errorInfo:te.error.message});if(!te.token)throw Cn.create("token-update-no-token");return te.token})).apply(this,arguments)}function fr(D,C){return _d.apply(this,arguments)}function _d(){return(_d=(0,O.Z)(function*(D,C){const F={method:"DELETE",headers:yield Ms(D)};try{const te=yield(yield fetch(`${Eo(D.appConfig)}/${C}`,F)).json();if(te.error)throw Cn.create("token-unsubscribe-failed",{errorInfo:te.error.message})}catch(H){throw Cn.create("token-unsubscribe-failed",{errorInfo:H?.toString()})}})).apply(this,arguments)}function Eo({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Ms(D){return ir.apply(this,arguments)}function ir(){return(ir=(0,O.Z)(function*({appConfig:D,installations:C}){const x=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function ha({p256dh:D,auth:C,endpoint:x,vapidKey:F}){const H={web:{endpoint:x,auth:C,p256dh:D}};return F!==Ks&&(H.web.applicationPubKey=F),H}const fa=6048e5;function gu(D){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,O.Z)(function*(D){const C=yield Fc(D.swRegistration,D.vapidKey),x={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:C.endpoint,auth:bi(C.getKey("auth")),p256dh:bi(C.getKey("p256dh"))},F=yield du(D.firebaseDependencies);if(F){if(_u(F.subscriptionOptions,x))return Date.now()>=F.createTime+fa?At(D,{token:F.token,createTime:Date.now(),subscriptionOptions:x}):F.token;try{yield fr(D.firebaseDependencies,F.token)}catch(H){console.warn(H)}return Pc(D.firebaseDependencies,x)}return Pc(D.firebaseDependencies,x)})).apply(this,arguments)}function pa(D){return ga.apply(this,arguments)}function ga(){return(ga=(0,O.Z)(function*(D){const C=yield du(D.firebaseDependencies);C&&(yield fr(D.firebaseDependencies,C.token),yield fu(D.firebaseDependencies));const x=yield D.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function At(D,C){return mu.apply(this,arguments)}function mu(){return(mu=(0,O.Z)(function*(D,C){try{const x=yield wo(D.firebaseDependencies,C),F=Object.assign(Object.assign({},C),{token:x,createTime:Date.now()});return yield xs(D.firebaseDependencies,F),x}catch(x){throw yield pa(D),x}})).apply(this,arguments)}function Pc(D,C){return yu.apply(this,arguments)}function yu(){return(yu=(0,O.Z)(function*(D,C){const F={token:yield da(D,C),createTime:Date.now(),subscriptionOptions:C};return yield xs(D,F),F.token})).apply(this,arguments)}function Fc(D,C){return vd.apply(this,arguments)}function vd(){return(vd=(0,O.Z)(function*(D,C){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:pd(C)})})).apply(this,arguments)}function _u(D,C){return C.vapidKey===D.vapidKey&&C.endpoint===D.endpoint&&C.auth===D.auth&&C.p256dh===D.p256dh}function kn(D){const C={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function wd(D,C){if(!C.notification)return;D.notification={};const x=C.notification.title;x&&(D.notification.title=x);const F=C.notification.body;F&&(D.notification.body=F);const H=C.notification.image;H&&(D.notification.image=H);const te=C.notification.icon;te&&(D.notification.icon=te)}(C,D),function Te(D,C){C.data&&(D.data=C.data)}(C,D),function Kt(D,C){var x,F,H,te,Se;if(!(C.fcmOptions||null!==(x=C.notification)&&void 0!==x&&x.click_action))return;D.fcmOptions={};const Xe=null!==(H=null===(F=C.fcmOptions)||void 0===F?void 0:F.link)&&void 0!==H?H:null===(te=C.notification)||void 0===te?void 0:te.click_action;Xe&&(D.fcmOptions.link=Xe);const it=null===(Se=C.fcmOptions)||void 0===Se?void 0:Se.analytics_label;it&&(D.fcmOptions.analyticsLabel=it)}(C,D),C}function Lc(D){return"object"==typeof D&&!!D&&hd in D}function Ed(D,C){const x=[];for(let F=0;F<D.length;F++)x.push(D.charAt(F)),F<C.length&&x.push(C.charAt(F));return x.join("")}function Io(D){return Cn.create("missing-app-config-values",{valueName:D})}Ed("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ed("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class vu{constructor(C,x,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const H=function pr(D){if(!D||!D.options)throw Io("App Configuration Object");if(!D.name)throw Io("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:x}=D;for(const F of C)if(!x[F])throw Io(F);return{appName:D.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:H,installations:x,analyticsProvider:F}}_delete(){return Promise.resolve()}}function si(D){return wu.apply(this,arguments)}function wu(){return(wu=(0,O.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Mc,{scope:is}),D.swRegistration.update().catch(()=>{})}catch(C){throw Cn.create("failed-service-worker-registration",{browserErrorMessage:C?.message})}})).apply(this,arguments)}function bo(D,C){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,O.Z)(function*(D,C){if(!C&&!D.swRegistration&&(yield si(D)),C||!D.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw Cn.create("invalid-sw-registration");D.swRegistration=C}})).apply(this,arguments)}function Id(D,C){return Do.apply(this,arguments)}function Do(){return(Do=(0,O.Z)(function*(D,C){C?D.vapidKey=C:D.vapidKey||(D.vapidKey=Ks)})).apply(this,arguments)}function ji(){return(ji=(0,O.Z)(function*(D,C){if(!navigator)throw Cn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Cn.create("permission-blocked");return yield Id(D,C?.vapidKey),yield bo(D,C?.serviceWorkerRegistration),gu(D)})).apply(this,arguments)}function Uc(D,C,x){return ss.apply(this,arguments)}function ss(){return(ss=(0,O.Z)(function*(D,C,x){const F=oi(C);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:x[hd],message_name:x[_o],message_time:x[Rc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function oi(D){switch(D){case lu.NOTIFICATION_CLICKED:return"notification_open";case lu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Bc(){return(Bc=(0,O.Z)(function*(D,C){const x=C.data;if(!x.isFirebaseMessaging)return;D.onMessageHandler&&x.messageType===lu.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(kn(x)):D.onMessageHandler.next(kn(x)));const F=x.data;Lc(F)&&"1"===F[fd]&&(yield Uc(D,x.messageType,F))})).apply(this,arguments)}const jc="@firebase/messaging",bd=D=>{const C=new vu(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function dg(D,C){return Bc.apply(this,arguments)}(C,x)),C},Js=D=>{const C=D.getProvider("messaging").getImmediate();return{getToken:F=>function In(D,C){return ji.apply(this,arguments)}(C,F)}};function $c(){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,O.Z)(function*(){try{yield(0,ae.eu)()}catch{return!1}return typeof window<"u"&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Dd(){(0,oe._registerComponent)(new ie.wA("messaging",bd,"PUBLIC")),(0,oe._registerComponent)(new ie.wA("messaging-internal",Js,"PRIVATE")),(0,oe.registerVersion)(jc,"0.12.1"),(0,oe.registerVersion)(jc,"0.12.1","esm2017")}();const Hc="analytics",Qr="firebase_id",Co="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gc="https://www.googletagmanager.com/gtag/js",gr=new fe.Yd("@firebase/analytics");function cf(D){return Promise.all(D.map(C=>C.catch(x=>x)))}function pg(D,C){const x=document.createElement("script");x.src=`${Gc}?l=${D}&id=${C}`,x.async=!0,document.head.appendChild(x)}function Rs(D,C,x,F,H,te){return ai.apply(this,arguments)}function ai(){return(ai=(0,O.Z)(function*(D,C,x,F,H,te){const Se=F[H];try{if(Se)yield C[Se];else{const it=(yield cf(x)).find(Je=>Je.measurementId===H);it&&(yield C[it.appId])}}catch(Xe){gr.error(Xe)}D("config",H,te)})).apply(this,arguments)}function bu(D,C,x,F,H){return Di.apply(this,arguments)}function Di(){return(Di=(0,O.Z)(function*(D,C,x,F,H){try{let te=[];if(H&&H.send_to){let Se=H.send_to;Array.isArray(Se)||(Se=[Se]);const Xe=yield cf(x);for(const it of Se){const Je=Xe.find(bt=>bt.measurementId===it),Nt=Je&&C[Je.appId];if(!Nt){te=[];break}te.push(Nt)}}0===te.length&&(te=Object.values(C)),yield Promise.all(te),D("event",F,H||{})}catch(te){gr.error(te)}})).apply(this,arguments)}function To(D){const C=window.document.getElementsByTagName("script");for(const x of Object.values(C))if(x.src&&x.src.includes(Gc)&&x.src.includes(D))return x;return null}const ui=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Wc=new class $i{constructor(C={},x=1e3){this.throttleMetadata=C,this.intervalMillis=x}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,x){this.throttleMetadata[C]=x}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function Sd(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Ns(D){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,O.Z)(function*(D){var C;const{appId:x,apiKey:F}=D,H={method:"GET",headers:Sd(F)},te=Co.replace("{app-id}",x),Se=yield fetch(te,H);if(200!==Se.status&&304!==Se.status){let Xe="";try{const it=yield Se.json();null!==(C=it.error)&&void 0!==C&&C.message&&(Xe=it.error.message)}catch{}throw ui.create("config-fetch-failed",{httpStatus:Se.status,responseMessage:Xe})}return Se.json()})).apply(this,arguments)}function yn(D){return So.apply(this,arguments)}function So(){return(So=(0,O.Z)(function*(D,C=Wc,x){const{appId:F,apiKey:H,measurementId:te}=D.options;if(!F)throw ui.create("no-app-id");if(!H){if(te)return{measurementId:te,appId:F};throw ui.create("no-api-key")}const Se=C.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xe=new Cu;return setTimeout((0,O.Z)(function*(){Xe.abort()}),void 0!==x?x:6e4),Ao({appId:F,apiKey:H,measurementId:te},Se,Xe,C)})).apply(this,arguments)}function Ao(D,C,x){return Os.apply(this,arguments)}function Os(){return(Os=(0,O.Z)(function*(D,{throttleEndTimeMillis:C,backoffCount:x},F,H=Wc){var te;const{appId:Se,measurementId:Xe}=D;try{yield Du(F,C)}catch(it){if(Xe)return gr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xe} provided in the "measurementId" field in the local Firebase config. [${it?.message}]`),{appId:Se,measurementId:Xe};throw it}try{const it=yield Ns(D);return H.deleteThrottleMetadata(Se),it}catch(it){const Je=it;if(!Ad(Je)){if(H.deleteThrottleMetadata(Se),Xe)return gr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xe} provided in the "measurementId" field in the local Firebase config. [${Je?.message}]`),{appId:Se,measurementId:Xe};throw it}const Nt=503===Number(null===(te=Je?.customData)||void 0===te?void 0:te.httpStatus)?(0,ae.$s)(x,H.intervalMillis,30):(0,ae.$s)(x,H.intervalMillis),bt={throttleEndTimeMillis:Date.now()+Nt,backoffCount:x+1};return H.setThrottleMetadata(Se,bt),gr.debug(`Calling attemptFetch again in ${Nt} millis`),Ao(D,bt,F,H)}})).apply(this,arguments)}function Du(D,C){return new Promise((x,F)=>{const H=Math.max(C-Date.now(),0),te=setTimeout(x,H);D.addEventListener(()=>{clearTimeout(te),F(ui.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}function Ad(D){if(!(D instanceof ae.ZR&&D.customData))return!1;const C=Number(D.customData.httpStatus);return 429===C||500===C||503===C||504===C}class Cu{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let Tu,Ps;function os(){return(os=(0,O.Z)(function*(D,C,x,F,H){if(H&&H.global)D("event",x,F);else{const te=yield C;D("event",x,Object.assign(Object.assign({},F),{send_to:te}))}})).apply(this,arguments)}function Au(D){Ps=D}function xu(D){Tu=D}function Yc(){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,O.Z)(function*(){if(!(0,ae.hl)())return gr.warn(ui.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(D){return gr.warn(ui.create("indexeddb-unavailable",{errorInfo:D?.toString()}).message),!1}return!0})).apply(this,arguments)}function Qc(){return(Qc=(0,O.Z)(function*(D,C,x,F,H,te,Se){var Xe;const it=yn(D);it.then(Bn=>{x[Bn.measurementId]=Bn.appId,D.options.measurementId&&Bn.measurementId!==D.options.measurementId&&gr.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Bn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Bn=>gr.error(Bn)),C.push(it);const Je=Yc().then(Bn=>{if(Bn)return F.getId()}),[Nt,bt]=yield Promise.all([it,Je]);To(te)||pg(te,Nt.measurementId),Ps&&(H("consent","default",Ps),Au(void 0)),H("js",new Date);const mr=null!==(Xe=Se?.config)&&void 0!==Xe?Xe:{};return mr.origin="firebase",mr.update=!0,null!=bt&&(mr[Qr]=bt),H("config",Nt.measurementId,mr),Tu&&(H("set",Tu),xu(void 0)),Nt.measurementId})).apply(this,arguments)}class Xc{constructor(C){this.app=C}_delete(){return delete as[this.app.options.appId],Promise.resolve()}}let as={},Ru=[];const Ia={};let Jc,Ti,Ci="dataLayer",ci=!1;function Md(D,C,x){!function xd(){const D=[];if((0,ae.ru)()&&D.push("This is a browser extension environment."),(0,ae.zI)()||D.push("Cookies are not available."),D.length>0){const C=D.map((F,H)=>`(${H+1}) ${F}`).join(" "),x=ui.create("invalid-analytics-context",{errorInfo:C});gr.warn(x.message)}}();const F=D.options.appId;if(!F)throw ui.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw ui.create("no-api-key");gr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=as[F])throw ui.create("already-exists",{id:F});if(!ci){!function lf(D){let C=[];Array.isArray(window[D])?C=window[D]:window[D]=C}(Ci);const{wrappedGtag:te,gtagCore:Se}=function Td(D,C,x,F,H){let te=function(...Se){window[F].push(arguments)};return window[H]&&"function"==typeof window[H]&&(te=window[H]),window[H]=function zc(D,C,x,F){function te(){return(te=(0,O.Z)(function*(Se,Xe,it){try{"event"===Se?yield bu(D,C,x,Xe,it):"config"===Se?yield Rs(D,C,x,F,Xe,it):"consent"===Se?D("consent","update",it):D("set",Xe)}catch(Je){gr.error(Je)}})).apply(this,arguments)}return function H(Se,Xe,it){return te.apply(this,arguments)}}(te,D,C,x),{gtagCore:te,wrappedGtag:window[H]}}(as,Ru,Ia,Ci,"gtag");Ti=te,Jc=Se,ci=!0}return as[F]=function Ro(D,C,x,F,H,te,Se){return Qc.apply(this,arguments)}(D,Ru,Ia,C,Jc,Ci,x),new Xc(D)}function el(){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,O.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}const on="@firebase/analytics";!function gf(){(0,oe._registerComponent)(new ie.wA(Hc,(C,{options:x})=>Md(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,oe._registerComponent)(new ie.wA("analytics-internal",function D(C){try{const x=C.getProvider(Hc).getImmediate();return{logEvent:(F,H,te)=>function to(D,C,x,F){D=(0,ae.m9)(D),function xo(D,C,x,F,H){return os.apply(this,arguments)}(Ti,as[D.app.options.appId],C,x,F).catch(H=>gr.error(H))}(x,F,H,te)}}catch(x){throw ui.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,oe.registerVersion)(on,"0.9.1"),(0,oe.registerVersion)(on,"0.9.1","esm2017")}();var mf=k(4408),yf=k(7565);const _f=new class tl extends yf.v{}(class Gy extends mf.o{constructor(C,x){super(C,x),this.scheduler=C,this.work=x}schedule(C,x=0){return x>0?super.schedule(C,x):(this.delay=x,this.state=C,this.scheduler.flush(this),this)}execute(C,x){return x>0||this.closed?super.execute(C,x):this._execute(C,x)}requestAsyncId(C,x,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(C,x,F):(C.flush(this),0)}});var vf=k(4986),rl=k(8505),hn=k(5363),Ta=k(9468);const Ou=new h.GfV("7.5.0"),Od="__angularfire_symbol__analyticsIsSupportedValue",Jr="__angularfire_symbol__analyticsIsSupported",Gi="__angularfire_symbol__remoteConfigIsSupportedValue",ku="__angularfire_symbol__remoteConfigIsSupported",Sa="__angularfire_symbol__messagingIsSupportedValue",Oo="__angularfire_symbol__messagingIsSupported";function Pn(D,C,x){if(C){if(1===C.length)return C[0];const te=C.filter(Se=>Se.app===x);if(1===te.length)return te[0]}return x.container.getProvider(D).getImmediate({optional:!0})}globalThis[Jr]||(globalThis[Jr]=el().then(D=>globalThis[Od]=D).catch(()=>globalThis[Od]=!1)),globalThis[Oo]||(globalThis[Oo]=$c().then(D=>globalThis[Sa]=D).catch(()=>globalThis[Sa]=!1)),globalThis[ku]||(globalThis[ku]=aa().then(D=>globalThis[Gi]=D).catch(()=>globalThis[Gi]=!1));const Qe=(D,C)=>{const x=C?[C]:(0,J.C6)(),F=[];return x.forEach(H=>{H.container.getProvider(D).instances.forEach(Se=>{F.includes(Se)||F.push(Se)})}),F};function Kn(){}class sr{constructor(C,x=_f){this.zone=C,this.delegate=x}now(){return this.delegate.now()}schedule(C,x,F){const H=this.zone;return this.delegate.schedule(function(Se){H.runGuarded(()=>{C.apply(this,[Se])})},x,F)}}class kd{constructor(C){this.zone=C,this.task=null}call(C,x){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Kn,{},Kn,Kn)),x.pipe((0,rl.b)({next:F,complete:F,error:F})).subscribe(C).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Fu=(()=>{class D{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new sr(Zone.current)),this.insideAngular=x.run(()=>new sr(Zone.current,vf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(x){return new(x||D)(h.LFG(h.R0b))},D.\u0275prov=h.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Un(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Ef(D){return D.pipe((0,hn.Q)(Un().outsideAngular))}function ko(D){return Un(),function Aa(D){return function(x){return(x=x.lift(new kd(D.ngZone))).pipe((0,Ta.R)(D.outsideAngular),(0,hn.Q)(D.insideAngular))}}(Un())(D)}},2090:(ct,Ie,k)=>{k.d(Ie,{$s:()=>Ke,BH:()=>_e,G6:()=>lt,L:()=>de,LL:()=>Yt,Pz:()=>Ae,Sg:()=>xe,UG:()=>U,US:()=>ie,ZB:()=>$,ZR:()=>ft,aH:()=>Pe,b$:()=>Y,eu:()=>cn,hl:()=>Xt,jU:()=>ye,m9:()=>Pt,ne:()=>Ts,pd:()=>_n,r3:()=>Cs,ru:()=>W,tV:()=>le,uI:()=>Oe,vZ:()=>ln,w1:()=>ne,xO:()=>ts,xb:()=>Pr,z$:()=>Fe,zI:()=>Rt,zd:()=>yi});const oe=function(B){const L=[];let Z=0;for(let pe=0;pe<B.length;pe++){let ee=B.charCodeAt(pe);ee<128?L[Z++]=ee:ee<2048?(L[Z++]=ee>>6|192,L[Z++]=63&ee|128):55296==(64512&ee)&&pe+1<B.length&&56320==(64512&B.charCodeAt(pe+1))?(ee=65536+((1023&ee)<<10)+(1023&B.charCodeAt(++pe)),L[Z++]=ee>>18|240,L[Z++]=ee>>12&63|128,L[Z++]=ee>>6&63|128,L[Z++]=63&ee|128):(L[Z++]=ee>>12|224,L[Z++]=ee>>6&63|128,L[Z++]=63&ee|128)}return L},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,L){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,pe=[];for(let ee=0;ee<B.length;ee+=3){const et=B[ee],Ft=ee+1<B.length,zt=Ft?B[ee+1]:0,wn=ee+2<B.length,_t=wn?B[ee+2]:0;let Wn=(15&zt)<<2|_t>>6,po=63&_t;wn||(po=64,Ft||(Wn=64)),pe.push(Z[et>>2],Z[(3&et)<<4|zt>>4],Z[Wn],Z[po])}return pe.join("")},encodeString(B,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(B):this.encodeByteArray(oe(B),L)},decodeString(B,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(B):function(B){const L=[];let Z=0,pe=0;for(;Z<B.length;){const ee=B[Z++];if(ee<128)L[pe++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const et=B[Z++];L[pe++]=String.fromCharCode((31&ee)<<6|63&et)}else if(ee>239&&ee<365){const wn=((7&ee)<<18|(63&B[Z++])<<12|(63&B[Z++])<<6|63&B[Z++])-65536;L[pe++]=String.fromCharCode(55296+(wn>>10)),L[pe++]=String.fromCharCode(56320+(1023&wn))}else{const et=B[Z++],Ft=B[Z++];L[pe++]=String.fromCharCode((15&ee)<<12|(63&et)<<6|63&Ft)}}return L.join("")}(this.decodeStringToByteArray(B,L))},decodeStringToByteArray(B,L){this.init_();const Z=L?this.charToByteMapWebSafe_:this.charToByteMap_,pe=[];for(let ee=0;ee<B.length;){const et=Z[B.charAt(ee++)],zt=ee<B.length?Z[B.charAt(ee)]:0;++ee;const _t=ee<B.length?Z[B.charAt(ee)]:64;++ee;const jt=ee<B.length?Z[B.charAt(ee)]:64;if(++ee,null==et||null==zt||null==_t||null==jt)throw Error();pe.push(et<<2|zt>>4),64!==_t&&(pe.push(zt<<4&240|_t>>2),64!==jt&&pe.push(_t<<6&192|jt))}return pe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}},de=function(B){return function(B){const L=oe(B);return ie.encodeByteArray(L,!0)}(B).replace(/\./g,"")},le=function(B){try{return ie.decodeString(B,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function $(B,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return L}for(const Z in L)!L.hasOwnProperty(Z)||!K(Z)||(B[Z]=$(B[Z],L[Z]));return B}function K(B){return"__proto__"!==B}const he=()=>{try{return function Ue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const B=process.env.__FIREBASE_DEFAULTS__;return B?JSON.parse(B):void 0})()||(()=>{if(typeof document>"u")return;let B;try{B=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const L=B&&le(B[1]);return L&&JSON.parse(L)})()}catch(B){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${B}`)}},Pe=()=>{var B;return null===(B=he())||void 0===B?void 0:B.config},Ae=B=>{var L;return null===(L=he())||void 0===L?void 0:L[`_${B}`]};class _e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,Z)=>{this.resolve=L,this.reject=Z})}wrapCallback(L){return(Z,pe)=>{Z?this.reject(Z):this.resolve(pe),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(Z):L(Z,pe))}}}function xe(B,L){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const pe=L||"demo-project",ee=B.iat||0,et=B.sub||B.user_id;if(!et)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ft=Object.assign({iss:`https://securetoken.google.com/${pe}`,aud:pe,iat:ee,exp:ee+3600,auth_time:ee,sub:et,user_id:et,firebase:{sign_in_provider:"custom",identities:{}}},B);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(Ft)),""].join(".")}function Fe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function U(){var B;const L=null===(B=he())||void 0===B?void 0:B.forceEnvironment;if("node"===L)return!0;if("browser"===L)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ye(){return"object"==typeof self&&self.self===self}function W(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function Y(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ne(){const B=Fe();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function lt(){return!U()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xt(){try{return"object"==typeof indexedDB}catch{return!1}}function cn(){return new Promise((B,L)=>{try{let Z=!0;const pe="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(pe);ee.onsuccess=()=>{ee.result.close(),Z||self.indexedDB.deleteDatabase(pe),B(!0)},ee.onupgradeneeded=()=>{Z=!1},ee.onerror=()=>{var et;L((null===(et=ee.error)||void 0===et?void 0:et.message)||"")}}catch(Z){L(Z)}})}function Rt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ft extends Error{constructor(L,Z,pe){super(Z),this.code=L,this.customData=pe,this.name="FirebaseError",Object.setPrototypeOf(this,ft.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yt.prototype.create)}}class Yt{constructor(L,Z,pe){this.service=L,this.serviceName=Z,this.errors=pe}create(L,...Z){const pe=Z[0]||{},ee=`${this.service}/${L}`,et=this.errors[L],Ft=et?function wr(B,L){return B.replace(Nr,(Z,pe)=>{const ee=L[pe];return null!=ee?String(ee):`<${pe}?>`})}(et,pe):"Error";return new ft(ee,`${this.serviceName}: ${Ft} (${ee}).`,pe)}}const Nr=/\{\$([^}]+)}/g;function Cs(B,L){return Object.prototype.hasOwnProperty.call(B,L)}function Pr(B){for(const L in B)if(Object.prototype.hasOwnProperty.call(B,L))return!1;return!0}function ln(B,L){if(B===L)return!0;const Z=Object.keys(B),pe=Object.keys(L);for(const ee of Z){if(!pe.includes(ee))return!1;const et=B[ee],Ft=L[ee];if(Wr(et)&&Wr(Ft)){if(!ln(et,Ft))return!1}else if(et!==Ft)return!1}for(const ee of pe)if(!Z.includes(ee))return!1;return!0}function Wr(B){return null!==B&&"object"==typeof B}function ts(B){const L=[];for(const[Z,pe]of Object.entries(B))Array.isArray(pe)?pe.forEach(ee=>{L.push(encodeURIComponent(Z)+"="+encodeURIComponent(ee))}):L.push(encodeURIComponent(Z)+"="+encodeURIComponent(pe));return L.length?"&"+L.join("&"):""}function yi(B){const L={};return B.replace(/^\?/,"").split("&").forEach(pe=>{if(pe){const[ee,et]=pe.split("=");L[decodeURIComponent(ee)]=decodeURIComponent(et)}}),L}function _n(B){const L=B.indexOf("?");if(!L)return"";const Z=B.indexOf("#",L);return B.substring(L,Z>0?Z:void 0)}function Ts(B,L){const Z=new St(B,L);return Z.subscribe.bind(Z)}class St{constructor(L,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{L(this)}).catch(pe=>{this.error(pe)})}next(L){this.forEachObserver(Z=>{Z.next(L)})}error(L){this.forEachObserver(Z=>{Z.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,Z,pe){let ee;if(void 0===L&&void 0===Z&&void 0===pe)throw new Error("Missing Observer.");ee=function wt(B,L){if("object"!=typeof B||null===B)return!1;for(const Z of L)if(Z in B&&"function"==typeof B[Z])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:Z,complete:pe},void 0===ee.next&&(ee.next=ns),void 0===ee.error&&(ee.error=ns),void 0===ee.complete&&(ee.complete=ns);const et=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch{}}),this.observers.push(ee),et}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,L)}sendOne(L,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{Z(this.observers[L])}catch(pe){typeof console<"u"&&console.error&&console.error(pe)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ns(){}function Ke(B,L=1e3,Z=2){const pe=L*Math.pow(Z,B),ee=Math.round(.5*pe*(Math.random()-.5)*2);return Math.min(144e5,pe+ee)}function Pt(B){return B&&B._delegate?B._delegate:B}},8196:(ct,Ie,k)=>{var h=k(4650);let J=null;function O(){return J}class ae{}const ie=new h.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function de(){return(0,h.LFG)(j)}()},providedIn:"platform"}),n})();const le=new h.OlP("Location Initialized");let j=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){$()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){$()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ie))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function K(){return new j((0,h.LFG)(ie))}()},providedIn:"platform"}),n})();function $(){return!!window.history.pushState}function Ue(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function De(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function $e(n){return n&&"?"!==n[0]?"?"+n:n}let rt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Ce)},providedIn:"root"}),n})();const he=new h.OlP("appBaseHref");let Ce=(()=>{class n extends rt{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ue(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+$e(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const l=this.prepareExternalUrl(i+$e(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,u){const l=this.prepareExternalUrl(i+$e(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(fe),h.LFG(he,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ee=(()=>{class n extends rt{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ue(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let l=this.prepareExternalUrl(i+$e(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,u){let l=this.prepareExternalUrl(i+$e(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(fe),h.LFG(he,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Pe=(()=>{class n{constructor(t){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Fe(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(De(xe(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+$e(r))}normalize(t){return n.stripTrailingSlash(function _e(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._basePath,xe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$e(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$e(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=$e,n.joinWithSlash=Ue,n.stripTrailingSlash=De,n.\u0275fac=function(t){return new(t||n)(h.LFG(rt))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Ae(){return new Pe((0,h.LFG)(rt))}()},providedIn:"root"}),n})();function xe(n){return n.replace(/\/index.html$/,"")}const Oe={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var U=(()=>((U=U||{})[U.Decimal=0]="Decimal",U[U.Percent=1]="Percent",U[U.Currency=2]="Currency",U[U.Scientific=3]="Scientific",U))(),ne=(()=>((ne=ne||{})[ne.Decimal=0]="Decimal",ne[ne.Group=1]="Group",ne[ne.List=2]="List",ne[ne.PercentSign=3]="PercentSign",ne[ne.PlusSign=4]="PlusSign",ne[ne.MinusSign=5]="MinusSign",ne[ne.Exponential=6]="Exponential",ne[ne.SuperscriptingExponent=7]="SuperscriptingExponent",ne[ne.PerMille=8]="PerMille",ne[ne.Infinity=9]="Infinity",ne[ne.NaN=10]="NaN",ne[ne.TimeSeparator=11]="TimeSeparator",ne[ne.CurrencyDecimal=12]="CurrencyDecimal",ne[ne.CurrencyGroup=13]="CurrencyGroup",ne))();function gt(n,e){const t=(0,h.cg1)(n),r=t[h.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===ne.CurrencyDecimal)return t[h.wAp.NumberSymbols][ne.Decimal];if(e===ne.CurrencyGroup)return t[h.wAp.NumberSymbols][ne.Group]}return r}const wn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function uu(n,e,t,r,i){const l=function En(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],u=r[1],l=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],m=l[0],v=l[1]||"";t.posPre=m.substring(0,m.indexOf("#"));for(let S=0;S<v.length;S++){const N=v.charAt(S);"0"===N?t.minFrac=t.maxFrac=S+1:"#"===N?t.maxFrac=S+1:t.posSuf+=N}const I=m.split(",");if(t.gSize=I[1]?I[1].length:0,t.lgSize=I[2]||I[1]?(I[2]||I[1]).length:0,u){const S=i.length-t.posPre.length-t.posSuf.length,N=u.indexOf("#");t.negPre=u.substring(0,N).replace(/'/g,""),t.negSuf=u.slice(N+S).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function gn(n,e){return(0,h.cg1)(n)[h.wAp.NumberFormats][e]}(e,U.Currency),gt(e,ne.MinusSign));return l.minFrac=function yi(n){let e;const t=Oe[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),l.maxFrac=l.minFrac,function na(n,e,t,r,i,u,l=!1){let m="",v=!1;if(isFinite(n)){let I=function Ac(n){let r,i,u,l,m,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(u=e.search(/e/i))>0?(i<0&&(i=u),i+=+e.slice(u+1),e=e.substring(0,u)):i<0&&(i=e.length),u=0;"0"===e.charAt(u);u++);if(u===(m=e.length))r=[0],i=1;else{for(m--;"0"===e.charAt(m);)m--;for(i-=u,r=[],l=0;u<=m;u++,l++)r[l]=Number(e.charAt(u))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);l&&(I=function cd(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(I));let S=e.minInt,N=e.minFrac,V=e.maxFrac;if(u){const Et=u.match(wn);if(null===Et)throw new Error(`${u} is not a valid digit info`);const ot=Et[1],st=Et[3],Ct=Et[5];null!=ot&&(S=ia(ot)),null!=st&&(N=ia(st)),null!=Ct?V=ia(Ct):null!=st&&N>V&&(V=N)}!function ra(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const u=Math.min(Math.max(e,i),t);let l=u+n.integerLen,m=r[l];if(l>0){r.splice(Math.max(n.integerLen,l));for(let N=l;N<r.length;N++)r[N]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,l=u+1),r[0]=0;for(let N=1;N<l;N++)r[N]=0}if(m>=5)if(l-1<0){for(let N=0;N>l;N--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[l-1]++;for(;i<Math.max(0,u);i++)r.push(0);let v=0!==u;const I=e+n.integerLen,S=r.reduceRight(function(N,V,z,Q){return Q[z]=(V+=N)<10?V:V-10,v&&(0===Q[z]&&z>=I?Q.pop():v=!1),V>=10?1:0},0);S&&(r.unshift(S),n.integerLen++)}(I,N,V);let z=I.digits,Q=I.integerLen;const we=I.exponent;let be=[];for(v=z.every(Et=>!Et);Q<S;Q++)z.unshift(0);for(;Q<0;Q++)z.unshift(0);Q>0?be=z.splice(Q,z.length):(be=z,z=[0]);const nt=[];for(z.length>=e.lgSize&&nt.unshift(z.splice(-e.lgSize,z.length).join(""));z.length>e.gSize;)nt.unshift(z.splice(-e.gSize,z.length).join(""));z.length&&nt.unshift(z.join("")),m=nt.join(gt(t,r)),be.length&&(m+=gt(t,i)+be.join("")),we&&(m+=gt(t,ne.Exponential)+"+"+we)}else m=gt(t,ne.Infinity);return m=n<0&&!v?e.negPre+m+e.negSuf:e.posPre+m+e.posSuf,m}(n,l,e,ne.CurrencyGroup,ne.CurrencyDecimal,i).replace("\xa4",t).replace("\xa4","").trim()}function ia(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function dr(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}class Zr{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vi=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Zr(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,l),Rn(m,i)}});for(let i=0,u=r.length;i<u;i++){const m=r.get(i).context;m.index=i,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Rn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Rn(n,e){n.context.$implicit=e.item}let mn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new go,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){qs("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){qs("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class go{constructor(){this.$implicit=null,this.ngIf=null}}function qs(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}function Nn(n,e){return new h.vHH(2100,!1)}class sn{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class lg{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const ii=new lg,ld=new sn;let Ws=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,h.QGY)(t))return ii;if((0,h.F4k)(t))return ld;throw Nn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.sBO,16))},n.\u0275pipe=h.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),_o=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",u,l){if(!function Rc(n){return!(null==n||""===n||n!=n)}(t))return null;l=l||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let m=r||this._defaultCurrencyCode;"code"!==i&&(m="symbol"===i||"symbol-narrow"===i?function pt(n,e,t="en"){const r=function kr(n){return(0,h.cg1)(n)[h.wAp.Currencies]}(t)[n]||Oe[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(m,"symbol"===i?"wide":"narrow",l):i);try{return uu(function fd(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),l,m,r,u)}catch(v){throw Nn()}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.soG,16),h.Y36(h.EJc,16))},n.\u0275pipe=h.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();let bi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function kc(n){return"server"===n}let As=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new ca((0,h.LFG)(ie),window)}),n})();class ca{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function du(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Qs(this.window.history)||Qs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Qs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class xs{}class lf extends ae{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Rs extends lf{static makeCurrent(){!function oe(n){J||(J=n)}(new Rs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function bu(){return ai=ai||document.querySelector("base"),ai?ai.getAttribute("href"):null}();return null==t?null:function zc(n){Di=Di||document.createElement("a"),Di.setAttribute("href",n);const e=Di.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ai=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return dr(document.cookie,e)}}let Di,ai=null;const Td=new h.OlP("TRANSITION_ID"),_a=[{provide:h.ip1,useFactory:function To(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=O(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[Td,ie,h.zs3],multi:!0}];let qc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const va=new h.OlP("EventManagerPlugins");let $i=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const l=i[u];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(va),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Wc{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=O().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Sd=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ns=(()=>{class n extends Sd{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(u=>{const l=this._doc.createElement("style");l.textContent=u,i.push(r.appendChild(l))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Zc),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Zc))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ie))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Zc(n){O().remove(n)}const yn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},So=/%COMP%/g;function xo(n,e){return e.flat(100).map(t=>t.replace(So,n))}function os(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let eo=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ks(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case h.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Xr(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case h.ifc.ShadowDom:return new Kc(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=xo(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG($i),h.LFG(Ns),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class ks{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(yn[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Su(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Su(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=yn[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=yn[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,i&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,os(r)):this.eventManager.addEventListener(e,t,os(r))}}function Su(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Xr extends ks{constructor(e,t,r,i){super(e),this.component=r;const u=xo(i+"-"+r.id,r.styles);t.addStyles(u),this.contentAttr=function Cu(n){return"_ngcontent-%COMP%".replace(So,n)}(i+"-"+r.id),this.hostAttr=function Tu(n){return"_nghost-%COMP%".replace(So,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Kc extends ks{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=xo(i.id,i.styles);for(let l=0;l<u.length;l++){const m=document.createElement("style");m.textContent=u[l],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Mo=(()=>{class n extends Wc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ie))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Ps=["alt","control","meta","shift"],Au={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xu={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Yc=(()=>{class n extends Wc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let l="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),l="code."),Ps.forEach(I=>{const S=r.indexOf(I);S>-1&&(r.splice(S,1),l+=I+".")}),l+=u,0!=r.length||0===u.length)return null;const v={};return v.domEventName=i,v.fullKey=l,v}static matchEventFullKeyCode(t,r){let i=Au[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(i=t.code,u="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ps.forEach(l=>{l!==i&&(0,xu[l])(t)&&(u+=l+".")}),u+=i,u===r)}static eventCallback(t,r,i){return u=>{n.matchEventFullKeyCode(u,t)&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ie))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Jc=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function Ru(){Rs.makeCurrent()},multi:!0},{provide:ie,useFactory:function Ci(){return(0,h.RDi)(document),document},deps:[]}]),Ti=new h.OlP(""),ci=[{provide:h.rWj,useClass:class ui{addToWindow(e){h.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const i=h.dqk.getAllAngularTestabilities();let u=i.length,l=!1;const m=function(v){l=l||v,u--,0==u&&r(l)};i.forEach(function(v){v.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],df=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function Ia(){return new h.qLn},deps:[]},{provide:va,useClass:Mo,multi:!0,deps:[ie,h.R0b,h.Lbi]},{provide:va,useClass:Yc,multi:!0,deps:[ie]},{provide:eo,useClass:eo,deps:[$i,Ns,h.AFp]},{provide:h.FYo,useExisting:eo},{provide:Sd,useExisting:Ns},{provide:Ns,useClass:Ns,deps:[ie]},{provide:$i,useClass:$i,deps:[va,h.R0b]},{provide:xs,useClass:qc,deps:[]},[]];let xd=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:Td,useExisting:h.AFp},_a]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ti,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[...df,...ci],imports:[bi,h.hGG]}),n})(),Hi=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ie))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function el(){return new Hi((0,h.LFG)(ie))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var an=k(8996),Pn=k(7669);function Qe(...n){const e=(0,Pn.yG)(n);return(0,an.D)(n,e)}var Kn=k(7579);class sr extends Kn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Fu=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Un=k(9751);const{isArray:il}=Array,{getPrototypeOf:us,prototype:Ef,keys:Pd}=Object;function ko(n){if(1===n.length){const e=n[0];if(il(e))return{args:e,keys:null};if(function Aa(n){return n&&"object"==typeof n&&us(n)===Ef}(e)){const t=Pd(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var no=k(4671),at=k(4004);const{isArray:D}=Array;function x(n){return(0,at.U)(e=>function C(n,e){return D(e)?n(...e):n(e)}(n,e))}function F(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var H=k(5403),te=k(9672);function Se(...n){const e=(0,Pn.yG)(n),t=(0,Pn.jO)(n),{args:r,keys:i}=ko(n);if(0===r.length)return(0,an.D)([],e);const u=new Un.y(function Xe(n,e,t=no.y){return r=>{it(e,()=>{const{length:i}=n,u=new Array(i);let l=i,m=i;for(let v=0;v<i;v++)it(e,()=>{const I=(0,an.D)(n[v],e);let S=!1;I.subscribe((0,H.x)(r,N=>{u[v]=N,S||(S=!0,m--),m||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>F(i,l):no.y));return t?u.pipe(x(t)):u}function it(n,e,t){n?(0,te.f)(t,n,e):e()}var Je=k(8189);function bt(...n){return function Nt(){return(0,Je.J)(1)}()((0,an.D)(n,(0,Pn.yG)(n)))}var mr=k(8421);function Bn(n){return new Un.y(e=>{(0,mr.Xf)(n()).subscribe(e)})}var xa=k(9635),Ma=k(576);function zi(n,e){const t=(0,Ma.m)(n)?n:()=>n,r=i=>i.error(t());return new Un.y(e?i=>e.schedule(r,0,i):r)}var Yn=k(515),qi=k(727),bn=k(4482);function Fd(){return(0,bn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,H.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class gg extends Un.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,bn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new qi.w0;const t=this.getSubject();e.add(this.source.subscribe((0,H.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=qi.w0.EMPTY)}return e}refCount(){return Fd()(this)}}function jn(n,e){return(0,bn.e)((t,r)=>{let i=null,u=0,l=!1;const m=()=>l&&!i&&r.complete();t.subscribe((0,H.x)(r,v=>{i?.unsubscribe();let I=0;const S=u++;(0,mr.Xf)(n(v,S)).subscribe(i=(0,H.x)(r,N=>r.next(e?e(v,N,S,I++):N),()=>{i=null,m()}))},()=>{l=!0,m()}))})}function Lu(n){return n<=0?()=>Yn.E:(0,bn.e)((e,t)=>{let r=0;e.subscribe((0,H.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function sl(...n){const e=(0,Pn.yG)(n);return(0,bn.e)((t,r)=>{(e?bt(n,t,e):bt(n,t)).subscribe(r)})}function cs(n,e){return(0,bn.e)((t,r)=>{let i=0;t.subscribe((0,H.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}var Br=k(5577);function Ld(n){return(0,bn.e)((e,t)=>{let r=!1;e.subscribe((0,H.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ra(n=ew){return(0,bn.e)((e,t)=>{let r=!1;e.subscribe((0,H.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function ew(){return new Fu}function Po(n,e){const t=arguments.length>=2;return r=>r.pipe(n?cs((i,u)=>n(i,u,r)):no.y,Lu(1),t?Ld(e):Ra(()=>new Fu))}function Fs(n,e){return(0,Ma.m)(e)?(0,Br.z)(n,e,1):(0,Br.z)(n,1)}var ei=k(8505);function Na(n){return(0,bn.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,H.x)(t,void 0,void 0,l=>{u=(0,mr.Xf)(n(l,Na(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}function tw(n,e,t,r,i){return(u,l)=>{let m=t,v=e,I=0;u.subscribe((0,H.x)(l,S=>{const N=I++;v=m?n(v,S,N):(m=!0,S),r&&l.next(v)},i&&(()=>{m&&l.next(v),l.complete()})))}}function Vd(n,e){return(0,bn.e)(tw(n,e,arguments.length>=2,!0))}function mg(n){return n<=0?()=>Yn.E:(0,bn.e)((e,t)=>{let r=[];e.subscribe((0,H.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Ud(n,e){const t=arguments.length>=2;return r=>r.pipe(n?cs((i,u)=>n(i,u,r)):no.y,mg(1),t?Ld(e):Ra(()=>new Fu))}function Bd(n){return(0,bn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Gt="primary",Vu=Symbol("RouteTitle");class ls{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Uu(n){return new ls(n)}function qy(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const l=r[u],m=n[u];if(l.startsWith(":"))i[l.substring(1)]=m;else if(l!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ds(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!Bu(n[i],e[i]))return!1;return!0}function Bu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function _g(n){return Array.prototype.concat.apply([],n)}function jd(n){return n.length>0?n[n.length-1]:null}function or(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Fo(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,an.D)(Promise.resolve(n)):Qe(n)}const ju=!1,li={exact:function Cr(n,e,t){if(!Vo(n.segments,e.segments)||!ul(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Cr(n.children[r],e.children[r],t))return!1;return!0},subset:Df},ol={exact:function bf(n,e){return ds(n,e)},subset:function al(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Bu(n[t],e[t]))},ignored:()=>!0};function $d(n,e,t){return li[t.paths](n.root,e.root,t.matrixParams)&&ol[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Df(n,e,t){return Cf(n,e,e.segments,t)}function Cf(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Vo(i,t)||e.hasChildren()||!ul(i,t,r))}if(n.segments.length===t.length){if(!Vo(n.segments,t)||!ul(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Df(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Vo(n.segments,i)&&ul(n.segments,i,r)&&n.children[Gt])&&Cf(n.children[Gt],e,u,r)}}function ul(n,e,t){return e.every((r,i)=>ol[t](n[i].parameters,r.parameters))}class Lo{constructor(e=new qt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uu(this.queryParams)),this._queryParamMap}toString(){return Sf.serialize(this)}}class qt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,or(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hd(this)}}class Wi{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Uu(this.parameters)),this._parameterMap}toString(){return zd(this)}}function Vo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let cl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return new Oa},providedIn:"root"}),n})();class Oa{parse(e){const t=new Qy(e);return new Lo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${hs(e.root,!0)}`,r=function Eg(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Gd(t)}=${Gd(i)}`).join("&"):`${Gd(t)}=${Gd(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function ll(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Sf=new Oa;function Hd(n){return n.segments.map(e=>zd(e)).join("/")}function hs(n,e){if(!n.hasChildren())return Hd(n);if(e){const t=n.children[Gt]?hs(n.children[Gt],!1):"",r=[];return or(n.children,(i,u)=>{u!==Gt&&r.push(`${u}:${hs(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Tf(n,e){let t=[];return or(n.children,(r,i)=>{i===Gt&&(t=t.concat(e(r,i)))}),or(n.children,(r,i)=>{i!==Gt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Gt?[hs(n.children[Gt],!1)]:[`${i}:${hs(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Gt]?`${Hd(n)}/${t[0]}`:`${Hd(n)}/(${t.join("//")})`}}function vg(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gd(n){return vg(n).replace(/%3B/gi,";")}function dl(n){return vg(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hl(n){return decodeURIComponent(n)}function ka(n){return hl(n.replace(/\+/g,"%20"))}function zd(n){return`${dl(n.path)}${function wg(n){return Object.keys(n).map(e=>`;${dl(e)}=${dl(n[e])}`).join("")}(n.parameters)}`}const fl=/^[^\/()?;=#]+/;function qd(n){const e=n.match(fl);return e?e[0]:""}const Ky=/^[^=?&#]+/,xf=/^[^&#]+/;class Qy{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qt([],{}):new qt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Gt]=new qt(e,t)),r}parseSegment(){const e=qd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,ju);return this.capture(e),new Wi(hl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=qd(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=qd(this.remaining);i&&(r=i,this.capture(r))}e[hl(t)]=hl(r)}parseQueryParam(e){const t=function Af(n){const e=n.match(Ky);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function Yy(n){const e=n.match(xf);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=ka(t),u=ka(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=qd(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new h.vHH(4010,ju);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Gt);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[Gt]:new qt([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,ju)}}function Pa(n){return n.segments.length>0?new qt([],{[Gt]:n}):n}function $u(n){const e={};for(const r of Object.keys(n.children)){const u=$u(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Ig(n){if(1===n.numberOfChildren&&n.children[Gt]){const e=n.children[Gt];return new qt(n.segments.concat(e.segments),e.children)}return n}(new qt(n.segments,e))}function ro(n){return n instanceof Lo}function Fa(n,e,t,r,i){if(0===t.length)return La(e.root,e.root,e.root,r,i);const u=function Cg(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new pl(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return or(u.outlets,(v,I)=>{m[I]="string"==typeof v?v.split("/"):v}),[...i,{outlets:m}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===l?(u.split("/").forEach((m,v)=>{0==v&&"."===m||(0==v&&""===m?t=!0:".."===m?e++:""!=m&&i.push(m))}),i):[...i,u]},[]);return new pl(t,e,r)}(t);return u.toRoot()?La(e.root,e.root,new qt([],{}),r,i):function l(v){const I=function Zd(n,e,t,r){if(n.isAbsolute)return new Va(e.root,!0,0);if(-1===r)return new Va(t,t===e.root,0);return function Gu(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new h.vHH(4005,!1);i=r.segments.length}return new Va(r,!1,i-u)}(t,r+(Ls(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,v),S=I.processChildren?Vs(I.segmentGroup,I.index,u.commands):zu(I.segmentGroup,I.index,u.commands);return La(e.root,I.segmentGroup,S,r,i)}(n.snapshot?._lastPathIndex)}function Ls(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Hu(n){return"object"==typeof n&&null!=n&&n.outlets}function La(n,e,t,r,i){let l,u={};r&&or(r,(v,I)=>{u[I]=Array.isArray(v)?v.map(S=>`${S}`):`${v}`}),l=n===e?t:Xy(n,e,t);const m=Pa($u(l));return new Lo(m,u,i)}function Xy(n,e,t){const r={};return or(n.children,(i,u)=>{r[u]=i===e?t:Xy(i,e,t)}),new qt(n.segments,r)}class pl{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ls(r[0]))throw new h.vHH(4003,!1);const i=r.find(Hu);if(i&&i!==jd(r))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Va{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function zu(n,e,t){if(n||(n=new qt([],{})),0===n.segments.length&&n.hasChildren())return Vs(n,e,t);const r=function Tg(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const l=n.segments[i],m=t[r];if(Hu(m))break;const v=`${m}`,I=r<t.length-1?t[r+1]:null;if(i>0&&void 0===v)break;if(v&&I&&"object"==typeof I&&void 0===I.outlets){if(!qu(v,I,l))return u;r+=2}else{if(!qu(v,{},l))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new qt(n.segments.slice(0,r.pathIndex),{});return u.children[Gt]=new qt(n.segments.slice(r.pathIndex),n.children),Vs(u,0,i)}return r.match&&0===i.length?new qt(n.segments,{}):r.match&&!n.hasChildren()?Tr(n,e,t):r.match?Vs(n,0,i):Tr(n,e,t)}function Vs(n,e,t){if(0===t.length)return new qt(n.segments,{});{const r=function Rf(n){return Hu(n[0])?n[0].outlets:{[Gt]:n}}(t),i={};return or(r,(u,l)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[l]=zu(n.children[l],e,u))}),or(n.children,(u,l)=>{void 0===r[l]&&(i[l]=u)}),new qt(n.segments,i)}}function Tr(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(Hu(u)){const v=Ua(u.outlets);return new qt(r,v)}if(0===i&&Ls(t[0])){r.push(new Wi(n.segments[e].path,gl(t[0]))),i++;continue}const l=Hu(u)?u.outlets[Gt]:`${u}`,m=i<t.length-1?t[i+1]:null;l&&m&&Ls(m)?(r.push(new Wi(l,gl(m))),i+=2):(r.push(new Wi(l,{})),i++)}return new qt(r,{})}function Ua(n){const e={};return or(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Tr(new qt([],{}),0,t))}),e}function gl(n){const e={};return or(n,(t,r)=>e[r]=`${t}`),e}function qu(n,e,t){return n==t.path&&ds(e,t.parameters)}const Ba="imperative";class Si{constructor(e,t){this.id=e,this.url=t}}class Nf extends Si{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Uo extends Si{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Kd extends Si{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Us extends Si{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Yd extends Si{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qd extends Si{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Of extends Si{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ja extends Si{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Sg extends Si{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class di extends Si{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ag{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class kf{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Pf{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class io{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wu{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ml{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yl{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Mg=(()=>{class n{createUrlTree(t,r,i,u,l,m){return Fa(t||r.root,i,u,l,m)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),e_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(e){return Mg.\u0275fac(e)},providedIn:"root"}),n})();class Rg{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=f(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return f(e,this._root).map(t=>t.value)}}function _(n,e){if(n===e.value)return e;for(const t of e.children){const r=_(n,t);if(r)return r}return null}function f(n,e){if(n===e.value)return[e];for(const t of e.children){const r=f(n,t);if(r.length)return r.unshift(e),r}return[]}class g{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function w(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class A extends Rg{constructor(e,t){super(e),this.snapshot=t,$n(this,e)}toString(){return this.snapshot.toString()}}function R(n,e){const t=function q(n,e){const l=new vt([],{},{},"",{},Gt,e,null,n.root,-1,{});return new ht("",new g(l,[]))}(n,e),r=new sr([new Wi("",{})]),i=new sr({}),u=new sr({}),l=new sr({}),m=new sr(""),v=new ce(r,i,l,m,u,Gt,e,t.root);return v.snapshot=t.root,new A(new g(v,[]),t)}class ce{constructor(e,t,r,i,u,l,m,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=l,this.component=m,this.title=this.data?.pipe((0,at.U)(I=>I[Vu]))??Qe(void 0),this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,at.U)(e=>Uu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,at.U)(e=>Uu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Be(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function Ye(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class vt{get title(){return this.data?.[Vu]}constructor(e,t,r,i,u,l,m,v,I,S,N){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=l,this.component=m,this.routeConfig=v,this._urlSegment=I,this._lastPathIndex=S,this._resolve=N}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Uu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ht extends Rg{constructor(e,t){super(t),this.url=e,$n(this,t)}toString(){return Zi(this._root)}}function $n(n,e){e.value._routerState=n,e.children.forEach(t=>$n(n,t))}function Zi(n){const e=n.children.length>0?` { ${n.children.map(Zi).join(", ")} } `:"";return`${n.value}${e}`}function Zu(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ds(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ds(e.params,t.params)||n.params.next(t.params),function Wy(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ds(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ds(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Xd(n,e){const t=ds(n.params,e.params)&&function Zy(n,e){return Vo(n,e)&&n.every((t,r)=>ds(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Xd(n.parent,e.parent))}function hi(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Ku(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return hi(n,r,i);return hi(n,r)})}(n,e,t);return new g(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(m=>hi(n,m)),l}}const r=function Jd(n){return new ce(new sr(n.url),new sr(n.params),new sr(n.queryParams),new sr(n.fragment),new sr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>hi(n,u));return new g(r,i)}}const vl="ngNavigationCancelingError";function eh(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ro(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Lf(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Lf(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[vl]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Ng(n){return t_(n)&&ro(n.url)}function t_(n){return n&&n[vl]}class wl{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new $a,this.attachRef=null}}let $a=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new wl,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const n_=!1;let iw=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Gt,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)($a),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,n_);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,n_);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,n_);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new h.vHH(4013,n_);this._activatedRoute=t;const i=this.location,l=t.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,v=new sw(t,m,i.injector);if(r&&function Zb(n){return!!n.resolveComponentFactory}(r)){const I=r.resolveComponentFactory(l);this.activated=i.createComponent(I,i.length,v)}else this.activated=i.createComponent(l,{index:i.length,injector:v,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]}),n})();class sw{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ce?this.route:e===$a?this.childContexts:this.parent.get(e,t)}}let r_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},dependencies:[iw],encapsulation:2}),n})();function ow(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function s_(n){const e=n.children&&n.children.map(s_),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Gt&&(t.component=r_),t}function Ki(n){return n.outlet||Gt}function o_(n,e){const t=n.filter(r=>Ki(r)===e);return t.push(...n.filter(r=>Ki(r)!==e)),t}function Uf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Jb{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Zu(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=w(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,i[l],r),delete i[l]}),or(i,(u,l)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=w(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],i);if(r&&r.outlet){const l=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=w(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=w(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new ml(u.value.snapshot))}),e.children.length&&this.forwardEvent(new io(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(Zu(i),i===u)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(m.contexts),l.attachRef=m.componentRef,l.route=m.route.value,l.outlet&&l.outlet.attach(m.componentRef,m.route.value),Zu(m.route.value),this.activateChildRoutes(e,null,l.children)}else{const m=Uf(i.snapshot),v=m?.get(h._Vd)??null;l.attachRef=null,l.route=i,l.resolver=v,l.injector=m,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class aw{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Bf{constructor(e,t){this.component=e,this.route=t}}function JA(n,e,t){const r=n._root;return El(r,e?e._root:null,t,[r.value])}function Bo(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,h.Z0I)(n)?e.get(n):n:r}function El(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=w(e);return n.children.forEach(l=>{(function uw(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const v=function cw(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Vo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Vo(n.url,e.url)||!ds(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xd(n,e)||!ds(n.queryParams,e.queryParams);default:return!Xd(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);v?i.canActivateChecks.push(new aw(r)):(u.data=l.data,u._resolvedData=l._resolvedData),El(n,e,u.component?m?m.children:null:t,r,i),v&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new Bf(m.outlet.component,l))}else l&&th(e,m,i),i.canActivateChecks.push(new aw(r)),El(n,null,u.component?m?m.children:null:t,r,i)})(l,u[l.value.outlet],t,r.concat([l.value]),i),delete u[l.value.outlet]}),or(u,(l,m)=>th(l,t.getContext(m),i)),i}function th(n,e,t){const r=w(n),i=n.value;or(r,(u,l)=>{th(u,i.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new Bf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function jf(n){return"function"==typeof n}function Og(n){return n instanceof Fu||"EmptyError"===n?.name}const $f=Symbol("INITIAL_VALUE");function Bs(){return jn(n=>Se(n.map(e=>e.pipe(Lu(1),sl($f)))).pipe((0,at.U)(e=>{for(const t of e)if(!0!==t){if(t===$f)return $f;if(!1===t||t instanceof Lo)return t}return!0}),cs(e=>e!==$f),Lu(1)))}function fw(n){return(0,xa.z)((0,ei.b)(e=>{if(ro(e))throw eh(0,e)}),(0,at.U)(e=>!0===e))}const Fg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bl(n,e,t,r,i){const u=f_(n,e,t);return u.matched?function rD(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Qe(i.map(l=>{const m=Bo(l,n);return Fo(function u_(n){return n&&jf(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))})).pipe(Bs(),fw()):Qe(!0)}(r=ow(e,r),e,t).pipe((0,at.U)(l=>!0===l?u:{...Fg})):Qe(u)}function f_(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Fg}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||qy)(t,n,e);if(!i)return{...Fg};const u={};or(i.posParams,(m,v)=>{u[v]=m.path});const l=i.consumed.length>0?{...u,...i.consumed[i.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function Lg(n,e,t,r){if(t.length>0&&function sD(n,e,t){return t.some(r=>Vg(n,e,r)&&Ki(r)!==Gt)}(n,t,r)){const u=new qt(e,function p_(n,e,t,r){const i={};i[Gt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Ki(u)!==Gt){const l=new qt([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,i[Ki(u)]=l}return i}(n,e,r,new qt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function pw(n,e,t){return t.some(r=>Vg(n,e,r))}(n,t,r)){const u=new qt(n.segments,function iD(n,e,t,r,i){const u={};for(const l of r)if(Vg(n,t,l)&&!i[Ki(l)]){const m=new qt([],{});m._sourceSegment=n,m._segmentIndexShift=e.length,u[Ki(l)]=m}return{...i,...u}}(n,e,t,r,n.children));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const i=new qt(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Vg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function g_(n,e,t,r){return!!(Ki(n)===r||r!==Gt&&Vg(e,t,n))&&("**"===n.path||f_(e,n,t).matched)}function oD(n,e,t){return 0===e.length&&!n.children[t]}const Ug=!1;class Yu{constructor(e){this.segmentGroup=e||null}}class gw{constructor(e){this.urlTree=e}}function jo(n){return zi(new Yu(n))}function nh(n){return zi(new gw(n))}class cD{constructor(e,t,r,i,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0}apply(){const e=Lg(this.urlTree.root,[],[],this.config).segmentGroup,t=new qt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Gt).pipe((0,at.U)(u=>this.createUrlTree($u(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Na(u=>{if(u instanceof gw)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Yu?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Gt).pipe((0,at.U)(i=>this.createUrlTree($u(i),e.queryParams,e.fragment))).pipe(Na(i=>{throw i instanceof Yu?this.noMatchError(i):i}))}noMatchError(e){return new h.vHH(4002,Ug)}createUrlTree(e,t,r){const i=Pa(e);return new Lo(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,at.U)(u=>new qt([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,an.D)(i).pipe(Fs(u=>{const l=r.children[u],m=o_(t,u);return this.expandSegmentGroup(e,m,l,u).pipe((0,at.U)(v=>({segment:v,outlet:u})))}),Vd((u,l)=>(u[l.outlet]=l.segment,u),{}),Ud())}expandSegment(e,t,r,i,u,l){return(0,an.D)(r).pipe(Fs(m=>this.expandSegmentAgainstRoute(e,t,r,m,i,u,l).pipe(Na(I=>{if(I instanceof Yu)return Qe(null);throw I}))),Po(m=>!!m),Na((m,v)=>{if(Og(m))return oD(t,i,u)?Qe(new qt([],{})):jo(t);throw m}))}expandSegmentAgainstRoute(e,t,r,i,u,l,m){return g_(i,t,u,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,l):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,l):jo(t):jo(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?nh(u):this.lineralizeSegments(r,u).pipe((0,Br.z)(l=>{const m=new qt(l,{});return this.expandSegment(e,m,t,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,l){const{matched:m,consumedSegments:v,remainingSegments:I,positionalParamSegments:S}=f_(t,i,u);if(!m)return jo(t);const N=this.applyRedirectCommands(v,i.redirectTo,S);return i.redirectTo.startsWith("/")?nh(N):this.lineralizeSegments(i,N).pipe((0,Br.z)(V=>this.expandSegment(e,t,r,V.concat(I),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){return"**"===r.path?(e=ow(r,e),r.loadChildren?(r._loadedRoutes?Qe({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,at.U)(m=>(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,new qt(i,{})))):Qe(new qt(i,{}))):bl(t,r,i,e).pipe(jn(({matched:l,consumedSegments:m,remainingSegments:v})=>l?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Br.z)(S=>{const N=S.injector??e,V=S.routes,{segmentGroup:z,slicedSegments:Q}=Lg(t,m,v,V),we=new qt(z.segments,z.children);if(0===Q.length&&we.hasChildren())return this.expandChildren(N,V,we).pipe((0,at.U)(ot=>new qt(m,ot)));if(0===V.length&&0===Q.length)return Qe(new qt(m,{}));const be=Ki(r)===u;return this.expandSegment(N,we,V,Q,be?Gt:u,!0).pipe((0,at.U)(Et=>new qt(m.concat(Et.segments),Et.children)))})):jo(t)))}getChildConfig(e,t,r){return t.children?Qe({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Qe({routes:t._loadedRoutes,injector:t._loadedInjector}):function h_(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Qe(!0):Qe(i.map(l=>{const m=Bo(l,n);return Fo(function lw(n){return n&&jf(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))})).pipe(Bs(),fw())}(e,t,r).pipe((0,Br.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,ei.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function mw(n){return zi(Lf(Ug,3))}())):Qe({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Qe(r);if(i.numberOfChildren>1||!i.children[Gt])return zi(new h.vHH(4e3,Ug));i=i.children[Gt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new Lo(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return or(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const m=i.substring(1);r[u]=t[m]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let l={};return or(t.children,(m,v)=>{l[v]=this.createSegmentGroup(e,m,r,i)}),new qt(u,l)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new h.vHH(4001,Ug);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class yw{}class dD{constructor(e,t,r,i,u,l,m){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=u,this.paramsInheritanceStrategy=l,this.urlSerializer=m}recognize(){const e=Lg(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Gt).pipe((0,at.U)(t=>{if(null===t)return null;const r=new vt([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Gt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new g(r,t),u=new ht(this.url,i);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=Be(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,an.D)(Object.keys(r.children)).pipe(Fs(i=>{const u=r.children[i],l=o_(t,i);return this.processSegmentGroup(e,l,u,i)}),Vd((i,u)=>i&&u?(i.push(...u),i):null),function yg(n,e=!1){return(0,bn.e)((t,r)=>{let i=0;t.subscribe((0,H.x)(r,u=>{const l=n(u,i++);(l||e)&&r.next(u),!l&&r.complete()}))})}(i=>null!==i),Ld(null),Ud(),(0,at.U)(i=>{if(null===i)return null;const u=_w(i);return function v_(n){n.sort((e,t)=>e.value.outlet===Gt?-1:t.value.outlet===Gt?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,i,u){return(0,an.D)(t).pipe(Fs(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,i,u)),Po(l=>!!l),Na(l=>{if(Og(l))return oD(r,i,u)?Qe([]):Qe(null);throw l}))}processSegmentAgainstRoute(e,t,r,i,u){if(t.redirectTo||!g_(t,r,i,u))return Qe(null);let l;if("**"===t.path){const m=i.length>0?jd(i).parameters:{},v=ww(r)+i.length;l=Qe({snapshot:new vt(i,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ew(t),Ki(t),t.component??t._loadedComponent??null,t,vw(r),v,Dl(t)),consumedSegments:[],remainingSegments:[]})}else l=bl(r,t,i,e).pipe((0,at.U)(({matched:m,consumedSegments:v,remainingSegments:I,parameters:S})=>{if(!m)return null;const N=ww(r)+v.length;return{snapshot:new vt(v,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ew(t),Ki(t),t.component??t._loadedComponent??null,t,vw(r),N,Dl(t)),consumedSegments:v,remainingSegments:I}}));return l.pipe(jn(m=>{if(null===m)return Qe(null);const{snapshot:v,consumedSegments:I,remainingSegments:S}=m;e=t._injector??e;const N=t._loadedInjector??e,V=function Hf(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:z,slicedSegments:Q}=Lg(r,I,S,V.filter(be=>void 0===be.redirectTo));if(0===Q.length&&z.hasChildren())return this.processChildren(N,V,z).pipe((0,at.U)(be=>null===be?null:[new g(v,be)]));if(0===V.length&&0===Q.length)return Qe([new g(v,[])]);const we=Ki(t)===u;return this.processSegment(N,V,z,Q,we?Gt:u).pipe((0,at.U)(be=>null===be?null:[new g(v,be)]))}))}}function hD(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function _w(n){const e=[],t=new Set;for(const r of n){if(!hD(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=_w(r.children);e.push(new g(r.value,i))}return e.filter(r=>!t.has(r))}function vw(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ww(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Ew(n){return n.data||{}}function Dl(n){return n.resolve||{}}function mD(n){return"string"==typeof n.title||null===n.title}function Bg(n){return jn(e=>{const t=n(e);return t?(0,an.D)(t).pipe((0,at.U)(()=>e)):Qe(e)})}const Cl=new h.OlP("ROUTES");let w_=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Qe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Fo(t.loadComponent()).pipe((0,at.U)(js),(0,ei.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Bd(()=>{this.componentLoaders.delete(t)})),i=new gg(r,()=>new Kn.x).pipe(Fd());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Qe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,at.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let v,I,S=!1;Array.isArray(m)?I=m:(v=m.create(t).injector,I=_g(v.get(Cl,[],h.XFs.Self|h.XFs.Optional)));return{routes:I.map(s_),injector:v}}),Bd(()=>{this.childrenLoaders.delete(r)})),l=new gg(u,()=>new Kn.x).pipe(Fd());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return Fo(t()).pipe((0,at.U)(js),(0,Br.z)(i=>i instanceof h.YKP||Array.isArray(i)?Qe(i):(0,an.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.zs3),h.LFG(h.Sil))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function js(n){return function yD(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Gf=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Kn.x,this.configLoader=(0,h.f3M)(w_),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(cl),this.rootContexts=(0,h.f3M)($a),this.navigationId=0,this.afterPreactivation=()=>Qe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new kf(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Ag(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new sr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ba,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(cs(r=>0!==r.id),(0,at.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),jn(r=>{let i=!1,u=!1;return Qe(r).pipe((0,ei.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),jn(l=>{const m=t.browserUrlTree.toString(),v=!t.navigated||l.extractedUrl.toString()!==m||m!==t.currentUrlTree.toString();if(!v&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const S="";return this.events.next(new Us(l.id,t.serializeUrl(r.rawUrl),S,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),Yn.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Cw(l.source)&&(t.browserUrlTree=l.extractedUrl),Qe(l).pipe(jn(S=>{const N=this.transitions?.getValue();return this.events.next(new Nf(S.id,this.urlSerializer.serialize(S.extractedUrl),S.source,S.restoredState)),N!==this.transitions?.getValue()?Yn.E:Promise.resolve(S)}),function lD(n,e,t,r){return jn(i=>function uD(n,e,t,r,i){return new cD(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,at.U)(u=>({...i,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,ei.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},r.urlAfterRedirects=S.urlAfterRedirects}),function Ha(n,e,t,r,i){return(0,Br.z)(u=>function __(n,e,t,r,i,u,l="emptyOnly"){return new dD(n,e,t,r,i,l,u).recognize().pipe(jn(m=>null===m?function y_(n){return new Un.y(e=>e.error(n))}(new yw):Qe(m)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,i).pipe((0,at.U)(l=>({...u,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,ei.b)(S=>{if(r.targetSnapshot=S.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!S.extras.skipLocationChange){const V=t.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);t.setBrowserUrl(V,S)}t.browserUrlTree=S.urlAfterRedirects}const N=new Qd(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(N)}));if(v&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:S,extractedUrl:N,source:V,restoredState:z,extras:Q}=l,we=new Nf(S,this.urlSerializer.serialize(N),V,z);this.events.next(we);const be=R(N,this.rootComponentType).snapshot;return Qe(r={...l,targetSnapshot:be,urlAfterRedirects:N,extras:{...Q,skipLocationChange:!1,replaceUrl:!1}})}{const S="";return this.events.next(new Us(l.id,t.serializeUrl(r.extractedUrl),S,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),Yn.E}}),(0,ei.b)(l=>{const m=new Of(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(m)}),(0,at.U)(l=>r={...l,guards:JA(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function tD(n,e){return(0,Br.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?Qe({...t,guardsResult:!0}):function l_(n,e,t,r){return(0,an.D)(n).pipe((0,Br.z)(i=>function hw(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?Qe(u.map(m=>{const v=Uf(e)??i,I=Bo(m,v);return Fo(function tx(n){return n&&jf(n.canDeactivate)}(I)?I.canDeactivate(n,e,t,r):v.runInContext(()=>I(n,e,t,r))).pipe(Po())})).pipe(Bs()):Qe(!0)}(i.component,i.route,t,e,r)),Po(i=>!0!==i,!0))}(l,r,i,n).pipe((0,Br.z)(m=>m&&function eD(n){return"boolean"==typeof n}(m)?function kg(n,e,t,r){return(0,an.D)(e).pipe(Fs(i=>bt(function d_(n,e){return null!==n&&e&&e(new Pf(n)),Qe(!0)}(i.route.parent,r),function nD(n,e){return null!==n&&e&&e(new Wu(n)),Qe(!0)}(i.route,r),function Il(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function ex(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Bn(()=>Qe(l.guards.map(v=>{const I=Uf(l.node)??t,S=Bo(v,I);return Fo(function a_(n){return n&&jf(n.canActivateChild)}(S)?S.canActivateChild(r,n):I.runInContext(()=>S(r,n))).pipe(Po())})).pipe(Bs())));return Qe(u).pipe(Bs())}(n,i.path,t),function Pg(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Qe(!0);const i=r.map(u=>Bn(()=>{const l=Uf(e)??t,m=Bo(u,l);return Fo(function dw(n){return n&&jf(n.canActivate)}(m)?m.canActivate(e,n):l.runInContext(()=>m(e,n))).pipe(Po())}));return Qe(i).pipe(Bs())}(n,i.route,t))),Po(i=>!0!==i,!0))}(r,u,n,e):Qe(m)),(0,at.U)(m=>({...t,guardsResult:m})))})}(this.environmentInjector,l=>this.events.next(l)),(0,ei.b)(l=>{if(r.guardsResult=l.guardsResult,ro(l.guardsResult))throw eh(0,l.guardsResult);const m=new ja(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(m)}),cs(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3,t),!1)),Bg(l=>{if(l.guards.canActivateChecks.length)return Qe(l).pipe((0,ei.b)(m=>{const v=new Sg(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}),jn(m=>{let v=!1;return Qe(m).pipe(function pD(n,e){return(0,Br.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Qe(t);let u=0;return(0,an.D)(i).pipe(Fs(l=>function gD(n,e,t,r){const i=n.routeConfig,u=n._resolve;return void 0!==i?.title&&!mD(i)&&(u[Vu]=i.title),function ix(n,e,t,r){const i=function sx(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Qe({});const u={};return(0,an.D)(i).pipe((0,Br.z)(l=>function Iw(n,e,t,r){const i=Uf(e)??r,u=Bo(n,i);return Fo(u.resolve?u.resolve(e,t):i.runInContext(()=>u(e,t)))}(n[l],e,t,r).pipe(Po(),(0,ei.b)(m=>{u[l]=m}))),mg(1),function If(n){return(0,at.U)(()=>n)}(u),Na(l=>Og(l)?Yn.E:zi(l)))}(u,n,e,r).pipe((0,at.U)(l=>(n._resolvedData=l,n.data=Be(n,t).resolve,i&&mD(i)&&(n.data[Vu]=i.title),null)))}(l.route,r,n,e)),(0,ei.b)(()=>u++),mg(1),(0,Br.z)(l=>u===i.length?Qe(t):Yn.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,ei.b)({next:()=>v=!0,complete:()=>{v||(t.restoreHistory(m),this.cancelNavigationTransition(m,"",2,t))}}))}),(0,ei.b)(m=>{const v=new di(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}))}),Bg(l=>{const m=v=>{const I=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,ei.b)(S=>{v.component=S}),(0,at.U)(()=>{})));for(const S of v.children)I.push(...m(S));return I};return Se(m(l.targetSnapshot.root)).pipe(Ld(),Lu(1))}),Bg(()=>this.afterPreactivation()),(0,at.U)(l=>{const m=function _l(n,e,t){const r=hi(n,e._root,t?t._root:void 0);return new A(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:m}}),(0,ei.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>(0,at.U)(r=>(new Jb(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l)),(0,ei.b)({next:l=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Uo(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{i=!0}}),Bd(()=>{i||u||this.cancelNavigationTransition(r,"",1,t),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Na(l=>{if(u=!0,t_(l)){Ng(l)||(t.navigated=!0,t.restoreHistory(r,!0));const m=new Kd(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(m),Ng(l)){const v=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Cw(r.source)};t.scheduleNavigation(v,Ba,null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const m=new Yd(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(m);try{r.resolve(t.errorHandler(l))}catch(v){r.reject(v)}}return Yn.E}))}))}cancelNavigationTransition(t,r,i,u){const l=new Kd(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(l),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Cw(n){return n!==Ba}let Tw=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(u=>u.outlet===Gt);return r}getResolvedTitleForRoute(t){return t.data[Vu]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(_D)},providedIn:"root"}),n})(),_D=(()=>{class n extends Tw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Hi))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(wD)},providedIn:"root"}),n})();class Sw{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let wD=(()=>{class n extends Sw{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $g=new h.OlP("",{providedIn:"root",factory:()=>({})});let Bt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Aw)},providedIn:"root"}),n})(),Aw=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xw(n){throw n}function ID(n,e,t){return e.parse("/")}const bD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Mw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ai=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this.options=(0,h.f3M)($g,{optional:!0})||{},this.errorHandler=this.options.errorHandler||xw,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ID,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(Bt),this.routeReuseStrategy=(0,h.f3M)(vD),this.urlCreationStrategy=(0,h.f3M)(e_),this.titleStrategy=(0,h.f3M)(Tw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=_g((0,h.f3M)(Cl,{optional:!0})??[]),this.navigationTransitions=(0,h.f3M)(Gf),this.urlSerializer=(0,h.f3M)(cl),this.location=(0,h.f3M)(Pe),this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Lo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=R(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ba,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const u={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const v={...i};delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(u.state=v)}const m=this.parseUrl(t);this.scheduleNavigation(m,r,l,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(s_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:l,queryParamsHandling:m,preserveFragment:v}=r,I=v?this.currentUrlTree.fragment:l;let S=null;switch(m){case"merge":S={...this.currentUrlTree.queryParams,...u};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=u||null}return null!==S&&(S=this.removeEmptyProps(S)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,S,I??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ro(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,Ba,null,r)}navigate(t,r={skipLocationChange:!1}){return function Rw(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new h.vHH(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...bD}:!1===r?{...Mw}:r,ro(t))return $d(this.currentUrlTree,t,i);const u=this.parseUrl(t);return $d(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}scheduleNavigation(t,r,i,u,l){if(this.disposed)return Promise.resolve(!1);let m,v,I,S;return l?(m=l.resolve,v=l.reject,I=l.promise):I=new Promise((N,V)=>{m=N,v=V}),S="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:S,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:m,reject:v,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(N=>Promise.reject(N))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ga=(()=>{class n{constructor(t,r,i,u,l,m){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=u,this.el=l,this.locationStrategy=m,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Kn.x;const v=l.nativeElement.tagName;this.isAnchorElement="A"===v||"AREA"===v,this.isAnchorElement?this.subscription=t.events.subscribe(I=>{I instanceof Uo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,h.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,h.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,h.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,u,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||u||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,h.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,u=this.el.nativeElement;null!==r?i.setAttribute(u,t,r):i.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ai),h.Y36(ce),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(rt))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&h.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&h.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[h.TTD]}),n})();class I_{}let TD=(()=>{class n{constructor(t,r,i,u,l){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(cs(t=>t instanceof Uo),Fs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,h.MMx)(u.providers,t,`Route: ${u.path}`));const l=u._injector??t,m=u._loadedInjector??l;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?i.push(this.preloadConfig(l,u)):(u.children||u._loadedRoutes)&&i.push(this.processRoutes(m,u.children??u._loadedRoutes))}return(0,an.D)(i).pipe((0,Je.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Qe(null);const u=i.pipe((0,Br.z)(l=>null===l?Qe(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,an.D)([u,l]).pipe((0,Je.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ai),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(I_),h.LFG(w_))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zf=new h.OlP("");let Hg=(()=>{class n{constructor(t,r,i,u,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=u,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Nf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Uo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof yl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new yl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function sh(n,e){return{\u0275kind:n,\u0275providers:e}}function Tl(){const n=(0,h.f3M)(h.zs3);return e=>{const t=n.get(h.z2F);if(e!==t.components[0])return;const r=n.get(Ai),i=n.get(Ow);1===n.get(Gg)&&r.initialNavigation(),n.get(Pw,null,h.XFs.Optional)?.setUpPreloading(),n.get(zf,null,h.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const Ow=new h.OlP("",{factory:()=>new Kn.x}),Gg=new h.OlP("",{providedIn:"root",factory:()=>1});const Pw=new h.OlP("");function xD(n){return sh(0,[{provide:Pw,useExisting:TD},{provide:I_,useExisting:n}])}const Fw=new h.OlP("ROUTER_FORROOT_GUARD"),Lw=[Pe,{provide:cl,useClass:Oa},Ai,$a,{provide:ce,useFactory:function SD(n){return n.routerState.root},deps:[Ai]},w_,[]];function Vw(){return new h.PXZ("Router",Ai)}let Wf=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Lw,[],{provide:Cl,multi:!0,useValue:t},{provide:Fw,useFactory:dx,deps:[[Ai,new h.FiY,new h.tp0]]},{provide:$g,useValue:r||{}},r?.useHash?{provide:rt,useClass:Ee}:{provide:rt,useClass:Ce},{provide:zf,useFactory:()=>{const n=(0,h.f3M)(As),e=(0,h.f3M)(h.R0b),t=(0,h.f3M)($g),r=(0,h.f3M)(Gf),i=(0,h.f3M)(cl);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Hg(i,r,n,e,t)}},r?.preloadingStrategy?xD(r.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:Vw},r?.initialNavigation?oh(r):[],[{provide:C_,useFactory:Tl},{provide:h.tb,multi:!0,useExisting:C_}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Cl,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Fw,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[r_]}),n})();function dx(n){return"guarded"}function oh(n){return["disabled"===n.initialNavigation?sh(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(Ai);return()=>{e.setUpLocationChangeListener()}}},{provide:Gg,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?sh(2,[{provide:Gg,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const t=e.get(le,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const u=e.get(Ai),l=e.get(Ow);(function r(i){e.get(Ai).events.pipe(cs(l=>l instanceof Uo||l instanceof Kd||l instanceof Yd),(0,at.U)(l=>l instanceof Uo||l instanceof Kd&&(0===l.code||1===l.code)&&null),cs(l=>null!==l),Lu(1)).subscribe(()=>{i()})})(()=>{i(!0)}),e.get(Gf).afterPreactivation=()=>(i(!0),l.closed?Qe(void 0):l),u.initialNavigation()}))}}]).\u0275providers:[]]}const C_=new h.OlP("");class ah{}ah.\u0275fac=function(e){return new(e||ah)},ah.\u0275mod=h.oAB({type:ah}),ah.\u0275inj=h.cJS({imports:[Wf.forRoot([]),Wf]});class Qu{constructor(e){e.setTitle("Pastaboys")}}Qu.\u0275fac=function(e){return new(e||Qu)(h.Y36(Hi))},Qu.\u0275cmp=h.Xpm({type:Qu,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&h._UZ(0,"router-outlet")},dependencies:[iw]});class za{}class Zf{}class fs{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),u=i.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(i,u),this.headers.has(u)?this.headers.get(u).push(l):this.headers.set(u,[l])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof fs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new fs;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof fs?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const u=e.value;if(u){let l=this.headers.get(t);if(!l)return;l=l.filter(m=>-1===u.indexOf(m)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class qg{encodeKey(e){return Wg(e)}encodeValue(e){return Wg(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const T_=/%(\d[a-f0-9])/gi,S_={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Wg(n){return encodeURIComponent(n).replace(T_,(e,t)=>S_[t]??e)}function Kf(n){return`${n}`}class $o{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new qg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Bw(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const u=i.indexOf("="),[l,m]=-1==u?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,u)),e.decodeValue(i.slice(u+1))],v=t.get(l)||[];v.push(m),t.set(l,v)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Kf):[Kf(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new $o({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Kf(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Kf(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class PD{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function $w(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function A_(n){return typeof Blob<"u"&&n instanceof Blob}function x_(n){return typeof FormData<"u"&&n instanceof FormData}class Yf{constructor(e,t,r,i){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function jw(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,u=i):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new fs),this.context||(this.context=new PD),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+l}}else this.params=new $o,this.urlWithParams=t}serializeBody(){return null===this.body?null:$w(this.body)||A_(this.body)||x_(this.body)||function FD(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof $o?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||x_(this.body)?null:A_(this.body)?this.body.type||null:$w(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof $o?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,m=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let v=e.headers||this.headers,I=e.params||this.params;const S=e.context??this.context;return void 0!==e.setHeaders&&(v=Object.keys(e.setHeaders).reduce((N,V)=>N.set(V,e.setHeaders[V]),v)),e.setParams&&(I=Object.keys(e.setParams).reduce((N,V)=>N.set(V,e.setParams[V]),I)),new Yf(t,r,u,{params:I,headers:v,context:S,reportProgress:m,responseType:i,withCredentials:l})}}var rn=(()=>((rn=rn||{})[rn.Sent=0]="Sent",rn[rn.UploadProgress=1]="UploadProgress",rn[rn.ResponseHeader=2]="ResponseHeader",rn[rn.DownloadProgress=3]="DownloadProgress",rn[rn.Response=4]="Response",rn[rn.User=5]="User",rn))();class Zg{constructor(e,t=200,r="OK"){this.headers=e.headers||new fs,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class M_ extends Zg{constructor(e={}){super(e),this.type=rn.ResponseHeader}clone(e={}){return new M_({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class R_ extends Zg{constructor(e={}){super(e),this.type=rn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new R_({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Kg extends Zg{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Yg(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Hw=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let u;if(t instanceof Yf)u=t;else{let v,I;v=i.headers instanceof fs?i.headers:new fs(i.headers),i.params&&(I=i.params instanceof $o?i.params:new $o({fromObject:i.params})),u=new Yf(t,r,void 0!==i.body?i.body:null,{headers:v,context:i.context,params:I,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=Qe(u).pipe(Fs(v=>this.handler.handle(v)));if(t instanceof Yf||"events"===i.observe)return l;const m=l.pipe(cs(v=>v instanceof R_));switch(i.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return m.pipe((0,at.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return m.pipe((0,at.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return m.pipe((0,at.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return m.pipe((0,at.U)(v=>v.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new $o).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Yg(i,r))}post(t,r,i={}){return this.request("POST",t,Yg(i,r))}put(t,r,i={}){return this.request("PUT",t,Yg(i,r))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(za))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Gw(n,e){return e(n)}function LD(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const VD=new h.OlP("HTTP_INTERCEPTORS"),Qf=new h.OlP("HTTP_INTERCEPTOR_FNS");function N_(){let n=null;return(e,t)=>(null===n&&(n=((0,h.f3M)(VD,{optional:!0})??[]).reduceRight(LD,Gw)),n(e,t))}let qw=(()=>{class n extends za{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Qf)));this.chain=r.reduceRight((i,u)=>function zw(n,e,t){return(r,i)=>t.runInContext(()=>e(r,u=>n(u,i)))}(i,u,this.injector),Gw)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Zf),h.LFG(h.lqb))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const $D=/^\)\]\}',?\n/;let Zw=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Un.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((z,Q)=>i.setRequestHeader(z,Q.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const z=t.detectContentTypeHeader();null!==z&&i.setRequestHeader("Content-Type",z)}if(t.responseType){const z=t.responseType.toLowerCase();i.responseType="json"!==z?z:"text"}const u=t.serializeBody();let l=null;const m=()=>{if(null!==l)return l;const z=i.statusText||"OK",Q=new fs(i.getAllResponseHeaders()),we=function k_(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return l=new M_({headers:Q,status:i.status,statusText:z,url:we}),l},v=()=>{let{headers:z,status:Q,statusText:we,url:be}=m(),nt=null;204!==Q&&(nt=typeof i.response>"u"?i.responseText:i.response),0===Q&&(Q=nt?200:0);let Et=Q>=200&&Q<300;if("json"===t.responseType&&"string"==typeof nt){const ot=nt;nt=nt.replace($D,"");try{nt=""!==nt?JSON.parse(nt):null}catch(st){nt=ot,Et&&(Et=!1,nt={error:st,text:nt})}}Et?(r.next(new R_({body:nt,headers:z,status:Q,statusText:we,url:be||void 0})),r.complete()):r.error(new Kg({error:nt,headers:z,status:Q,statusText:we,url:be||void 0}))},I=z=>{const{url:Q}=m(),we=new Kg({error:z,status:i.status||0,statusText:i.statusText||"Unknown Error",url:Q||void 0});r.error(we)};let S=!1;const N=z=>{S||(r.next(m()),S=!0);let Q={type:rn.DownloadProgress,loaded:z.loaded};z.lengthComputable&&(Q.total=z.total),"text"===t.responseType&&i.responseText&&(Q.partialText=i.responseText),r.next(Q)},V=z=>{let Q={type:rn.UploadProgress,loaded:z.loaded};z.lengthComputable&&(Q.total=z.total),r.next(Q)};return i.addEventListener("load",v),i.addEventListener("error",I),i.addEventListener("timeout",I),i.addEventListener("abort",I),t.reportProgress&&(i.addEventListener("progress",N),null!==u&&i.upload&&i.upload.addEventListener("progress",V)),i.send(u),r.next({type:rn.Sent}),()=>{i.removeEventListener("error",I),i.removeEventListener("abort",I),i.removeEventListener("load",v),i.removeEventListener("timeout",I),t.reportProgress&&(i.removeEventListener("progress",N),null!==u&&i.upload&&i.upload.removeEventListener("progress",V)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(xs))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const P_=new h.OlP("XSRF_ENABLED"),Xf="XSRF-TOKEN",Qg=new h.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>Xf}),Jf="X-XSRF-TOKEN",HD=new h.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>Jf});class Xg{}let _x=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=dr(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ie),h.LFG(h.Lbi),h.LFG(Qg))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Kw(n,e){const t=n.url.toLowerCase();if(!(0,h.f3M)(P_)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,h.f3M)(Xg).getToken(),i=(0,h.f3M)(HD);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Qn=(()=>((Qn=Qn||{})[Qn.Interceptors=0]="Interceptors",Qn[Qn.LegacyInterceptors=1]="LegacyInterceptors",Qn[Qn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Qn[Qn.NoXsrfProtection=3]="NoXsrfProtection",Qn[Qn.JsonpSupport=4]="JsonpSupport",Qn[Qn.RequestsMadeViaParent=5]="RequestsMadeViaParent",Qn))();function Sl(n,e){return{\u0275kind:n,\u0275providers:e}}function F_(...n){const e=[Hw,Zw,qw,{provide:za,useExisting:qw},{provide:Zf,useExisting:Zw},{provide:Qf,useValue:Kw,multi:!0},{provide:P_,useValue:!0},{provide:Xg,useClass:_x}];for(const t of n)e.push(...t.\u0275providers);return(0,h.MR2)(e)}const ep=new h.OlP("LEGACY_INTERCEPTOR_FN");function tp({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:Qg,useValue:n}),void 0!==e&&t.push({provide:HD,useValue:e}),Sl(Qn.CustomXsrfConfiguration,t)}let WD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[F_(Sl(Qn.LegacyInterceptors,[{provide:ep,useFactory:N_},{provide:Qf,useExisting:ep,multi:!0}]),tp({cookieName:Xf,headerName:Jf}))]}),n})();class Al{constructor(){this.items=[{id:1,name:"Carbonara",price:25e3,resep:"Pasta dengan saus creamy dari campuran susu, keju, dan kocokan telur ini memiliki rasa gurih manis yang pasti anda sukai.",image:"assets/img/carbo.png"},{id:2,name:"Chicken Mushroom",price:25e3,resep:"Chicken Mushroom dengan saus creamy dengan campuran jamur,susu,pake butter dan ayam filet yang sudah diolah ini memiliki rasa gurih yang pasti anda sukai.",image:"assets/img/chicken.png"},{id:5,name:"Fettuccine Mushroom",price:25e3,resep:"Fettuccine Mushroom dengan saus creamy khas Pastaboys dengan pasta yang alami homemade.",image:"assets/img/mushroom.jpg"}],this.itema=[]}getItems(){return this.items}}Al.\u0275fac=function(e){return new(e||Al)},Al.\u0275prov=h.Yz7({token:Al,factory:Al.\u0275fac,providedIn:"root"});class so{constructor(e,t){this.http=e,this.itemService=t,this.order=[],this.realOrder=[],this.note=[],this.items=[],this.isOrderEmpty=!1,this.subject=new sr([]),this.renderAmount=r=>this.order.findIndex(u=>u.product_id===r)}sendData(e){this.subject.next(e)}getSubject(){return this.subject.asObservable()}setNote(e){const t=this.order.findIndex(i=>i.product_id===e);let r=prompt("masukan catatan",this.order[t].note);this.order[t].note=r}pushOrder(e,t,r,i,u){const l=this.order.some(v=>v.product_id===t),m=this.order.findIndex(v=>v.product_id===t);!1===l?this.order.push({price:e,product_id:t,name:r,quantity:1,image:i}):this.order[m].quantity=this.order[m].quantity+1,this.order.length>0?this.isOrderEmpty=!0:0===this.order.length&&(this.isOrderEmpty=!1),this.sendData(this.order)}reduceOrder(e){const t=this.order.findIndex(r=>r.product_id===e);this.order[t].quantity=this.order[t].quantity-1,this.order=this.order.filter(r=>r.quantity>0),this.order.length>0?this.isOrderEmpty=!0:0===this.order.length&&(this.isOrderEmpty=!1),this.sendData(this.order)}sendOrder(e){return this.http.post("https://pastaboys-backend-production.up.railway.app/order/pesan",e)}}so.\u0275fac=function(e){return new(e||so)(h.LFG(Hw),h.LFG(Al))},so.\u0275prov=h.Yz7({token:so,factory:so.\u0275fac,providedIn:"root"});var Yw=k(4986),Hn=k(2122);function L_(){return(0,bn.e)((n,e)=>{let t,r=!1;n.subscribe((0,H.x)(e,i=>{const u=t;t=i,r&&e.next([u,i]),r=!0}))})}function KD(n,e){return n===e}var dt,xi=k(2011),tm=(k(750),k(3942)),ge=k(5861),ps=k(9681),uh=k(4859),Ju=k(1877),$t=k(2090),QD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wa={},V_=V_||{},Ot=QD||self;function np(){}function nm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function rm(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ch="closure_uid_"+(1e9*Math.random()>>>0),xl=0;function Ix(n,e,t){return n.call.apply(n.bind,arguments)}function rp(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function fi(n,e,t){return(fi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ix:rp).apply(null,arguments)}function im(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Sr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,u){for(var l=Array(arguments.length-2),m=2;m<arguments.length;m++)l[m-2]=arguments[m];return e.prototype[i].apply(r,l)}}function ec(){this.s=this.s,this.o=this.o}ec.prototype.s=!1,ec.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Qw(n){Object.prototype.hasOwnProperty.call(n,ch)&&n[ch]||(n[ch]=++xl)}(this)},ec.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const lh=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function jr(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function tc(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(nm(r)){const i=n.length||0,u=r.length||0;n.length=i+u;for(let l=0;l<u;l++)n[i+l]=r[l]}else n.push(r)}}function Ar(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ar.prototype.h=function(){this.defaultPrevented=!0};var $s=function(){if(!Ot.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ot.addEventListener("test",np,e),Ot.removeEventListener("test",np,e)}catch{}return n}();function dh(n){return/^[\s\xa0]*$/.test(n)}var Ml=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function nc(n,e){return n<e?-1:n>e?1:0}function Za(){var n=Ot.navigator;return n&&(n=n.userAgent)?n:""}function Mi(n){return-1!=Za().indexOf(n)}function rc(n){return rc[" "](n),n}rc[" "]=np;var ip,n,fh=Mi("Opera"),oo=Mi("Trident")||Mi("MSIE"),Rl=Mi("Edge"),sm=Rl||oo,U_=Mi("Gecko")&&!(-1!=Za().toLowerCase().indexOf("webkit")&&!Mi("Edge"))&&!(Mi("Trident")||Mi("MSIE"))&&!Mi("Edge"),Xw=-1!=Za().toLowerCase().indexOf("webkit")&&!Mi("Edge");function B_(){var n=Ot.document;return n?n.documentMode:void 0}e:{var om="",am=(n=Za(),U_?/rv:([^\);]+)(\)|;)/.exec(n):Rl?/Edge\/([\d\.]+)/.exec(n):oo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Xw?/WebKit\/(\S+)/.exec(n):fh?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(am&&(om=am?am[1]:""),oo){var um=B_();if(null!=um&&um>parseFloat(om)){ip=String(um);break e}}ip=om}var Jw={};var JD=Ot.document&&oo&&(B_()||parseInt(ip,10))||void 0;function sp(n,e){if(Ar.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(U_){e:{try{rc(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:H_[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&sp.X.h.call(this)}}Sr(sp,Ar);var H_={2:"touch",3:"pen",4:"mouse"};sp.prototype.h=function(){sp.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Nl="closure_listenable_"+(1e6*Math.random()|0),eC=0;function cm(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++eC,this.ba=this.ea=!1}function Ol(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function op(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function eE(n){const e={};for(const t in n)e[t]=n[t];return e}const lm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dm(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<lm.length;u++)t=lm[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function ap(n){this.src=n,this.g={},this.h=0}function hm(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=lh(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(Ol(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function up(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.ba&&u.listener==e&&u.capture==!!t&&u.ha==r)return i}return-1}ap.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=up(n,e,r,i);return-1<l?(e=n[l],t||(e.ea=!1)):((e=new cm(e,this.src,u,!!r,i)).ea=t,n.push(e)),e};var fm="closure_lm_"+(1e6*Math.random()|0),pm={};function gm(n,e,t,r,i){if(r&&r.once)return z_(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)gm(n,e[u],t,r,i);return null}return t=cp(t),n&&n[Nl]?n.N(e,t,rm(r)?!!r.capture:!!r,i):G_(n,e,t,!1,r,i)}function G_(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var l=rm(i)?!!i.capture:!!i,m=Z_(n);if(m||(n[fm]=m=new ap(n)),(t=m.add(e,t,r,l,u)).proxy)return t;if(r=function tC(){const e=nC;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)$s||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(W_(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function z_(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)z_(n,e[u],t,r,i);return null}return t=cp(t),n&&n[Nl]?n.O(e,t,rm(r)?!!r.capture:!!r,i):G_(n,e,t,!0,r,i)}function q_(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)q_(n,e[u],t,r,i);else r=rm(r)?!!r.capture:!!r,t=cp(t),n&&n[Nl]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=up(u=n.g[e],t,r,i))&&(Ol(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Z_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=up(e,t,r,i)),(t=-1<n?e[n]:null)&&mm(t))}function mm(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Nl])hm(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(W_(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Z_(e))?(hm(t,n),0==t.h&&(t.src=null,e[fm]=null)):Ol(n)}}}function W_(n){return n in pm?pm[n]:pm[n]="on"+n}function nC(n,e){if(n.ba)n=!0;else{e=new sp(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&mm(n),n=t.call(r,e)}return n}function Z_(n){return(n=n[fm])instanceof ap?n:null}var K_="__closure_events_fn_"+(1e9*Math.random()>>>0);function cp(n){return"function"==typeof n?n:(n[K_]||(n[K_]=function(e){return n.handleEvent(e)}),n[K_])}function _r(){ec.call(this),this.i=new ap(this),this.P=this,this.I=null}function $r(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ar(e,n);else if(e instanceof Ar)e.target=e.target||n;else{var i=e;dm(e=new Ar(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];i=lp(l,r,!0,e)&&i}if(i=lp(l=e.g=n,r,!0,e)&&i,i=lp(l,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=lp(l=e.g=t[u],r,!1,e)&&i}function lp(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.ba&&l.capture==t){var m=l.listener,v=l.ha||l.src;l.ea&&hm(n.i,l),i=!1!==m.call(v,r)&&i}}return i&&!r.defaultPrevented}Sr(_r,ec),_r.prototype[Nl]=!0,_r.prototype.removeEventListener=function(n,e,t,r){q_(this,n,e,t,r)},_r.prototype.M=function(){if(_r.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Ol(t[r]);delete n.g[e],n.h--}}this.I=null},_r.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},_r.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var ym=Ot.JSON.stringify;function tE(){var n=_m;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Go,Y_=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new rE,n=>n.reset());class rE{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function iE(n){Ot.setTimeout(()=>{throw n},0)}function dp(n,e){Go||function rC(){var n=Ot.Promise.resolve(void 0);Go=function(){n.then(kl)}}(),Q_||(Go(),Q_=!0),_m.add(n,e)}var Q_=!1,_m=new class nE{constructor(){this.h=this.g=null}add(e,t){const r=Y_.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function kl(){for(var n;n=tE();){try{n.h.call(n.g)}catch(t){iE(t)}var e=Y_;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Q_=!1}function ph(n,e){_r.call(this),this.h=n||1,this.g=e||Ot,this.j=fi(this.lb,this),this.l=Date.now()}function X_(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function hp(n,e,t){if("function"==typeof n)t&&(n=fi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=fi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ot.setTimeout(n,e||0)}function iC(n){n.g=hp(()=>{n.g=null,n.i&&(n.i=!1,iC(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Sr(ph,_r),(dt=ph.prototype).ca=!1,dt.R=null,dt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),$r(this,"tick"),this.ca&&(X_(this),this.start()))}},dt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dt.M=function(){ph.X.M.call(this),X_(this),delete this.g};class bx extends ec{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:iC(this)}M(){super.M(),this.g&&(Ot.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fp(n){ec.call(this),this.h=n,this.g={}}Sr(fp,ec);var sE=[];function J_(n,e,t,r){Array.isArray(t)||(t&&(sE[0]=t.toString()),t=sE);for(var i=0;i<t.length;i++){var u=gm(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function oE(n){op(n.g,function(e,t){this.g.hasOwnProperty(t)&&mm(e)},n),n.g={}}function Xn(){this.g=!0}function gh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function oC(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<i.length;l++)i[l]=""}}}return ym(t)}catch{return e}}(n,t)+(r?" "+r:"")})}fp.prototype.M=function(){fp.X.M.call(this),oE(this)},fp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xn.prototype.Aa=function(){this.g=!1},Xn.prototype.info=function(){};var ic={},ev=null;function Ka(){return ev=ev||new _r}function cE(n){Ar.call(this,ic.Pa,n)}function pp(n){const e=Ka();$r(e,new cE(e))}function tv(n,e){Ar.call(this,ic.STAT_EVENT,n),this.stat=e}function Ri(n){const e=Ka();$r(e,new tv(e,n))}function nv(n,e){Ar.call(this,ic.Qa,n),this.size=e}function vm(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ot.setTimeout(function(){n()},e)}ic.Pa="serverreachability",Sr(cE,Ar),ic.STAT_EVENT="statevent",Sr(tv,Ar),ic.Qa="timingevent",Sr(nv,Ar);var gp={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},wm={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Hs(){}function dE(){}Hs.prototype.h=null;var Em,Yi={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function gs(){Ar.call(this,"d")}function ms(){Ar.call(this,"c")}function mp(){}function yp(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new fp(this),this.O=aC,this.T=new ph(n=sm?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new hE}function hE(){this.i=null,this.g="",this.h=!1}Sr(gs,Ar),Sr(ms,Ar),Sr(mp,Hs),mp.prototype.g=function(){return new XMLHttpRequest},mp.prototype.i=function(){return{}},Em=new mp;var aC=45e3,rv={},mh={};function Pl(n,e,t){n.K=1,n.v=Dm(zo(e)),n.s=t,n.P=!0,fE(n,null)}function fE(n,e){n.F=Date.now(),yh(n),n.A=zo(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),IE(t.i,"t",r),n.C=0,t=n.l.H,n.h=new hE,n.g=gv(n.l,t?e:null,!n.s),0<n.N&&(n.L=new bx(fi(n.La,n,n.g),n.N)),J_(n.S,n.g,"readystatechange",n.ib),e=n.H?eE(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),pp(),function aE(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var l="",m=u.split("&"),v=0;v<m.length;v++){var I=m[v].split("=");if(1<I.length){var S=I[0];I=I[1];var N=S.split("_");l=2<=N.length&&"type"==N[1]?l+(S+"=")+I+"&":l+(S+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.U,n.s)}function iv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function pE(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=gE(n,t),i==mh){4==e&&(n.o=4,Ri(14),r=!1),gh(n.j,n.m,null,"[Incomplete Response]");break}if(i==rv){n.o=4,Ri(15),gh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}gh(n.j,n.m,i,null),vp(n,i)}iv(n)&&i!=mh&&i!=rv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ri(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Pm(e),e.K=!0,Ri(11))):(gh(n.j,n.m,t,"[Invalid Chunked Response]"),sc(n),_h(n))}function gE(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?mh:(t=Number(e.substring(t,r)),isNaN(t)?rv:(r+=1)+t>e.length?mh:(e=e.substr(r,t),n.C=r+t,e))}function yh(n){n.V=Date.now()+n.O,_p(n,n.O)}function _p(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=vm(fi(n.gb,n),e)}function Im(n){n.B&&(Ot.clearTimeout(n.B),n.B=null)}function _h(n){0==n.l.G||n.I||Dh(n.l,n)}function sc(n){Im(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,X_(n.T),oE(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function vp(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Cm(t.h,n)))if(!n.J&&Cm(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Fm(t),Nm(t)}km(t),Ri(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=vm(fi(t.cb,t),6e3));if(1>=cv(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Ll(t,11)}else if((n.J||t.g==n)&&Fm(t),!dh(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let I=i[e];if(t.T=I[0],I=I[1],2==t.G)if("c"==I[0]){t.I=I[1],t.ka=I[2];const S=I[3];null!=S&&(t.ma=S,t.j.info("VER="+t.ma));const N=I[4];null!=N&&(t.Ca=N,t.j.info("SVER="+t.Ca));const V=I[5];null!=V&&"number"==typeof V&&0<V&&(t.J=r=1.5*V,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const z=n.g;if(z){const Q=z.g?z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Q){var u=r.h;u.g||-1==Q.indexOf("spdy")&&-1==Q.indexOf("quic")&&-1==Q.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Tm(u,u.h),u.h=null))}if(r.D){const we=z.g?z.g.getResponseHeader("X-HTTP-Session-Id"):null;we&&(r.za=we,Fn(r.F,r.D,we))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var l=n;if((r=t).sa=OE(r,r.H?r.ka:null,r.V),l.J){lv(r.h,l);var m=l,v=r.J;v&&m.setTimeout(v),m.B&&(Im(m),yh(m)),r.g=l}else Mp(r);0<t.i.length&&Om(t)}else"stop"!=I[0]&&"close"!=I[0]||Ll(t,7);else 3==t.G&&("stop"==I[0]||"close"==I[0]?"stop"==I[0]?Ll(t,7):Rm(t):"noop"!=I[0]&&t.l&&t.l.wa(I),t.A=0)}pp()}catch{}}function sv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(nm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function mE(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(nm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function bm(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(nm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}(dt=yp.prototype).setTimeout=function(n){this.O=n},dt.ib=function(n){n=n.target;const e=this.L;e&&3==Wo(n)?e.l():this.La(n)},dt.La=function(n){try{if(n==this.g)e:{const S=Wo(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>S)&&(3!=S||sm||this.g&&(this.h.h||this.g.fa()||hv(this.g)))){this.I||4!=S||7==e||pp(),Im(this);var t=this.g.aa();this.Y=t;t:if(iv(this)){var r=hv(this.g);n="";var i=r.length,u=4==Wo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){sc(this),_h(this);var l="";break t}this.h.i=new Ot.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.fa();if(this.i=200==t,function sC(n,e,t,r,i,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.U,S,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var m,v=this.g;if((m=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dh(m)){var I=m;break t}}I=null}if(!(t=I)){this.i=!1,this.o=3,Ri(12),sc(this),_h(this);break e}gh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,vp(this,t)}this.P?(pE(this,S,l),sm&&this.i&&3==S&&(J_(this.S,this.T,"tick",this.hb),this.T.start())):(gh(this.j,this.m,l,null),vp(this,l)),4==S&&sc(this),this.i&&!this.I&&(4==S?Dh(this.l,this):(this.i=!1,yh(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Ri(12)):(this.o=0,Ri(13)),sc(this),_h(this)}}}catch{}},dt.hb=function(){if(this.g){var n=Wo(this.g),e=this.g.fa();this.C<e.length&&(Im(this),pE(this,n,e),this.i&&4!=n&&yh(this))}},dt.cancel=function(){this.I=!0,sc(this)},dt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function uE(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(pp(),Ri(17)),sc(this),this.o=2,_h(this)):_p(this,this.V-n)};var ov=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oc(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof oc){this.h=void 0!==e?e:n.h,wp(this,n.j),this.s=n.s,this.g=n.g,Ep(this,n.m),this.l=n.l,e=n.i;var t=new Dp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),_E(this,t),this.o=n.o}else n&&(t=String(n).match(ov))?(this.h=!!e,wp(this,t[1]||"",!0),this.s=Ip(t[2]||""),this.g=Ip(t[3]||"",!0),Ep(this,t[4]),this.l=Ip(t[5]||"",!0),_E(this,t[6]||"",!0),this.o=Ip(t[7]||"")):(this.h=!!e,this.i=new Dp(null,this.h))}function zo(n){return new oc(n)}function wp(n,e,t){n.j=t?Ip(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ep(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function _E(n,e,t){e instanceof Dp?(n.i=e,function fC(n,e){e&&!n.j&&(ac(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(wE(this,r),IE(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=bp(e,dC)),n.i=new Dp(e,n.h))}function Fn(n,e,t){n.i.set(e,t)}function Dm(n){return Fn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ip(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function bp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,uC),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function uC(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}oc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(bp(e,vE,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(bp(e,vE,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(bp(t,"/"==t.charAt(0)?lC:cC,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",bp(t,hC)),n.join("")};var vE=/[#\/\?@]/g,cC=/[#\?:]/g,lC=/[#\?]/g,dC=/[#\?@]/g,hC=/#/g;function Dp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ac(n){n.g||(n.g=new Map,n.h=0,n.i&&function yE(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function wE(n,e){ac(n),e=vh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function EE(n,e){return ac(n),e=vh(n,e),n.g.has(e)}function IE(n,e,t){wE(n,e),0<t.length&&(n.i=null,n.g.set(vh(n,e),jr(t)),n.h+=t.length)}function vh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function av(n){this.l=n||DE,n=Ot.PerformanceNavigationTiming?0<(n=Ot.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ot.g&&Ot.g.Ga&&Ot.g.Ga()&&Ot.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dt=Dp.prototype).add=function(n,e){ac(this),this.i=null,n=vh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},dt.forEach=function(n,e){ac(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},dt.oa=function(){ac(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let u=0;u<i.length;u++)t.push(e[r])}return t},dt.W=function(n){ac(this);let e=[];if("string"==typeof n)EE(this,n)&&(e=e.concat(this.g.get(vh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},dt.set=function(n,e){return ac(this),this.i=null,EE(this,n=vh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},dt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.W(r);for(r=0;r<l.length;r++){var i=u;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var DE=10;function uv(n){return!!n.h||!!n.g&&n.g.size>=n.j}function cv(n){return n.h?1:n.g?n.g.size:0}function Cm(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Tm(n,e){n.g?n.g.add(e):n.h=e}function lv(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function dv(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return jr(n.i)}function Sm(){}function CE(){this.g=new Sm}function Fl(n,e,t){const r=t||"";try{sv(n,function(i,u){let l=i;rm(i)&&(l=ym(i)),e.push(r+u+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Am(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function qo(n){this.l=n.ac||null,this.j=n.jb||!1}function xm(n,e){_r.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Cp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}av.prototype.cancel=function(){if(this.i=dv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Sm.prototype.stringify=function(n){return Ot.JSON.stringify(n,void 0)},Sm.prototype.parse=function(n){return Ot.JSON.parse(n,void 0)},Sr(qo,Hs),qo.prototype.g=function(){return new xm(this.l,this.j)},qo.prototype.i=function(n){return function(){return n}}({}),Sr(xm,_r);var Cp=0;function gC(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function wh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Eh(n)}function Eh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(dt=xm.prototype).open=function(n,e){if(this.readyState!=Cp)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Eh(this)},dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ot).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wh(this)),this.readyState=Cp},dt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Eh(this)),this.g&&(this.readyState=3,Eh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Ot.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gC(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},dt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?wh(this):Eh(this),3==this.readyState&&gC(this)}},dt.Va=function(n){this.g&&(this.response=this.responseText=n,wh(this))},dt.Ua=function(n){this.g&&(this.response=n,wh(this))},dt.ga=function(){this.g&&wh(this)},dt.setRequestHeader=function(n,e){this.v.append(n,e)},dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(xm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Dx=Ot.JSON.parse;function We(n){_r.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=TE,this.K=this.L=!1}Sr(We,_r);var TE="",mC=/^https?$/i,yC=["POST","PUT"];function SE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Tp(n),Tn(n)}function Tp(n){n.D||(n.D=!0,$r(n,"complete"),$r(n,"error"))}function Sp(n){if(n.h&&typeof V_<"u"&&(!n.C[1]||4!=Wo(n)||2!=n.aa()))if(n.v&&4==Wo(n))hp(n.Ha,0,n);else if($r(n,"readystatechange"),4==Wo(n)){n.h=!1;try{const m=n.aa();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var i=String(n.H).match(ov)[1]||null;if(!i&&Ot.self&&Ot.self.location){var u=Ot.self.location.protocol;i=u.substr(0,u.length-1)}r=!mC.test(i?i.toLowerCase():"")}t=r}if(t)$r(n,"complete"),$r(n,"success");else{n.m=6;try{var l=2<Wo(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.aa()+"]",Tp(n)}}finally{Tn(n)}}}function Tn(n,e){if(n.g){_C(n);const t=n.g,r=n.C[0]?np:null;n.g=null,n.C=null,e||$r(n,"ready");try{t.onreadystatechange=r}catch{}}}function _C(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ot.clearTimeout(n.A),n.A=null)}function Wo(n){return n.g?n.g.readyState:0}function hv(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case TE:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function AE(n){let e="";return op(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Mm(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=AE(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Fn(n,e,t))}function bh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function fv(n){this.Ca=0,this.i=[],this.j=new Xn,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=bh("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=bh("baseRetryDelayMs",5e3,n),this.bb=bh("retryDelaySeedMs",1e4,n),this.$a=bh("forwardChannelMaxRetries",2,n),this.ta=bh("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new av(n&&n.concurrentRequestLimit),this.Fa=new CE,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Rm(n){if(xE(n),3==n.G){var e=n.U++,t=zo(n.F);Fn(t,"SID",n.I),Fn(t,"RID",e),Fn(t,"TYPE","terminate"),xp(n,t),(e=new yp(n,n.j,e,void 0)).K=2,e.v=Dm(zo(t)),t=!1,Ot.navigator&&Ot.navigator.sendBeacon&&(t=Ot.navigator.sendBeacon(e.v.toString(),"")),!t&&Ot.Image&&((new Image).src=e.v,t=!0),t||(e.g=gv(e.l,null),e.g.da(e.v)),e.F=Date.now(),yh(e)}NE(n)}function Nm(n){n.g&&(Pm(n),n.g.cancel(),n.g=null)}function xE(n){Nm(n),n.u&&(Ot.clearTimeout(n.u),n.u=null),Fm(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Ot.clearTimeout(n.m),n.m=null)}function Om(n){uv(n.h)||n.m||(n.m=!0,dp(n.Ja,n),n.C=0)}function ME(n,e){var t;t=e?e.m:n.U++;const r=zo(n.F);Fn(r,"SID",n.I),Fn(r,"RID",t),Fn(r,"AID",n.T),xp(n,r),n.o&&n.s&&Mm(r,n.o,n.s),t=new yp(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=RE(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Tm(n.h,t),Pl(t,r,e)}function xp(n,e){n.ia&&op(n.ia,function(t,r){Fn(e,r,t)}),n.l&&sv({},function(t,r){Fn(e,r,t)})}function RE(n,e,t){t=Math.min(n.i.length,t);var r=n.l?fi(n.l.Ra,n.l,n):null;e:{var i=n.i;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=i[0].h,l.push("ofs="+u)):u=0:l.push("ofs="+u);let m=!0;for(let v=0;v<t;v++){let I=i[v].h;const S=i[v].g;if(I-=u,0>I)u=Math.max(0,i[v].h-100),m=!1;else try{Fl(S,l,"req"+I+"_")}catch{r&&r(S)}}if(m){r=l.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function Mp(n){n.g||n.u||(n.Z=1,dp(n.Ia,n),n.A=0)}function km(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=vm(fi(n.Ia,n),Ch(n,n.A)),n.A++,0))}function Pm(n){null!=n.B&&(Ot.clearTimeout(n.B),n.B=null)}function pv(n){n.g=new yp(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=zo(n.sa);Fn(e,"RID","rpc"),Fn(e,"SID",n.I),Fn(e,"CI",n.L?"0":"1"),Fn(e,"AID",n.T),Fn(e,"TYPE","xmlhttp"),xp(n,e),n.o&&n.s&&Mm(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Dm(zo(e)),t.s=null,t.P=!0,fE(t,n)}function Fm(n){null!=n.v&&(Ot.clearTimeout(n.v),n.v=null)}function Dh(n,e){var t=null;if(n.g==e){Fm(n),Pm(n),n.g=null;var r=2}else{if(!Cm(n.h,e))return;t=e.D,lv(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;$r(r=Ka(),new nv(r,t)),Om(n)}else Mp(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function Ap(n,e){return!(cv(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=vm(fi(n.Ja,n,e),Ch(n,n.C)),n.C++,0)))}(n,e)||2==r&&km(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Ll(n,5);break;case 4:Ll(n,10);break;case 3:Ll(n,6);break;default:Ll(n,2)}}function Ch(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Ll(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=fi(n.kb,n);t||(t=new oc("//www.google.com/images/cleardot.gif"),Ot.location&&"http"==Ot.location.protocol||wp(t,"https"),Dm(t)),function pC(n,e){const t=new Xn;if(Ot.Image){const r=new Image;r.onload=im(Am,t,r,"TestLoadImage: loaded",!0,e),r.onerror=im(Am,t,r,"TestLoadImage: error",!1,e),r.onabort=im(Am,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=im(Am,t,r,"TestLoadImage: timeout",!1,e),Ot.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ri(2);n.G=0,n.l&&n.l.va(e),NE(n),xE(n)}function NE(n){if(n.G=0,n.la=[],n.l){const e=dv(n.h);(0!=e.length||0!=n.i.length)&&(tc(n.la,e),tc(n.la,n.i),n.h.i.length=0,jr(n.i),n.i.length=0),n.l.ua()}}function OE(n,e,t){var r=t instanceof oc?zo(t):new oc(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Ep(r,r.m);else{var i=Ot.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var u=new oc(null,void 0);r&&wp(u,r),e&&(u.g=e),i&&Ep(u,i),t&&(u.l=t),r=u}return e=n.za,(t=n.D)&&e&&Fn(r,t,e),Fn(r,"VER",n.ma),xp(n,r),r}function gv(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new We(t&&n.Da&&!n.ra?new qo({jb:!0}):n.ra)).Ka(n.H),e}function mv(){}function Rp(){if(oo&&!(10<=Number(JD)))throw Error("Environmental error: no available transport.")}function ys(n,e){_r.call(this),this.g=new fv(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!dh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!dh(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Th(this)}function yv(n){gs.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function kE(){ms.call(this),this.status=1}function Th(n){this.g=n}(dt=We.prototype).Ka=function(n){this.L=n},dt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Em.g(),this.C=function lE(n){return n.h||(n.h=n.i())}(this.u?this.u:Em),this.g.onreadystatechange=fi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void SE(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),i=Ot.FormData&&n instanceof Ot.FormData,!(0<=lh(yC,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{_C(this),0<this.B&&((this.K=function Ih(n){return oo&&function XD(){return function hh(n){var e=Jw;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Ml(String(ip)).split("."),t=Ml("9").split("."),r=Math.max(e.length,t.length);for(let l=0;0==n&&l<r;l++){var i=e[l]||"",u=t[l]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=nc(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||nc(0==i[2].length,0==u[2].length)||nc(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fi(this.qa,this)):this.A=hp(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){SE(this,u)}},dt.qa=function(){typeof V_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$r(this,"timeout"),this.abort(8))},dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,$r(this,"complete"),$r(this,"abort"),Tn(this))},dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tn(this,!0)),We.X.M.call(this)},dt.Ha=function(){this.s||(this.F||this.v||this.l?Sp(this):this.fb())},dt.fb=function(){Sp(this)},dt.aa=function(){try{return 2<Wo(this)?this.g.status:-1}catch{return-1}},dt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},dt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Dx(e)}},dt.Ea=function(){return this.m},dt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(dt=fv.prototype).ma=8,dt.G=1,dt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new yp(this,this.j,n,void 0);let u=this.s;if(this.S&&(u?(u=eE(u),dm(u,this.S)):u=this.S),null!==this.o||this.N||(i.H=u,u=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=RE(this,i,e),Fn(t=zo(this.F),"RID",n),Fn(t,"CVER",22),this.D&&Fn(t,"X-HTTP-Session-Id",this.D),xp(this,t),u&&(this.N?e="headers="+encodeURIComponent(String(AE(u)))+"&"+e:this.o&&Mm(t,this.o,u)),Tm(this.h,i),this.Ya&&Fn(t,"TYPE","init"),this.O?(Fn(t,"$req",e),Fn(t,"SID","null"),i.Z=!0,Pl(i,t,null)):Pl(i,t,e),this.G=2}}else 3==this.G&&(n?ME(this,n):0==this.i.length||uv(this.h)||ME(this))},dt.Ia=function(){if(this.u=null,pv(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=vm(fi(this.eb,this),n)}},dt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ri(10),Nm(this),pv(this))},dt.cb=function(){null!=this.v&&(this.v=null,Nm(this),km(this),Ri(19))},dt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Ri(2)):(this.j.info("Failed to ping google.com"),Ri(1))},(dt=mv.prototype).xa=function(){},dt.wa=function(){},dt.va=function(){},dt.ua=function(){},dt.Ra=function(){},Rp.prototype.g=function(n,e){return new ys(n,e)},Sr(ys,_r),ys.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Ri(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=OE(n,null,n.V),Om(n)},ys.prototype.close=function(){Rm(this.g)},ys.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=ym(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Om(e)},ys.prototype.M=function(){this.g.l=null,delete this.j,Rm(this.g),delete this.g,ys.X.M.call(this)},Sr(yv,gs),Sr(kE,ms),Sr(Th,mv),Th.prototype.xa=function(){$r(this.g,"a")},Th.prototype.wa=function(n){$r(this.g,new yv(n))},Th.prototype.va=function(n){$r(this.g,new kE)},Th.prototype.ua=function(){$r(this.g,"b")},Rp.prototype.createWebChannel=Rp.prototype.g,ys.prototype.send=ys.prototype.u,ys.prototype.open=ys.prototype.m,ys.prototype.close=ys.prototype.close,gp.NO_ERROR=0,gp.TIMEOUT=8,gp.HTTP_ERROR=6,wm.COMPLETE="complete",dE.EventType=Yi,Yi.OPEN="a",Yi.CLOSE="b",Yi.ERROR="c",Yi.MESSAGE="d",_r.prototype.listen=_r.prototype.N,We.prototype.listenOnce=We.prototype.O,We.prototype.getLastError=We.prototype.Oa,We.prototype.getLastErrorCode=We.prototype.Ea,We.prototype.getStatus=We.prototype.aa,We.prototype.getResponseJson=We.prototype.Sa,We.prototype.getResponseText=We.prototype.fa,We.prototype.send=We.prototype.da,We.prototype.setWithCredentials=We.prototype.Ka;var Cx=Wa.createWebChannelTransport=function(){return new Rp},Tx=Wa.getStatEventTarget=function(){return Ka()},PE=Wa.ErrorCode=gp,Sx=Wa.EventType=wm,FE=Wa.Event=ic,Np=Wa.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},vC=Wa.FetchXmlHttpFactory=qo,Lm=Wa.WebChannel=dE,LE=Wa.XhrIo=We;const Sh="@firebase/firestore";class Hr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hr.UNAUTHENTICATED=new Hr(null),Hr.GOOGLE_CREDENTIALS=new Hr("google-credentials-uid"),Hr.FIRST_PARTY=new Hr("first-party-uid"),Hr.MOCK_USER=new Hr("mock-user");let Ah="9.16.0";const uc=new Ju.Yd("@firebase/firestore");function _v(){return uc.logLevel}function Ne(n,...e){if(uc.logLevel<=Ju.in.DEBUG){const t=e.map(vv);uc.debug(`Firestore (${Ah}): ${n}`,...t)}}function Jn(n,...e){if(uc.logLevel<=Ju.in.ERROR){const t=e.map(vv);uc.error(`Firestore (${Ah}): ${n}`,...t)}}function Vl(n,...e){if(uc.logLevel<=Ju.in.WARN){const t=e.map(vv);uc.warn(`Firestore (${Ah}): ${n}`,...t)}}function vv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ze(n="Unexpected state"){const e=`FIRESTORE (${Ah}) INTERNAL ASSERTION FAILED: `+n;throw Jn(e),new Error(e)}function ut(n,e){n||Ze()}function Ge(n,e){return n}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends $t.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class UE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Hr.UNAUTHENTICATED))}shutdown(){}}class wC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class BE{constructor(e){this.t=e,this.currentUser=Hr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=I=>this.i!==i?(i=this.i,t(I)):Promise.resolve();let l=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new vr,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const I=l;e.enqueueRetryable((0,ge.Z)(function*(){yield I.promise,yield u(r.currentUser)}))},v=I=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=I,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(I=>v(I)),setTimeout(()=>{if(!this.auth){const I=this.t.getImmediate({optional:!0});I?v(I):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new vr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut("string"==typeof r.accessToken),new UE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ut(null===e||"string"==typeof e),new Hr(e)}}class jE{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Hr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ut(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class EC{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new jE(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Hr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $E{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IC{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=u=>{null!=u.error&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.A;return this.A=u.token,Ne("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?i(u):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ut("string"==typeof t.token),this.A=t.token,new $E(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function bC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Ev{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=bC(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function Lt(n,e){return n<e?-1:n>e?1:0}function xh(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function GE(n){return n+"\0"}class Ln{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Me(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ln.fromMillis(Date.now())}static fromDate(e){return Ln.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ln(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Lt(this.nanoseconds,e.nanoseconds):Lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class yt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new yt(e)}static min(){return new yt(new Ln(0,0))}static max(){return new yt(new Ln(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Op{constructor(e,t,r){void 0===t?t=0:t>e.length&&Ze(),void 0===r?r=e.length-t:r>e.length-t&&Ze(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Op.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Op?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),l=t.get(i);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Jt extends Op{construct(e,t,r){return new Jt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Jt(t)}static emptyPath(){return new Jt([])}}const DC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends Op{construct(e,t,r){return new Gn(e,t,r)}static isValidIdentifier(e){return DC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Gn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Me(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const m=e[i];if("\\"===m){if(i+1===e.length)throw new Me(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[i+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new Me(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,i+=2}else"`"===m?(l=!l,i++):"."!==m||l?(r+=m,i++):(u(),i++)}if(u(),l)throw new Me(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gn(t)}static emptyPath(){return new Gn([])}}class He{constructor(e){this.path=e}static fromPath(e){return new He(Jt.fromString(e))}static fromName(e){return new He(Jt.fromString(e).popFirst(5))}static empty(){return new He(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Jt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Jt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new Jt(e.slice()))}}class Vm{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Iv(n){return n.fields.find(e=>2===e.kind)}function cc(n){return n.fields.filter(e=>2!==e.kind)}Vm.UNKNOWN_ID=-1;class Um{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ul{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ul(0,Ni.min())}}function Bm(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=yt.fromTimestamp(1e9===r?new Ln(t+1,0):new Ln(t,r));return new Ni(i,He.empty(),e)}function bv(n){return new Ni(n.readTime,n.key,-1)}class Ni{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ni(yt.min(),He.empty(),-1)}static max(){return new Ni(yt.max(),He.empty(),-1)}}function Dv(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=He.comparator(n.documentKey,e.documentKey),0!==t?t:Lt(n.largestBatchId,e.largestBatchId))}const zE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jm{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function lc(n){return $m.apply(this,arguments)}function $m(){return $m=(0,ge.Z)(function*(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==zE)throw n;Ne("LocalStore","Unexpectedly lost primary lease")}),$m.apply(this,arguments)}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,r)=>{t(e)})}static reject(e){return new re((t,r)=>{r(e)})}static waitFor(e){return new re((t,r)=>{let i=0,u=0,l=!1;e.forEach(m=>{++i,m.next(()=>{++u,l&&u===i&&t()},v=>r(v))}),l=!0,u===i&&t()})}static or(e){let t=re.resolve(!1);for(const r of e)t=t.next(i=>i?re.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new re((r,i)=>{const u=e.length,l=new Array(u);let m=0;for(let v=0;v<u;v++){const I=v;t(e[I]).next(S=>{l[I]=S,++m,m===u&&r(l)},S=>i(S))}})}static doWhile(e,t){return new re((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}class kp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new vr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Mh(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=Hm(r.target.error);this.P.reject(new Mh(e,i))}}static open(e,t,r,i){try{return new kp(t,e.transaction(i,r))}catch(u){throw new Mh(t,u)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ne("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new SC(t)}}class ao{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===ao.D((0,$t.z$)())&&Jn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ne("SimpleDb","Removing database:",e),Ya(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,$t.hl)())return!1;if(ao.N())return!0;const e=(0,$t.z$)(),t=ao.D(e),r=0<t&&t<10,i=ao.k(e),u=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,ge.Z)(function*(){return t.db||(Ne("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=l=>{r(l.target.result)},u.onblocked=()=>{i(new Mh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=l=>{const m=l.target.error;i("VersionError"===m.name?new Me(ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Me(ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Mh(e,m))},u.onupgradeneeded=l=>{Ne("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.S.$(l.target.result,u.transaction,l.oldVersion,t.version).next(()=>{Ne("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var u=this;return(0,ge.Z)(function*(){const l="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.F(e);const v=kp.open(u.db,e,l?"readonly":"readwrite",r),I=i(v).next(S=>(v.V(),S)).catch(S=>(v.abort(S),re.reject(S))).toPromise();return I.catch(()=>{}),yield v.v,I}catch(v){const I=v,S="FirebaseError"!==I.name&&m<3;if(Ne("SimpleDb","Transaction failed with error:",I.message,"Retrying:",S),u.close(),!S)return Promise.reject(I)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class xx{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Ya(this.q.delete())}}class Mh extends Me{constructor(e,t){super(ue.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Zo(n){return"IndexedDbTransactionError"===n.name}class SC{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ne("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ne("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ya(r)}add(e){return Ne("SimpleDb","ADD",this.store.name,e,e),Ya(this.store.add(e))}get(e){return Ya(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ne("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ne("SimpleDb","DELETE",this.store.name,e),Ya(this.store.delete(e))}count(){return Ne("SimpleDb","COUNT",this.store.name),Ya(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),u=[];return this.H(i,(l,m)=>{u.push(m)}).next(()=>u)}{const i=this.store.getAll(r.range);return new re((u,l)=>{i.onerror=m=>{l(m.target.error)},i.onsuccess=m=>{u(m.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new re((i,u)=>{r.onerror=l=>{u(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}Y(e,t){Ne("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(u,l,m)=>m.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new re((r,i)=>{t.onerror=u=>{const l=Hm(u.target.error);i(l)},t.onsuccess=u=>{const l=u.target.result;l?e(l.primaryKey,l.value).next(m=>{m?l.continue():r()}):r()}})}H(e,t){const r=[];return new re((i,u)=>{e.onerror=l=>{u(l.target.error)},e.onsuccess=l=>{const m=l.target.result;if(!m)return void i();const v=new xx(m),I=t(m.primaryKey,m.value,v);if(I instanceof re){const S=I.catch(N=>(v.done(),re.reject(N)));r.push(S)}v.isDone?i():null===v.G?m.continue():m.continue(v.G)}}).next(()=>re.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ya(n){return new re((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=Hm(r.target.error);t(i)}})}let qE=!1;function Hm(n){const e=ao.D((0,$t.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qE||(qE=!0,setTimeout(()=>{throw r},0)),r}}return n}class Cv{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Ne("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ge.Z)(function*(){t.task=null;try{Ne("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Zo(r)?Ne("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield lc(r)}yield t.nt(6e4)}))}}class WE{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ge.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,u=!0;return re.doWhile(()=>!0===u&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return Ne("IndexBackiller",`Processing collection: ${l}`),this.rt(e,l,i).next(m=>{i-=m,r.add(l)});u=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(u=>{const l=u.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.ot(i,u)).next(m=>(Ne("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>l.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,u)=>{const l=bv(u);Dv(l,r)>0&&(r=l)}),new Ni(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Qi=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class ZE{constructor(e,t,r,i,u,l,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=m,this.useFetchStreams=v}}class Qa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Qa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Qa&&e.projectId===this.projectId&&e.database===this.database}}function KE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Bl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function YE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Pp(n){return null==n}function Rh(n){return 0===n&&1/n==-1/0}function AC(n){return"number"==typeof n&&Number.isInteger(n)&&!Rh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class xr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new xr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new xr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xr.EMPTY_BYTE_STRING=new xr("");const xC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jl(n){if(ut(!!n),"string"==typeof n){let e=0;const t=xC.exec(n);if(ut(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:er(n.seconds),nanos:er(n.nanos)}}function er(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function $l(n){return"string"==typeof n?xr.fromBase64String(n):xr.fromUint8Array(n)}function Tv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Sv(n){const e=n.mapValue.fields.__previous_value__;return Tv(e)?Sv(e):e}function Fp(n){const e=jl(n.mapValue.fields.__local_write_time__.timestampValue);return new Ln(e.seconds,e.nanos)}const dc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Gm={nullValue:"NULL_VALUE"};function Hl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Tv(n)?4:Mv(n)?9007199254740991:10:Ze()}function Ko(n,e){if(n===e)return!0;const t=Hl(n);if(t!==Hl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fp(n).isEqual(Fp(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=jl(r.timestampValue),l=jl(i.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,$l(n.bytesValue).isEqual($l(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return er(r.geoPointValue.latitude)===er(i.geoPointValue.latitude)&&er(r.geoPointValue.longitude)===er(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return er(r.integerValue)===er(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=er(r.doubleValue),l=er(i.doubleValue);return u===l?Rh(u)===Rh(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return xh(n.arrayValue.values||[],e.arrayValue.values||[],Ko);case 10:return function(r,i){const u=r.mapValue.fields||{},l=i.mapValue.fields||{};if(KE(u)!==KE(l))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===l[m]||!Ko(u[m],l[m])))return!1;return!0}(n,e);default:return Ze()}var i}function Lp(n,e){return void 0!==(n.values||[]).find(t=>Ko(t,e))}function hc(n,e){if(n===e)return 0;const t=Hl(n),r=Hl(e);if(t!==r)return Lt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Lt(n.booleanValue,e.booleanValue);case 2:return function(i,u){const l=er(i.integerValue||i.doubleValue),m=er(u.integerValue||u.doubleValue);return l<m?-1:l>m?1:l===m?0:isNaN(l)?isNaN(m)?0:-1:1}(n,e);case 3:return XE(n.timestampValue,e.timestampValue);case 4:return XE(Fp(n),Fp(e));case 5:return Lt(n.stringValue,e.stringValue);case 6:return function(i,u){const l=$l(i),m=$l(u);return l.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const l=i.split("/"),m=u.split("/");for(let v=0;v<l.length&&v<m.length;v++){const I=Lt(l[v],m[v]);if(0!==I)return I}return Lt(l.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const l=Lt(er(i.latitude),er(u.latitude));return 0!==l?l:Lt(er(i.longitude),er(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const l=i.values||[],m=u.values||[];for(let v=0;v<l.length&&v<m.length;++v){const I=hc(l[v],m[v]);if(I)return I}return Lt(l.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===dc.mapValue&&u===dc.mapValue)return 0;if(i===dc.mapValue)return 1;if(u===dc.mapValue)return-1;const l=i.fields||{},m=Object.keys(l),v=u.fields||{},I=Object.keys(v);m.sort(),I.sort();for(let S=0;S<m.length&&S<I.length;++S){const N=Lt(m[S],I[S]);if(0!==N)return N;const V=hc(l[m[S]],v[I[S]]);if(0!==V)return V}return Lt(m.length,I.length)}(n.mapValue,e.mapValue);default:throw Ze()}}function XE(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Lt(n,e);const t=jl(n),r=jl(e),i=Lt(t.seconds,r.seconds);return 0!==i?i:Lt(t.nanos,r.nanos)}function Yo(n){return zm(n)}function zm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=jl(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?$l(n.bytesValue).toBase64():"referenceValue"in n?He.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const l of r.values||[])u?u=!1:i+=",",i+=zm(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const m of i)l?l=!1:u+=",",u+=`${m}:${zm(r.fields[m])}`;return u+"}"}(n.mapValue):Ze();var e}function fc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function qm(n){return!!n&&"integerValue"in n}function Nh(n){return!!n&&"arrayValue"in n}function Av(n){return!!n&&"nullValue"in n}function xv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wm(n){return!!n&&"mapValue"in n}function Zm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Bl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Zm(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zm(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Mv(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function MC(n){return"nullValue"in n?Gm:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?fc(Qa.empty(),He.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ze()}function RC(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?fc(Qa.empty(),He.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?dc:Ze()}function Rv(n,e){const t=hc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function JE(n,e){const t=hc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Gs{constructor(e,t){this.position=e,this.inclusive=t}}function eI(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],l=n.position[i];if(r=u.field.isKeyField()?He.comparator(He.fromName(l.referenceValue),t.key):hc(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function Km(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ko(n.position[t],e.position[t]))return!1;return!0}class uo{}class Qt extends uo{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new iI(e,t,r):"array-contains"===t?new Fv(e,r):"in"===t?new Ym(e,r):"not-in"===t?new oI(e,r):"array-contains-any"===t?new Lv(e,r):new Qt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new sI(e,r):new kv(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(hc(t,this.value)):null!==t&&Hl(this.value)===Hl(t)&&this.matchesComparison(hc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ze()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class un extends uo{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new un(e,t)}matches(e){return Qo(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Qo(n){return"and"===n.op}function Nv(n){return"or"===n.op}function Ov(n){return tI(n)&&Qo(n)}function tI(n){for(const e of n.filters)if(e instanceof un)return!1;return!0}function Oh(n){if(n instanceof Qt)return n.field.canonicalString()+n.op.toString()+Yo(n.value);if(Ov(n))return n.filters.map(e=>Oh(e)).join(",");{const e=n.filters.map(t=>Oh(t)).join(",");return`${n.op}(${e})`}}function Vp(n,e){return n instanceof Qt?(t=n,(r=e)instanceof Qt&&t.op===r.op&&t.field.isEqual(r.field)&&Ko(t.value,r.value)):n instanceof un?function(t,r){return r instanceof un&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,u,l)=>i&&Vp(u,r.filters[l]),!0)}(n,e):void Ze();var t,r}function nI(n,e){const t=n.filters.concat(e);return un.create(t,n.op)}function rI(n){return n instanceof Qt?`${(e=n).field.canonicalString()} ${e.op} ${Yo(e.value)}`:n instanceof un?function(e){return e.op.toString()+" {"+e.getFilters().map(rI).join(" ,")+"}"}(n):"Filter";var e}class iI extends Qt{constructor(e,t,r){super(e,t,r),this.key=He.fromName(r.referenceValue)}matches(e){const t=He.comparator(e.key,this.key);return this.matchesComparison(t)}}class sI extends Qt{constructor(e,t){super(e,"in",t),this.keys=Pv(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class kv extends Qt{constructor(e,t){super(e,"not-in",t),this.keys=Pv(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Pv(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>He.fromName(r.referenceValue))}class Fv extends Qt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Nh(t)&&Lp(t.arrayValue,this.value)}}class Ym extends Qt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Lp(this.value.arrayValue,t)}}class oI extends Qt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Lp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Lp(this.value.arrayValue,t)}}class Lv extends Qt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Nh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Lp(this.value.arrayValue,r))}}class pc{constructor(e,t="asc"){this.field=e,this.dir=t}}function NC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class tr{constructor(e,t){this.comparator=e,this.root=t||ti.EMPTY}insert(e,t){return new tr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ti.BLACK,null,null))}remove(e){return new tr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ti.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qm(this.root,e,this.comparator,!0)}}class Qm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ti{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??ti.RED,this.left=i??ti.EMPTY,this.right=u??ti.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new ti(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ti.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ti.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ti.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ti.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ze();const e=this.left.check();if(e!==this.right.check())throw Ze();return e+(this.isRed()?0:1)}}ti.EMPTY=null,ti.RED=!0,ti.BLACK=!1,ti.EMPTY=new class{constructor(){this.size=0}get key(){throw Ze()}get value(){throw Ze()}get color(){throw Ze()}get left(){throw Ze()}get right(){throw Ze()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ti(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fn{constructor(e){this.comparator=e,this.data=new tr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xm(this.data.getIterator())}getIteratorFrom(e){return new Xm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new fn(this.comparator);return t.data=e,t}}class Xm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Gl(n){return n.hasNext()?n.getNext():void 0}class Xi{constructor(e){this.fields=e,e.sort(Gn.comparator)}static empty(){return new Xi([])}unionWith(e){let t=new fn(Gn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Xi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Gr{constructor(e){this.value=e}static empty(){return new Gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Wm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zm(t)}setAll(e){let t=Gn.emptyPath(),r={},i=[];e.forEach((l,m)=>{if(!t.isImmediateParentOf(m)){const v=this.getFieldsMap(t);this.applyChanges(v,r,i),r={},i=[],t=m.popLast()}l?r[m.lastSegment()]=Zm(l):i.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());Wm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ko(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Wm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Bl(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new Gr(Zm(this.value))}}function Vv(n){const e=[];return Bl(n.fields,(t,r)=>{const i=new Gn([t]);if(Wm(r)){const u=Vv(r.mapValue).fields;if(0===u.length)e.push(i);else for(const l of u)e.push(i.child(l))}else e.push(i)}),new Xi(e)}class Sn{constructor(e,t,r,i,u,l,m){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=u,this.data=l,this.documentState=m}static newInvalidDocument(e){return new Sn(e,0,yt.min(),yt.min(),yt.min(),Gr.empty(),0)}static newFoundDocument(e,t,r,i){return new Sn(e,1,t,yt.min(),r,i,0)}static newNoDocument(e,t){return new Sn(e,2,t,yt.min(),yt.min(),Gr.empty(),0)}static newUnknownDocument(e,t){return new Sn(e,3,t,yt.min(),yt.min(),Gr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(yt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class aI{constructor(e,t=null,r=[],i=[],u=null,l=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=l,this.endAt=m,this.ft=null}}function Jm(n,e=null,t=[],r=[],i=null,u=null,l=null){return new aI(n,e,t,r,i,u,l)}function zl(n){const e=Ge(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Oh(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Pp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Yo(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Yo(r)).join(",")),e.ft=t}return e.ft}function kh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!NC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Vp(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Km(n.startAt,e.startAt)&&Km(n.endAt,e.endAt)}function ey(n){return He.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function zr(n,e){return n.filters.filter(t=>t instanceof Qt&&t.field.isEqual(e))}function ql(n,e,t){let r=Gm,i=!0;for(const u of zr(n,e)){let l=Gm,m=!0;switch(u.op){case"<":case"<=":l=MC(u.value);break;case"==":case"in":case">=":l=u.value;break;case">":l=u.value,m=!1;break;case"!=":case"not-in":l=Gm}Rv({value:r,inclusive:i},{value:l,inclusive:m})<0&&(r=l,i=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];Rv({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}function uI(n,e,t){let r=dc,i=!0;for(const u of zr(n,e)){let l=dc,m=!0;switch(u.op){case">=":case">":l=RC(u.value),m=!1;break;case"==":case"in":case"<=":l=u.value;break;case"<":l=u.value,m=!1;break;case"!=":case"not-in":l=dc}JE({value:r,inclusive:i},{value:l,inclusive:m})>0&&(r=l,i=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const l=t.position[u];JE({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}class Xa{constructor(e,t=null,r=[],i=[],u=null,l="F",m=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=l,this.startAt=m,this.endAt=v,this.dt=null,this._t=null}}function OC(n,e,t,r,i,u,l,m){return new Xa(n,e,t,r,i,u,l,m)}function Up(n){return new Xa(n)}function Uv(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function ty(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function gc(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Bv(n){return null!==n.collectionGroup}function Ja(n){const e=Ge(n);if(null===e.dt){e.dt=[];const t=gc(e),r=ty(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new pc(t)),e.dt.push(new pc(Gn.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.dt.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new pc(Gn.keyField(),u))}}}return e.dt}function Oi(n){const e=Ge(n);if(!e._t)if("F"===e.limitType)e._t=Jm(e.path,e.collectionGroup,Ja(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Ja(e))t.push(new pc(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Gs(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Gs(e.startAt.position,e.startAt.inclusive):null;e._t=Jm(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function ny(n,e){e.getFirstInequalityField(),gc(n);const t=n.filters.concat([e]);return new Xa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ry(n,e,t){return new Xa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Bp(n,e){return kh(Oi(n),Oi(e))&&n.limitType===e.limitType}function cI(n){return`${zl(Oi(n))}|lt:${n.limitType}`}function jp(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>rI(r)).join(", ")}]`),Pp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Yo(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Yo(r)).join(",")),`Target(${t})`}(Oi(n))}; limitType=${n.limitType})`}function iy(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):He.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Ja(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,l){const m=eI(i,u,l);return i.inclusive?m<=0:m<0}(t.startAt,Ja(t),r)||t.endAt&&!function(i,u,l){const m=eI(i,u,l);return i.inclusive?m>=0:m>0}(t.endAt,Ja(t),r)));var t,r}function jv(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function $p(n){return(e,t)=>{let r=!1;for(const i of Ja(n)){const u=$v(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function $v(n,e,t){const r=n.field.isKeyField()?He.comparator(e.key,t.key):function(i,u,l){const m=u.data.field(i),v=l.data.field(i);return null!==m&&null!==v?hc(m,v):Ze()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ze()}}function kC(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(e)?"-0":e}}function Hv(n){return{integerValue:""+n}}function lI(n,e){return AC(e)?Hv(e):kC(n,e)}class Hp{constructor(){this._=void 0}}function Ph(n,e,t){return n instanceof mc?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof Fh?dI(n,e):n instanceof Lh?hI(n,e):function(r,i){const u=Gv(r,i),l=fI(u)+fI(r.gt);return qm(u)&&qm(r.gt)?Hv(l):kC(r.yt,l)}(n,e)}function PC(n,e,t){return n instanceof Fh?dI(n,e):n instanceof Lh?hI(n,e):t}function Gv(n,e){return n instanceof Vh?qm(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class mc extends Hp{}class Fh extends Hp{constructor(e){super(),this.elements=e}}function dI(n,e){const t=zv(e);for(const r of n.elements)t.some(i=>Ko(i,r))||t.push(r);return{arrayValue:{values:t}}}class Lh extends Hp{constructor(e){super(),this.elements=e}}function hI(n,e){let t=zv(e);for(const r of n.elements)t=t.filter(i=>!Ko(i,r));return{arrayValue:{values:t}}}class Vh extends Hp{constructor(e,t){super(),this.yt=e,this.gt=t}}function fI(n){return er(n.integerValue||n.doubleValue)}function zv(n){return Nh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Uh{constructor(e,t){this.field=e,this.transform=t}}class pI{constructor(e,t){this.version=e,this.transformResults=t}}class An{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new An}static exists(e){return new An(void 0,e)}static updateTime(e){return new An(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sy(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class oy{}function qv(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Gp(n.key,An.none()):new Wl(n.key,n.data,An.none());{const t=n.data,r=Gr.empty();let i=new fn(Gn.comparator);for(let u of e.fields)if(!i.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),i=i.add(u)}return new eu(n.key,r,new Xi(i.toArray()),An.none())}}function LC(n,e,t){n instanceof Wl?function(r,i,u){const l=r.value.clone(),m=VC(r.fieldTransforms,i,u.transformResults);l.setAll(m),i.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof eu?function(r,i,u){if(!sy(r.precondition,i))return void i.convertToUnknownDocument(u.version);const l=VC(r.fieldTransforms,i,u.transformResults),m=i.data;m.setAll(mI(r)),m.setAll(l),i.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Bh(n,e,t,r){return n instanceof Wl?function(i,u,l,m){if(!sy(i.precondition,u))return l;const v=i.value.clone(),I=Zv(i.fieldTransforms,m,u);return v.setAll(I),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),null}(n,e,t,r):n instanceof eu?function(i,u,l,m){if(!sy(i.precondition,u))return l;const v=Zv(i.fieldTransforms,m,u),I=u.data;return I.setAll(mI(i)),I.setAll(v),u.convertToFoundDocument(u.version,I).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(S=>S.field))}(n,e,t,r):(l=t,sy(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function gI(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=Gv(r.transform,i||null);null!=u&&(null===t&&(t=Gr.empty()),t.set(r.field,u))}return t||null}function Wv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&xh(t,r,(i,u)=>function FC(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Fh&&r instanceof Fh||t instanceof Lh&&r instanceof Lh?xh(t.elements,r.elements,Ko):t instanceof Vh&&r instanceof Vh?Ko(t.gt,r.gt):t instanceof mc&&r instanceof mc);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Wl extends oy{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class eu extends oy{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function mI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function VC(n,e,t){const r=new Map;ut(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],l=u.transform,m=e.data.field(u.field);r.set(u.field,PC(l,m,t[i]))}return r}function Zv(n,e,t){const r=new Map;for(const i of n){const u=i.transform,l=t.data.field(i.field);r.set(i.field,Ph(u,l,e))}return r}class Gp extends oy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yI extends oy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Mx{constructor(e){this.count=e}}var Mr,tn;function UC(n){switch(n){default:return Ze();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function BC(n){if(void 0===n)return Jn("GRPC error has no .code"),ue.UNKNOWN;switch(n){case Mr.OK:return ue.OK;case Mr.CANCELLED:return ue.CANCELLED;case Mr.UNKNOWN:return ue.UNKNOWN;case Mr.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Mr.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Mr.INTERNAL:return ue.INTERNAL;case Mr.UNAVAILABLE:return ue.UNAVAILABLE;case Mr.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Mr.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Mr.NOT_FOUND:return ue.NOT_FOUND;case Mr.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Mr.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Mr.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Mr.ABORTED:return ue.ABORTED;case Mr.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Mr.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Mr.DATA_LOSS:return ue.DATA_LOSS;default:return Ze()}}(tn=Mr||(Mr={}))[tn.OK=0]="OK",tn[tn.CANCELLED=1]="CANCELLED",tn[tn.UNKNOWN=2]="UNKNOWN",tn[tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tn[tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tn[tn.NOT_FOUND=5]="NOT_FOUND",tn[tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",tn[tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",tn[tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",tn[tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tn[tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tn[tn.ABORTED=10]="ABORTED",tn[tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",tn[tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",tn[tn.INTERNAL=13]="INTERNAL",tn[tn.UNAVAILABLE=14]="UNAVAILABLE",tn[tn.DATA_LOSS=15]="DATA_LOSS";class Zl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bl(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return YE(this.inner)}size(){return this.innerSize}}const ay=new tr(He.comparator);function _s(){return ay}const Kv=new tr(He.comparator);function yc(...n){let e=Kv;for(const t of n)e=e.insert(t.key,t);return e}function Yv(n){let e=Kv;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function co(){return Kl()}function jC(){return Kl()}function Kl(){return new Zl(n=>n.toString(),(n,e)=>n.isEqual(e))}const _I=new tr(He.comparator),$C=new fn(He.comparator);function Ht(...n){let e=$C;for(const t of n)e=e.add(t);return e}const Rx=new fn(Lt);function Qv(){return Rx}class zp{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,qp.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new zp(yt.min(),i,Qv(),_s(),Ht())}}class qp{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new qp(r,t,Ht(),Ht(),Ht())}}class Yl{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class vI{constructor(e,t){this.targetId=e,this.Et=t}}class HC{constructor(e,t,r=xr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class GC{constructor(){this.At=0,this.Rt=EI(),this.bt=xr.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Ht(),t=Ht(),r=Ht();return this.Rt.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ze()}}),new qp(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=EI()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Nx{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=_s(),this.qt=wI(),this.Ut=new fn(Lt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:Ze()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const u=i.target;if(ey(u))if(0===r){const l=new He(u.path);this.Qt(t,l,Sn.newNoDocument(l,yt.min()))}else ut(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((u,l)=>{const m=this.Yt(l);if(m){if(u.current&&ey(m.target)){const v=new He(m.target.path);null!==this.Lt.get(v)||this.te(l,v)||this.Qt(l,v,Sn.newNoDocument(v,e))}u.St&&(t.set(l,u.Ct()),u.xt())}});let r=Ht();this.qt.forEach((u,l)=>{let m=!0;l.forEachWhile(v=>{const I=this.Yt(v);return!I||2===I.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.Lt.forEach((u,l)=>l.setReadTime(e));const i=new zp(e,t,this.Ut,this.Lt,r);return this.Lt=_s(),this.qt=wI(),this.Ut=new fn(Lt),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new GC,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new fn(Lt),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new GC),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function wI(){return new tr(He.comparator)}function EI(){return new tr(He.comparator)}const zC={asc:"ASCENDING",desc:"DESCENDING"},Ox={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qC={and:"AND",or:"OR"};class II{constructor(e,t){this.databaseId=e,this.wt=t}}function Ql(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WC(n,e){return n.wt?e.toBase64():e.toUint8Array()}function lo(n,e){return Ql(n,e.toTimestamp())}function ar(n){return ut(!!n),yt.fromTimestamp(function(e){const t=jl(e);return new Ln(t.seconds,t.nanos)}(n))}function Wp(n,e){return(t=n,new Jt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function bI(n){const e=Jt.fromString(n);return ut(SI(e)),e}function uy(n,e){return Wp(n.databaseId,e.path)}function ur(n,e){const t=bI(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new He(DI(t))}function Xv(n,e){return Wp(n.databaseId,e)}function cy(n){const e=bI(n);return 4===e.length?Jt.emptyPath():DI(e)}function Zp(n){return new Jt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function DI(n){return ut(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function ly(n,e,t){return{name:uy(n,e),fields:t.value.mapValue.fields}}function Jv(n,e,t){const r=ur(n,e.name),i=ar(e.updateTime),u=e.createTime?ar(e.createTime):yt.min(),l=new Gr({mapValue:{fields:e.fields}}),m=Sn.newFoundDocument(r,i,u,l);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function jh(n,e){let t;if(e instanceof Wl)t={update:ly(n,e.key,e.value)};else if(e instanceof Gp)t={delete:uy(n,e.key)};else if(e instanceof eu)t={update:ly(n,e.key,e.data),updateMask:QC(e.fieldMask)};else{if(!(e instanceof yI))return Ze();t={verify:uy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const l=u.transform;if(l instanceof mc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Fh)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Lh)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Vh)return{fieldPath:u.field.canonicalString(),increment:l.gt};throw Ze()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:lo(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Ze()),t;var i}function dy(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?An.updateTime(ar(i.updateTime)):void 0!==i.exists?An.exists(i.exists):An.none():An.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,l){let m=null;"setToServerValue"in l?(ut("REQUEST_TIME"===l.setToServerValue),m=new mc):"appendMissingElements"in l?m=new Fh(l.appendMissingElements.values||[]):"removeAllFromArray"in l?m=new Lh(l.removeAllFromArray.values||[]):"increment"in l?m=new Vh(u,l.increment):Ze();const v=Gn.fromServerFormat(l.fieldPath);return new Uh(v,m)}(n,i)):[];var i;if(e.update){const i=ur(n,e.update.name),u=new Gr({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Xi((e.updateMask.fieldPaths||[]).map(I=>Gn.fromServerFormat(I)));return new eu(i,u,l,t,r)}return new Wl(i,u,t,r)}if(e.delete){const i=ur(n,e.delete);return new Gp(i,t)}if(e.verify){const i=ur(n,e.verify);return new yI(i,t)}return Ze()}function e0(n,e){return{documents:[Xv(n,e.path)]}}function t0(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Xv(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Xv(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(v){if(0!==v.length)return TI(un.create(v,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const u=function(v){if(0!==v.length)return v.map(I=>{return{field:Kp((S=I).field),direction:r0(S.dir)};var S})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=(I=e.limit,n.wt||Pp(I)?I:{value:I});var I,m,v;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function hy(n){let e=cy(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ut(1===r);const S=t.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let u=[];t.where&&(u=function(S){const N=n0(S);return N instanceof un&&Ov(N)?N.getFilters():[N]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(S=>{return new pc($h((N=S).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction));var N}));let m=null;t.limit&&(m=function(S){let N;return N="object"==typeof S?S.value:S,Pp(N)?null:N}(t.limit));let v=null;var S;t.startAt&&(v=new Gs((S=t.startAt).values||[],!!S.before));let I=null;return t.endAt&&(I=function(S){return new Gs(S.values||[],!S.before)}(t.endAt)),OC(e,i,l,u,m,"F",v,I)}function n0(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=$h(e.unaryFilter.field);return Qt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=$h(e.unaryFilter.field);return Qt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=$h(e.unaryFilter.field);return Qt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=$h(e.unaryFilter.field);return Qt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ze()}}(n):void 0!==n.fieldFilter?Qt.create($h((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ze()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return un.create(e.compositeFilter.filters.map(t=>n0(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Ze()}}(e.compositeFilter.op))}(n):Ze();var e}function r0(n){return zC[n]}function tu(n){return Ox[n]}function YC(n){return qC[n]}function Kp(n){return{fieldPath:n.canonicalString()}}function $h(n){return Gn.fromServerFormat(n.fieldPath)}function TI(n){return n instanceof Qt?function(e){if("=="===e.op){if(xv(e.value))return{unaryFilter:{field:Kp(e.field),op:"IS_NAN"}};if(Av(e.value))return{unaryFilter:{field:Kp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(xv(e.value))return{unaryFilter:{field:Kp(e.field),op:"IS_NOT_NAN"}};if(Av(e.value))return{unaryFilter:{field:Kp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kp(e.field),op:tu(e.op),value:e.value}}}(n):n instanceof un?function(e){const t=e.getFilters().map(r=>TI(r));return 1===t.length?t[0]:{compositeFilter:{op:YC(e.op),filters:t}}}(n):Ze()}function QC(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function SI(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function pi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=s0(e)),e=kx(n.get(t),e);return s0(e)}function kx(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const u=n.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function s0(n){return n+"\x01\x01"}function Xo(n){const e=n.length;if(ut(e>=2),2===e)return ut("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Jt.emptyPath();const t=e-2,r=[];let i="";for(let u=0;u<e;){const l=n.indexOf("\x01",u);switch((l<0||l>t)&&Ze(),n.charAt(l+1)){case"\x01":const m=n.substring(u,l);let v;0===i.length?v=m:(i+=m,v=i,i=""),r.push(v);break;case"\x10":i+=n.substring(u,l),i+="\0";break;case"\x11":i+=n.substring(u,l+1);break;default:Ze()}u=l+2}return new Jt(r)}const o0=["userId","batchId"];function a0(n,e){return[n,pi(e)]}function fy(n,e,t){return[n,pi(e),t]}const AI={},xI=["prefixPath","collectionGroup","readTime","documentId"],MI=["prefixPath","collectionGroup","documentId"],RI=["collectionGroup","readTime","prefixPath","documentId"],NI=["canonicalId","targetId"],py=["targetId","path"],gy=["path","targetId"],OI=["collectionId","parent"],XC=["indexId","uid"],JC=["uid","sequenceNumber"],Px=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Fx=["indexId","uid","orderedDocumentKey"],Lx=["userId","collectionPath","documentId"],kI=["userId","collectionPath","largestBatchId"],eT=["userId","collectionGroup","largestBatchId"],PI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],tT=[...PI,"documentOverlays"],nT=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rT=nT,Vx=[...rT,"indexConfiguration","indexState","indexEntries"];class FI extends jm{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function ni(n,e){const t=Ge(n);return ao.M(t.se,e)}class u0{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&LC(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Bh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Bh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=jC();return this.mutations.forEach(i=>{const u=e.get(i.key),l=u.overlayedDocument;let m=this.applyToLocalView(l,u.mutatedFields);m=t.has(i.key)?null:m;const v=qv(l,m);null!==v&&r.set(i.key,v),l.isValidDocument()||l.convertToNoDocument(yt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ht())}isEqual(e){return this.batchId===e.batchId&&xh(this.mutations,e.mutations,(t,r)=>Wv(t,r))&&xh(this.baseMutations,e.baseMutations,(t,r)=>Wv(t,r))}}class Hh{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ut(e.mutations.length===r.length);let i=_I;const u=e.mutations;for(let l=0;l<u.length;l++)i=i.insert(u[l].key,r[l].version);return new Hh(e,t,r,i)}}class c0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class vc{constructor(e,t,r,i,u=yt.min(),l=yt.min(),m=xr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=m}withSequenceNumber(e){return new vc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new vc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new vc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class l0{constructor(e){this.ie=e}}function d0(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Gh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:uy(i=n.ie,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Ql(i,u.version.toTimestamp()),createTime:Ql(i,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:nu(e.version)};else{if(!e.isUnknownDocument())return Ze();r.unknownDocument={path:t.path.toArray(),version:nu(e.version)}}var i,u;return r}function Gh(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function nu(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Jl(n){const e=new Ln(n.seconds,n.nanoseconds);return yt.fromTimestamp(e)}function ru(n,e){const t=(e.baseMutations||[]).map(u=>dy(n.ie,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const r=e.mutations.map(u=>dy(n.ie,u)),i=Ln.fromMillis(e.localWriteTimeMs);return new u0(e.batchId,i,t,r)}function ed(n){const e=Jl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Jl(n.lastLimboFreeSnapshotVersion):yt.min();let r;var i;return void 0!==n.query.documents?(ut(1===(i=n.query).documents.length),r=Oi(Up(cy(i.documents[0])))):r=Oi(hy(n.query)),new vc(r,n.targetId,0,n.lastListenSequenceNumber,e,t,xr.fromBase64String(n.resumeToken))}function Yp(n,e){const t=nu(e.snapshotVersion),r=nu(e.lastLimboFreeSnapshotVersion);let i;i=ey(e.target)?e0(n.ie,e.target):t0(n.ie,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:zl(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function LI(n){const e=hy({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ry(e,e.limit,"L"):e}function VI(n,e){return new c0(e.largestBatchId,dy(n.ie,e.overlayMutation))}function iT(n,e){const t=e.path.lastSegment();return[n,pi(e.path.popLast()),t]}function sT(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:nu(r.readTime),documentKey:pi(r.documentKey.path),largestBatchId:r.largestBatchId}}class UI{getBundleMetadata(e,t){return BI(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Jl(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return BI(e).put({bundleId:(r=t).id,createTime:nu(ar(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return jI(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:LI(i.bundledQuery),readTime:Jl(i.readTime)};var i})}saveNamedQuery(e,t){return jI(e).put({name:(r=t).name,readTime:nu(ar(r.readTime)),bundledQuery:r.bundledQuery});var r}}function BI(n){return ni(n,"bundles")}function jI(n){return ni(n,"namedQueries")}class my{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new my(e,t.uid||"")}getOverlay(e,t){return Qp(e).get(iT(this.userId,t)).next(r=>r?VI(this.yt,r):null)}getOverlays(e,t){const r=co();return re.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((u,l)=>{const m=new c0(t,l);i.push(this.oe(e,m))}),re.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(pi(l.getCollectionPath())));const u=[];return i.forEach(l=>{const m=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);u.push(Qp(e).Y("collectionPathOverlayIndex",m))}),re.waitFor(u)}getOverlaysForCollection(e,t,r){const i=co(),u=pi(t),l=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Qp(e).W("collectionPathOverlayIndex",l).next(m=>{for(const v of m){const I=VI(this.yt,v);i.set(I.getKey(),I)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const u=co();let l;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Qp(e).Z({index:"collectionGroupOverlayIndex",range:m},(v,I,S)=>{const N=VI(this.yt,I);u.size()<i||N.largestBatchId===l?(u.set(N.getKey(),N),l=N.largestBatchId):S.done()}).next(()=>u)}oe(e,t){return Qp(e).put(function(r,i,u){const[l,m,v]=iT(i,u.mutation.key);return{userId:i,collectionPath:m,documentId:v,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:jh(r.ie,u.mutation)}}(this.yt,this.userId,t))}}function Qp(n){return ni(n,"documentOverlays")}class wc{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(er(e.integerValue));else if("doubleValue"in e){const r=er(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),Rh(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we($l(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?Mv(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Ze()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),He.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function $I(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function h0(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const u=$I(255&t[i]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}wc.Ie=new wc;class oT{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ee(r.value),r=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.be(r.value),r=t.next();this.Pe()}ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const i=t.codePointAt(0);this.Ee(240|i>>>18),this.Ee(128|63&i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i)}}this.Ae()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=t.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Pe()}Se(e){const t=this.De(e),r=h0(t);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}xe(e){const t=this.De(e),r=h0(t);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class aT{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class HI{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class td{constructor(){this.$e=new oT,this.Be=new aT(this.$e),this.Le=new HI(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class zh{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new zh(this.indexId,this.documentKey,this.arrayValue,r)}}function iu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=yy(n.arrayValue,e.arrayValue),0!==t?t:(t=yy(n.directionalValue,e.directionalValue),0!==t?t:He.comparator(n.documentKey,e.documentKey)))}function yy(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class uT{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const r=t;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){ut(e.collectionGroup===this.collectionId);const t=Iv(e);if(void 0!==t&&!this.We(t))return!1;const r=cc(e);let i=0,u=0;for(;i<r.length&&this.We(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Qe){const l=r[i];if(!this.ze(this.Qe,l)||!this.He(this.Ke[u++],l))return!1;++i}for(;i<r.length;++i)if(u>=this.Ke.length||!this.He(this.Ke[u++],r[i]))return!1;return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function GI(n){var e,t;if(ut(n instanceof Qt||n instanceof un),n instanceof Qt){if(n instanceof Ym){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>Qt.create(n.field,"==",u)))||[];return un.create(i,"or")}return n}const r=n.filters.map(i=>GI(i));return un.create(r,n.op)}function Ux(n){if(0===n.getFilters().length)return[];const e=p0(GI(n));return ut(qI(e)),zI(e)||f0(e)?[e]:e.getFilters()}function zI(n){return n instanceof Qt}function f0(n){return n instanceof un&&Ov(n)}function qI(n){return zI(n)||f0(n)||function(e){if(e instanceof un&&Nv(e)){for(const t of e.getFilters())if(!zI(t)&&!f0(t))return!1;return!0}return!1}(n)}function p0(n){if(ut(n instanceof Qt||n instanceof un),n instanceof Qt)return n;if(1===n.filters.length)return p0(n.filters[0]);const e=n.filters.map(r=>p0(r));let t=un.create(e,n.op);return t=g0(t),qI(t)?t:(ut(t instanceof un),ut(Qo(t)),ut(t.filters.length>1),t.filters.reduce((r,i)=>WI(r,i)))}function WI(n,e){let t;return ut(n instanceof Qt||n instanceof un),ut(e instanceof Qt||e instanceof un),t=n instanceof Qt?e instanceof Qt?un.create([n,e],"and"):cT(n,e):e instanceof Qt?cT(e,n):function(r,i){if(ut(r.filters.length>0&&i.filters.length>0),Qo(r)&&Qo(i))return nI(r,i.getFilters());const u=Nv(r)?r:i,l=Nv(r)?i:r,m=u.filters.map(v=>WI(v,l));return un.create(m,"or")}(n,e),g0(t)}function cT(n,e){if(Qo(e))return nI(e,n.getFilters());{const t=e.filters.map(r=>WI(n,r));return un.create(t,"or")}}function g0(n){if(ut(n instanceof Qt||n instanceof un),n instanceof Qt)return n;const e=n.getFilters();if(1===e.length)return g0(e[0]);if(tI(n))return n;const t=e.map(i=>g0(i)),r=[];return t.forEach(i=>{i instanceof Qt?r.push(i):i instanceof un&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:un.create(r,n.op)}class Bx{constructor(){this.Je=new ZI}addToCollectionParentIndex(e,t){return this.Je.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(Ni.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(Ni.min())}updateCollectionGroup(e,t,r){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class ZI{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new fn(Jt.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new fn(Jt.comparator)).toArray()}}const _y=new Uint8Array(0);class jx{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new ZI,this.Xe=new Zl(r=>zl(r),(r,i)=>kh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const u={collectionId:r,parent:pi(i)};return lT(e).put(u)}return re.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[GE(t),""],!1,!0);return lT(e).W(i).next(u=>{for(const l of u){if(l.collectionId!==t)break;r.push(Xo(l.parent))}return r})}addFieldIndex(e,t){const r=m0(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var l;delete i.indexId;const u=r.add(i);if(t.indexState){const l=wy(e);return u.next(m=>{l.put(sT(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=m0(e),i=wy(e),u=vy(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=vy(e);let i=!0;const u=new Map;return re.forEach(this.Ze(t),l=>this.tn(e,l).next(m=>{i&&(i=!!m),u.set(l,m)})).next(()=>{if(i){let l=Ht();const m=[];return re.forEach(u,(v,I)=>{var S;Ne("IndexedDbIndexManager",`Using index ${S=v,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(ot=>`${ot.fieldPath}:${ot.kind}`).join(",")}`} to execute ${zl(t)}`);const N=function(ot,st){const Ct=Iv(st);if(void 0===Ct)return null;for(const Vt of zr(ot,Ct.fieldPath))switch(Vt.op){case"array-contains-any":return Vt.value.arrayValue.values||[];case"array-contains":return[Vt.value]}return null}(I,v),V=function(ot,st){const Ct=new Map;for(const Vt of cc(st))for(const lr of zr(ot,Vt.fieldPath))switch(lr.op){case"==":case"in":Ct.set(Vt.fieldPath.canonicalString(),lr.value);break;case"not-in":case"!=":return Ct.set(Vt.fieldPath.canonicalString(),lr.value),Array.from(Ct.values())}return null}(I,v),z=function(ot,st){const Ct=[];let Vt=!0;for(const lr of cc(st)){const au=0===lr.kind?ql(ot,lr.fieldPath,ot.startAt):uI(ot,lr.fieldPath,ot.startAt);Ct.push(au.value),Vt&&(Vt=au.inclusive)}return new Gs(Ct,Vt)}(I,v),Q=function(ot,st){const Ct=[];let Vt=!0;for(const lr of cc(st)){const au=0===lr.kind?uI(ot,lr.fieldPath,ot.endAt):ql(ot,lr.fieldPath,ot.endAt);Ct.push(au.value),Vt&&(Vt=au.inclusive)}return new Gs(Ct,Vt)}(I,v),we=this.en(v,I,z),be=this.en(v,I,Q),nt=this.nn(v,I,V),Et=this.sn(v.indexId,N,we,z.inclusive,be,Q.inclusive,nt);return re.forEach(Et,ot=>r.J(ot,t.limit).next(st=>{st.forEach(Ct=>{const Vt=He.fromSegments(Ct.documentKey);l.has(Vt)||(l=l.add(Vt),m.push(Vt))})}))}).next(()=>m)}return re.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:Ux(un.create(e.filters,"and")).map(r=>Jm(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,r,i,u,l,m){const v=(null!=t?t.length:1)*Math.max(r.length,u.length),I=v/(null!=t?t.length:1),S=[];for(let N=0;N<v;++N){const V=t?this.rn(t[N/I]):_y,z=this.on(e,V,r[N%I],i),Q=this.un(e,V,u[N%I],l),we=m.map(be=>this.on(e,V,be,!0));S.push(...this.createRange(z,Q,we))}return S}on(e,t,r,i){const u=new zh(e,He.empty(),t,r);return i?u:u.Ue()}un(e,t,r,i){const u=new zh(e,He.empty(),t,r);return i?u.Ue():u}tn(e,t){const r=new uT(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(u=>{let l=null;for(const m of u)r.je(m)&&(!l||m.fields.length>l.fields.length)&&(l=m);return l})}getIndexType(e,t){let r=2;const i=this.Ze(t);return re.forEach(i,u=>this.tn(e,u).next(l=>{l?0!==r&&l.fields.length<function(m){let v=new fn(Gn.comparator),I=!1;for(const S of m.filters)for(const N of S.getFlattenedFilters())N.field.isKeyField()||("array-contains"===N.op||"array-contains-any"===N.op?I=!0:v=v.add(N.field));for(const S of m.orderBy)S.field.isKeyField()||(v=v.add(S.field));return v.size+(I?1:0)}(u)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}cn(e,t){const r=new td;for(const i of cc(e)){const u=t.data.field(i.fieldPath);if(null==u)return null;const l=r.qe(i.kind);wc.Ie.ue(u,l)}return r.Fe()}rn(e){const t=new td;return wc.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const r=new td;return wc.Ie.ue(fc(this.databaseId,t),r.qe(function(i){const u=cc(i);return 0===u.length?0:u[u.length-1].kind}(e))),r.Fe()}nn(e,t,r){if(null===r)return[];let i=[];i.push(new td);let u=0;for(const l of cc(e)){const m=r[u++];for(const v of i)if(this.hn(t,l.fieldPath)&&Nh(m))i=this.ln(i,l,m);else{const I=v.qe(l.kind);wc.Ie.ue(m,I)}}return this.fn(i)}en(e,t,r){return this.nn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Fe();return t}ln(e,t,r){const i=[...e],u=[];for(const l of r.arrayValue.values||[])for(const m of i){const v=new td;v.seed(m.Fe()),wc.Ie.ue(l,v.qe(t.kind)),u.push(v)}return u}hn(e,t){return!!e.filters.find(r=>r instanceof Qt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=m0(e),i=wy(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(u=>{const l=[];return re.forEach(u,m=>i.get([m.indexId,this.uid]).next(v=>{l.push(function(I,S){const N=S?new Ul(S.sequenceNumber,new Ni(Jl(S.readTime),new He(Xo(S.documentKey)),S.largestBatchId)):Ul.empty(),V=I.fields.map(([z,Q])=>new Um(Gn.fromServerFormat(z),Q));return new Vm(I.indexId,I.collectionGroup,V,N)}(m,v))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const u=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==u?u:Lt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=m0(e),u=wy(e);return this.dn(e).next(l=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>re.forEach(m,v=>u.put(sT(v.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return re.forEach(t,(i,u)=>{const l=r.get(i.collectionGroup);return(l?re.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(m=>(r.set(i.collectionGroup,m),re.forEach(m,v=>this._n(e,i,v).next(I=>{const S=this.wn(u,v);return I.isEqual(S)?re.resolve():this.mn(e,u,v,I,S)}))))})}gn(e,t,r,i){return vy(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(r,t.key),documentKey:t.key.path.toArray()})}yn(e,t,r,i){return vy(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(r,t.key),t.key.path.toArray()])}_n(e,t,r){const i=vy(e);let u=new fn(iu);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,t)])},(l,m)=>{u=u.add(new zh(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}wn(e,t){let r=new fn(iu);const i=this.cn(t,e);if(null==i)return r;const u=Iv(t);if(null!=u){const l=e.data.field(u.fieldPath);if(Nh(l))for(const m of l.arrayValue.values||[])r=r.add(new zh(t.indexId,e.key,this.rn(m),i))}else r=r.add(new zh(t.indexId,e.key,_y,i));return r}mn(e,t,r,i,u){Ne("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(m,v,I,S,N){const V=m.getIterator(),z=v.getIterator();let Q=Gl(V),we=Gl(z);for(;Q||we;){let be=!1,nt=!1;if(Q&&we){const Et=I(Q,we);Et<0?nt=!0:Et>0&&(be=!0)}else null!=Q?nt=!0:be=!0;be?(S(we),we=Gl(z)):nt?(N(Q),Q=Gl(V)):(Q=Gl(V),we=Gl(z))}}(i,u,iu,m=>{l.push(this.gn(e,t,r,m))},m=>{l.push(this.yn(e,t,r,m))}),re.waitFor(l)}dn(e){let t=1;return wy(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,u)=>{u.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,m)=>iu(l,m)).filter((l,m,v)=>!m||0!==iu(l,v[m-1]));const i=[];i.push(e);for(const l of r){const m=iu(l,e),v=iu(l,t);if(0===m)i[0]=e.Ue();else if(m>0&&v<0)i.push(l),i.push(l.Ue());else if(v>0)break}i.push(t);const u=[];for(let l=0;l<i.length;l+=2){if(this.pn(i[l],i[l+1]))return[];u.push(IDBKeyRange.bound([i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,_y,[]],[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,_y,[]]))}return u}pn(e,t){return iu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(dT)}getMinOffset(e,t){return re.mapArray(this.Ze(t),r=>this.tn(e,r).next(i=>i||Ze())).next(dT)}}function lT(n){return ni(n,"collectionParents")}function vy(n){return ni(n,"indexEntries")}function m0(n){return ni(n,"indexConfiguration")}function wy(n){return ni(n,"indexState")}function dT(n){ut(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Dv(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Ni(e.readTime,e.documentKey,t)}const s={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class o{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new o(e,o.DEFAULT_COLLECTION_PERCENTILE,o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function a(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),u=[],l=IDBKeyRange.only(t.batchId);let m=0;const v=r.Z({range:l},(S,N,V)=>(m++,V.delete()));u.push(v.next(()=>{ut(1===m)}));const I=[];for(const S of t.mutations){const N=fy(e,S.key.path,t.batchId);u.push(i.delete(N)),I.push(S.key)}return re.waitFor(u).next(()=>I)}function c(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ze();e=n.noDocument}return JSON.stringify(e).length}o.DEFAULT_COLLECTION_PERCENTILE=10,o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,o.DEFAULT=new o(41943040,o.DEFAULT_COLLECTION_PERCENTILE,o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),o.DISABLED=new o(-1,0,0);class d{constructor(e,t,r,i){this.userId=e,this.yt=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static re(e,t,r,i){ut(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new d(u,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return y(e).Z({index:"userMutationsIndex",range:r},(i,u,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const u=E(e),l=y(e);return l.add({}).next(m=>{ut("number"==typeof m);const v=new u0(m,t,r,i),I=function(V,z,Q){const we=Q.baseMutations.map(nt=>jh(V.ie,nt)),be=Q.mutations.map(nt=>jh(V.ie,nt));return{userId:z,batchId:Q.batchId,localWriteTimeMs:Q.localWriteTime.toMillis(),baseMutations:we,mutations:be}}(this.yt,this.userId,v),S=[];let N=new fn((V,z)=>Lt(V.canonicalString(),z.canonicalString()));for(const V of i){const z=fy(this.userId,V.key.path,m);N=N.add(V.key.path.popLast()),S.push(l.put(I)),S.push(u.put(z,AI))}return N.forEach(V=>{S.push(this.indexManager.addToCollectionParentIndex(e,V))}),e.addOnCommittedListener(()=>{this.In[m]=v.keys()}),re.waitFor(S).next(()=>v)})}lookupMutationBatch(e,t){return y(e).get(t).next(r=>r?(ut(r.userId===this.userId),ru(this.yt,r)):null)}Tn(e,t){return this.In[t]?re.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return y(e).Z({index:"userMutationsIndex",range:i},(l,m,v)=>{m.userId===this.userId&&(ut(m.batchId>=r),u=ru(this.yt,m)),v.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return y(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,u,l)=>{r=u.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return y(e).W("userMutationsIndex",t).next(r=>r.map(i=>ru(this.yt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=a0(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return E(e).Z({range:i},(l,m,v)=>{const[I,S,N]=l,V=Xo(S);if(I===this.userId&&t.path.isEqual(V))return y(e).get(N).next(z=>{if(!z)throw Ze();ut(z.userId===this.userId),u.push(ru(this.yt,z))});v.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new fn(Lt);const i=[];return t.forEach(u=>{const l=a0(this.userId,u.path),m=IDBKeyRange.lowerBound(l),v=E(e).Z({range:m},(I,S,N)=>{const[V,z,Q]=I,we=Xo(z);V===this.userId&&u.path.isEqual(we)?r=r.add(Q):N.done()});i.push(v)}),re.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,u=a0(this.userId,r),l=IDBKeyRange.lowerBound(u);let m=new fn(Lt);return E(e).Z({range:l},(v,I,S)=>{const[N,V,z]=v,Q=Xo(V);N===this.userId&&r.isPrefixOf(Q)?Q.length===i&&(m=m.add(z)):S.done()}).next(()=>this.En(e,m))}En(e,t){const r=[],i=[];return t.forEach(u=>{i.push(y(e).get(u).next(l=>{if(null===l)throw Ze();ut(l.userId===this.userId),r.push(ru(this.yt,l))}))}),re.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return a(e.se,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),re.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return re.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return E(e).Z({range:r},(u,l,m)=>{if(u[0]===this.userId){const v=Xo(u[1]);i.push(v)}else m.done()}).next(()=>{ut(0===i.length)})})}containsKey(e,t){return p(e,this.userId,t)}Rn(e){return b(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function p(n,e,t){const r=a0(e,t.path),i=r[1],u=IDBKeyRange.lowerBound(r);let l=!1;return E(n).Z({range:u,X:!0},(m,v,I)=>{const[S,N,V]=m;S===e&&N===i&&(l=!0),I.done()}).next(()=>l)}function y(n){return ni(n,"mutations")}function E(n){return ni(n,"documentMutations")}function b(n){return ni(n,"mutationQueues")}class T{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new T(0)}static vn(){return new T(-1)}}class M{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new T(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>yt.fromTimestamp(new Ln(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>P(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(ut(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const u=[];return P(e).Z((l,m)=>{const v=ed(m);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(i++,u.push(this.removeTargetData(e,v)))}).next(()=>re.waitFor(u)).next(()=>i)}forEachTarget(e,t){return P(e).Z((r,i)=>{const u=ed(i);t(u)})}Vn(e){return G(e).get("targetGlobalKey").next(t=>(ut(null!==t),t))}Sn(e,t){return G(e).put("targetGlobalKey",t)}Dn(e,t){return P(e).put(Yp(this.yt,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=zl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return P(e).Z({range:i,index:"queryTargetsIndex"},(l,m,v)=>{const I=ed(m);kh(t,I.target)&&(u=I,v.done())}).next(()=>u)}addMatchingKeys(e,t,r){const i=[],u=X(e);return t.forEach(l=>{const m=pi(l.path);i.push(u.put({targetId:r,path:m})),i.push(this.referenceDelegate.addReference(e,r,l))}),re.waitFor(i)}removeMatchingKeys(e,t,r){const i=X(e);return re.forEach(t,u=>{const l=pi(u.path);return re.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=X(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=X(e);let u=Ht();return i.Z({range:r,X:!0},(l,m,v)=>{const I=Xo(l[1]),S=new He(I);u=u.add(S)}).next(()=>u)}containsKey(e,t){const r=pi(t.path),i=IDBKeyRange.bound([r],[GE(r)],!1,!0);let u=0;return X(e).Z({index:"documentTargetsIndex",X:!0,range:i},([l,m],v,I)=>{0!==l&&(u++,I.done())}).next(()=>u>0)}ne(e,t){return P(e).get(t).next(r=>r?ed(r):null)}}function P(n){return ni(n,"targets")}function G(n){return ni(n,"targetGlobal")}function X(n){return ni(n,"targetDocuments")}function me([n,e],[t,r]){const i=Lt(n,t);return 0===i?Lt(e,r):i}class Ve{constructor(e){this.xn=e,this.buffer=new fn(me),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();me(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ze{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Ne("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ge.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Zo(r)?Ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield lc(r)}yield t.Fn(3e5)}))}}class tt{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return re.resolve(Qi.at);const r=new Ve(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(s)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),s):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let r,i,u,l,m,v,I;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),i=this.params.maximumSequenceNumbersToCollect):i=N,l=Date.now(),this.nthSequenceNumber(e,i))).next(N=>(r=N,m=Date.now(),this.removeTargets(e,r,t))).next(N=>(u=N,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(N=>(I=Date.now(),_v()<=Ju.in.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-S}ms\n\tDetermined least recently used ${i} in `+(m-l)+`ms\n\tRemoved ${u} targets in `+(v-m)+`ms\n\tRemoved ${N} documents in `+(I-v)+`ms\nTotal Duration: ${I-S}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:N})))}}class Dt{constructor(e,t){this.db=e,this.garbageCollector=new tt(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Un(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return Re(e,r)}removeReference(e,t,r){return Re(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Re(e,t)}Gn(e,t){return function(r,i){let u=!1;return b(r).tt(l=>p(r,l,i).next(m=>(m&&(u=!0),re.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.Kn(e,(l,m)=>{if(m<=t){const v=this.Gn(e,l).next(I=>{if(!I)return u++,r.getEntry(e,l).next(()=>(r.removeEntry(l,yt.min()),X(e).delete([0,pi(l.path)])))});i.push(v)}}).next(()=>re.waitFor(i)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Re(e,t)}Kn(e,t){const r=X(e);let i,u=Qi.at;return r.Z({index:"documentTargetsIndex"},([l,m],{path:v,sequenceNumber:I})=>{0===l?(u!==Qi.at&&t(new He(Xo(i)),u),u=I,i=v):u=Qi.at}).next(()=>{u!==Qi.at&&t(new He(Xo(i)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Re(n,e){return X(n).put((r=n.currentSequenceNumber,{targetId:0,path:pi(e.path),sequenceNumber:r}));var r}class kt{constructor(){this.changes=new Zl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?re.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Vn{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Xp(e).put(r)}removeEntry(e,t,r){return Xp(e).delete(function(i,u){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],Gh(u),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Sn.newInvalidDocument(t);return Xp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(y0(t))},(i,u)=>{r=this.jn(t,u)}).next(()=>r)}Wn(e,t){let r={size:0,document:Sn.newInvalidDocument(t)};return Xp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(y0(t))},(i,u)=>{r={document:this.jn(t,u),size:c(u)}}).next(()=>r)}getEntries(e,t){let r=_s();return this.zn(e,t,(i,u)=>{const l=this.jn(i,u);r=r.insert(i,l)}).next(()=>r)}Hn(e,t){let r=_s(),i=new tr(He.comparator);return this.zn(e,t,(u,l)=>{const m=this.jn(u,l);r=r.insert(u,m),i=i.insert(u,c(l))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return re.resolve();let i=new fn(zx);t.forEach(v=>i=i.add(v));const u=IDBKeyRange.bound(y0(i.first()),y0(i.last())),l=i.getIterator();let m=l.getNext();return Xp(e).Z({index:"documentKeyIndex",range:u},(v,I,S)=>{const N=He.fromSegments([...I.prefixPath,I.collectionGroup,I.documentId]);for(;m&&zx(m,N)<0;)r(m,null),m=l.getNext();m&&m.isEqual(N)&&(r(m,I),m=l.hasNext()?l.getNext():null),m?S.j(y0(m)):S.done()}).next(()=>{for(;m;)r(m,null),m=l.hasNext()?l.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),Gh(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Xp(e).W(IDBKeyRange.bound(i,u,!0)).next(l=>{let m=_s();for(const v of l){const I=this.jn(He.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);m=m.insert(I.key,I)}return m})}getAllFromCollectionGroup(e,t,r,i){let u=_s();const l=Gx(t,r),m=Gx(t,Ni.max());return Xp(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,m,!0)},(v,I,S)=>{const N=this.jn(He.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);u=u.insert(N.key,N),u.size===i&&S.done()}).next(()=>u)}newChangeBuffer(e){return new $x(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Hx(e).get("remoteDocumentGlobalKey").next(t=>(ut(!!t),t))}Qn(e,t){return Hx(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function Xl(n,e){let t;if(e.document)t=Jv(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=He.fromSegments(e.noDocument.path),i=Jl(e.noDocument.readTime);t=Sn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ze();{const r=He.fromSegments(e.unknownDocument.path),i=Jl(e.unknownDocument.version);t=Sn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Ln(r[0],r[1]);return yt.fromTimestamp(i)}(e.readTime)),t}(this.yt,t);if(!r.isNoDocument()||!r.version.isEqual(yt.min()))return r}return Sn.newInvalidDocument(e)}}function nr(n){return new Vn(n)}class $x extends kt{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Zl(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new fn((u,l)=>Lt(u.canonicalString(),l.canonicalString()));return this.changes.forEach((u,l)=>{const m=this.Xn.get(u);if(t.push(this.Yn.removeEntry(e,u,m.readTime)),l.isValidDocument()){const v=d0(this.Yn.yt,l);i=i.add(u.path.popLast());const I=c(v);r+=I-m.size,t.push(this.Yn.addEntry(e,u,v))}else if(r-=m.size,this.trackRemovals){const v=d0(this.Yn.yt,l.convertToNoDocument(yt.min()));t.push(this.Yn.addEntry(e,u,v))}}),i.forEach(u=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Yn.updateMetadata(e,r)),re.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((u,l)=>{this.Xn.set(u,{size:l,readTime:r.get(u).readTime})}),r))}}function Hx(n){return ni(n,"remoteDocumentGlobal")}function Xp(n){return ni(n,"remoteDocumentsV14")}function y0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Gx(n,e){const t=e.documentKey.path.toArray();return[n,Gh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function zx(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(i=Lt(t[u],r[u]),i)return i;return i=Lt(t.length,r.length),i||(i=Lt(t[t.length-2],r[r.length-2]),i||Lt(t[t.length-1],r[r.length-1]))}class tk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class qx{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Bh(r.mutation,i,Xi.empty(),Ln.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ht()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ht()){const i=co();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let l=yc();return u.forEach((m,v)=>{l=l.insert(m,v.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=co();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ht()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((l,m)=>{t.set(l,m)})})}computeViews(e,t,r,i){let u=_s();const l=Kl(),m=Kl();return t.forEach((v,I)=>{const S=r.get(I.key);i.has(I.key)&&(void 0===S||S.mutation instanceof eu)?u=u.insert(I.key,I):void 0!==S?(l.set(I.key,S.mutation.getFieldMask()),Bh(S.mutation,I,S.mutation.getFieldMask(),Ln.now())):l.set(I.key,Xi.empty())}),this.recalculateAndSaveOverlays(e,u).next(v=>(v.forEach((I,S)=>l.set(I,S)),t.forEach((I,S)=>{var N;return m.set(I,new tk(S,null!==(N=l.get(I))&&void 0!==N?N:null))}),m))}recalculateAndSaveOverlays(e,t){const r=Kl();let i=new tr((l,m)=>l-m),u=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const m of l)m.keys().forEach(v=>{const I=t.get(v);if(null===I)return;let S=r.get(v)||Xi.empty();S=m.applyToLocalView(I,S),r.set(v,S);const N=(i.get(m.batchId)||Ht()).add(v);i=i.insert(m.batchId,N)})}).next(()=>{const l=[],m=i.getReverseIterator();for(;m.hasNext();){const v=m.getNext(),I=v.key,S=v.value,N=jC();S.forEach(V=>{if(!u.has(V)){const z=qv(t.get(V),r.get(V));null!==z&&N.set(V,z),u=u.add(V)}}),l.push(this.documentOverlayCache.saveOverlays(e,I,N))}return re.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return He.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Bv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const l=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):re.resolve(co());let m=-1,v=u;return l.next(I=>re.forEach(I,(S,N)=>(m<N.largestBatchId&&(m=N.largestBatchId),u.get(S)?re.resolve():this.remoteDocumentCache.getEntry(e,S).next(V=>{v=v.insert(S,V)}))).next(()=>this.populateOverlays(e,I,u)).next(()=>this.computeViews(e,v,I,Ht())).next(S=>({batchId:m,changes:Yv(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new He(t)).next(r=>{let i=yc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=yc();return this.indexManager.getCollectionParents(e,i).next(l=>re.forEach(l,m=>{const v=(I=t,S=m.child(i),new Xa(S,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt));var I,S;return this.getDocumentsMatchingCollectionQuery(e,v,r).next(I=>{I.forEach((S,N)=>{u=u.insert(S,N)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(i=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((m,v)=>{const I=v.getKey();null===i.get(I)&&(i=i.insert(I,Sn.newInvalidDocument(I)))});let l=yc();return i.forEach((m,v)=>{const I=u.get(m);void 0!==I&&Bh(I.mutation,v,Xi.empty(),Ln.now()),iy(t,v)&&(l=l.insert(m,v))}),l})}}class nk{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return re.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:ar(r.createTime)}),re.resolve()}getNamedQuery(e,t){return re.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:LI(r.bundledQuery),readTime:ar(r.readTime)}),re.resolve();var r}}class rk{constructor(){this.overlays=new tr(He.comparator),this.es=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const r=co();return re.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.oe(e,t,u)}),re.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(r)),re.resolve()}getOverlaysForCollection(e,t,r){const i=co(),u=t.length+1,l=new He(t.child("")),m=this.overlays.getIteratorFrom(l);for(;m.hasNext();){const v=m.getNext().value,I=v.getKey();if(!t.isPrefixOf(I.path))break;I.path.length===u&&v.largestBatchId>r&&i.set(v.getKey(),v)}return re.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new tr((I,S)=>I-S);const l=this.overlays.getIterator();for(;l.hasNext();){const I=l.getNext().value;if(I.getKey().getCollectionGroup()===t&&I.largestBatchId>r){let S=u.get(I.largestBatchId);null===S&&(S=co(),u=u.insert(I.largestBatchId,S)),S.set(I.getKey(),I)}}const m=co(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((I,S)=>m.set(I,S)),!(m.size()>=i)););return re.resolve(m)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new c0(t,r));let u=this.es.get(t);void 0===u&&(u=Ht(),this.es.set(t,u)),this.es.set(t,u.add(r.key))}}class hT{constructor(){this.ns=new fn(gi.ss),this.rs=new fn(gi.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new gi(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new gi(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new He(new Jt([])),r=new gi(t,e),i=new gi(t,e+1),u=[];return this.rs.forEachInRange([r,i],l=>{this.cs(l),u.push(l.key)}),u}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new He(new Jt([])),r=new gi(t,e),i=new gi(t,e+1);let u=Ht();return this.rs.forEachInRange([r,i],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new gi(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class gi{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return He.comparator(e.key,t.key)||Lt(e._s,t._s)}static os(e,t){return Lt(e._s,t._s)||He.comparator(e.key,t.key)}}class ik{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new fn(gi.ss)}checkEmpty(e){return re.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.ws;this.ws++;const l=new u0(u,t,r,i);this.mutationQueue.push(l);for(const m of i)this.gs=this.gs.add(new gi(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return re.resolve(l)}lookupMutationBatch(e,t){return re.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),u=i<0?0:i;return re.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new gi(t,0),i=new gi(t,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([r,i],l=>{const m=this.ys(l._s);u.push(m)}),re.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new fn(Lt);return t.forEach(i=>{const u=new gi(i,0),l=new gi(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,l],m=>{r=r.add(m._s)})}),re.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;He.isDocumentKey(u)||(u=u.child(""));const l=new gi(new He(u),0);let m=new fn(Lt);return this.gs.forEachWhile(v=>{const I=v.key.path;return!!r.isPrefixOf(I)&&(I.length===i&&(m=m.add(v._s)),!0)},l),re.resolve(this.Is(m))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ut(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return re.forEach(t.mutations,i=>{const u=new gi(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new gi(t,0),i=this.gs.firstAfterOrEqual(r);return re.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return re.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class sk{constructor(e){this.Es=e,this.docs=new tr(He.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,l=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return re.resolve(r?r.document.mutableCopy():Sn.newInvalidDocument(t))}getEntries(e,t){let r=_s();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():Sn.newInvalidDocument(i))}),re.resolve(r)}getAllFromCollection(e,t,r){let i=_s();const u=new He(t.child("")),l=this.docs.getIteratorFrom(u);for(;l.hasNext();){const{key:m,value:{document:v}}=l.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||Dv(bv(v),r)<=0||(i=i.insert(v.key,v.mutableCopy()))}return re.resolve(i)}getAllFromCollectionGroup(e,t,r,i){Ze()}As(e,t){return re.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new ok(this)}getSize(e){return re.resolve(this.size)}}class ok extends kt{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),re.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class ak{constructor(e){this.persistence=e,this.Rs=new Zl(t=>zl(t),kh),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new hT,this.targetCount=0,this.vs=T.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),re.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new T(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Dn(t),re.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.Rs.forEach((l,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Rs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),i++)}),re.waitFor(u).next(()=>i)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return re.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),re.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(l=>{u.push(i.markPotentiallyOrphaned(e,l))}),re.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),re.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return re.resolve(r)}containsKey(e,t){return re.resolve(this.Ps.containsKey(t))}}class Wx{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Qi(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new ak(this),this.indexManager=new Bx,this.remoteDocumentCache=new sk(r=>this.referenceDelegate.xs(r)),this.yt=new l0(t),this.Ns=new nk(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new rk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new ik(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ne("MemoryPersistence","Starting transaction:",e);const i=new uk(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(u=>this.referenceDelegate.Os(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Ms(e,t){return re.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class uk extends jm{constructor(e){super(),this.currentSequenceNumber=e}}class KI{constructor(e){this.persistence=e,this.Fs=new hT,this.$s=null}static Bs(e){return new KI(e)}get Ls(){if(this.$s)return this.$s;throw Ze()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),re.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),re.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Ls.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.Ls,r=>{const i=He.fromPath(r);return this.qs(e,i).next(u=>{u||t.removeEntry(i,yt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return re.or([()=>re.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class ck{constructor(e){this.yt=e}$(e,t,r,i){const u=new kp("createOrUpgrade",t);var m;r<1&&i>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",o0,{unique:!0}),m.createObjectStore("documentMutations"),Zx(e),function(m){m.createObjectStore("remoteDocuments")}(e));let l=re.resolve();return r<3&&i>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),Zx(e)),l=l.next(()=>function(m){const v=m.store("targetGlobal"),I={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:yt.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",I)}(u))),r<4&&i>=4&&(0!==r&&(l=l.next(()=>function(m,v){return v.store("mutations").W().next(I=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",o0,{unique:!0});const S=v.store("mutations"),N=I.map(V=>S.put(V));return re.waitFor(N)})}(e,u))),l=l.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(l=l.next(()=>this.Us(u))),r<6&&i>=6&&(l=l.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(u)))),r<7&&i>=7&&(l=l.next(()=>this.Gs(u))),r<8&&i>=8&&(l=l.next(()=>this.Qs(e,u))),r<9&&i>=9&&(l=l.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(l=l.next(()=>this.js(u))),r<11&&i>=11&&(l=l.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(l=l.next(()=>{!function(m){const v=m.createObjectStore("documentOverlays",{keyPath:Lx});v.createIndex("collectionPathOverlayIndex",kI,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",eT,{unique:!1})}(e)})),r<13&&i>=13&&(l=l.next(()=>function(m){const v=m.createObjectStore("remoteDocumentsV14",{keyPath:xI});v.createIndex("documentKeyIndex",MI),v.createIndex("collectionGroupIndex",RI)}(e)).next(()=>this.Ws(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(l=l.next(()=>this.zs(e,u))),r<15&&i>=15&&(l=l.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:XC}).createIndex("sequenceNumberIndex",JC,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:Px}).createIndex("documentKeyIndex",Fx,{unique:!1})}(e))),l}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=c(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>re.forEach(i,u=>{const l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",l).next(m=>re.forEach(m,v=>{ut(v.userId===u.userId);const I=ru(this.yt,v);return a(e,u.userId,I).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const u=[];return r.Z((l,m)=>{const v=new Jt(l),I=[0,pi(v)];u.push(t.get(I).next(S=>S?re.resolve():t.put({targetId:0,path:pi(v),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>re.waitFor(u))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:OI});const r=t.store("collectionParents"),i=new ZI,u=l=>{if(i.add(l)){const m=l.lastSegment(),v=l.popLast();return r.put({collectionId:m,parent:pi(v)})}};return t.store("remoteDocuments").Z({X:!0},(l,m)=>{const v=new Jt(l);return u(v.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([l,m,v],I)=>{const S=Xo(m);return u(S.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const u=ed(i),l=Yp(this.yt,u);return t.put(l)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((u,l)=>{const m=t.store("remoteDocumentsV14"),v=(I=l,I.document?new He(Jt.fromString(I.document.name).popFirst(5)):I.noDocument?He.fromSegments(I.noDocument.path):I.unknownDocument?He.fromSegments(I.unknownDocument.path):Ze()).path.toArray();var I;const S={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(m.put(S))}).next(()=>re.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=nr(this.yt),u=new Wx(KI.Bs,this.yt.ie);return r.W().next(l=>{const m=new Map;return l.forEach(v=>{var I;let S=null!==(I=m.get(v.userId))&&void 0!==I?I:Ht();ru(this.yt,v).keys().forEach(N=>S=S.add(N)),m.set(v.userId,S)}),re.forEach(m,(v,I)=>{const S=new Hr(I),N=my.re(this.yt,S),V=u.getIndexManager(S),z=d.re(S,this.yt,V,u.referenceDelegate);return new qx(i,z,N,V).recalculateAndSaveOverlaysForDocumentKeys(new FI(t,Qi.at),v).next()})})}}function Zx(n){n.createObjectStore("targetDocuments",{keyPath:py}).createIndex("documentTargetsIndex",gy,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",NI,{unique:!0}),n.createObjectStore("targetGlobal")}const fT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class pT{constructor(e,t,r,i,u,l,m,v,I,S,N=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=u,this.window=l,this.document=m,this.Js=I,this.Ys=S,this.Xs=N,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=V=>Promise.resolve(),!pT.C())throw new Me(ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Dt(this,i),this.ii=t+"main",this.yt=new l0(v),this.ri=new ao(this.ii,this.Xs,new ck(this.yt)),this.Cs=new M(this.referenceDelegate,this.yt),this.remoteDocumentCache=nr(this.yt),this.Ns=new UI,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===S&&Jn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(ue.FAILED_PRECONDITION,fT);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Qi(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,ge.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ge.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ge.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>YI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Zo(e))return Ne("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return _0(e).get("owner").next(t=>re.resolve(this.mi(t)))}gi(e){return YI(e).delete(this.clientId)}yi(){var e=this;return(0,ge.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=ni(r,"clientMetadata");return i.W().next(u=>{const l=e.Ii(u,18e5),m=u.filter(v=>-1===l.indexOf(v));return re.forEach(m,v=>i.delete(v.clientId)).next(()=>m)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?re.resolve(!0):_0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Me(ue.FAILED_PRECONDITION,fT);return!1}}return!(!this.networkEnabled||!this.inForeground)||YI(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ne("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ge.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new FI(t,Qi.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>YI(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return d.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new jx(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return my.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ne("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",u=15===(l=this.Xs)?Vx:14===l?rT:13===l?nT:12===l?tT:11===l?PI:void Ze();var l;let m;return this.ri.runTransaction(e,i,u,v=>(m=new FI(v,this.Ss?this.Ss.next():Qi.at),"readwrite-primary"===t?this.fi(m).next(I=>!!I||this.di(m)).next(I=>{if(!I)throw Jn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Me(ue.FAILED_PRECONDITION,zE);return r(m)}).next(I=>this.wi(m).next(()=>I)):this.Vi(m).next(()=>r(m)))).then(v=>(m.raiseOnCommittedEvent(),v))}Vi(e){return _0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Me(ue.FAILED_PRECONDITION,fT)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _0(e).put("owner",t)}static C(){return ao.C()}_i(e){const t=_0(e);return t.get("owner").next(r=>this.mi(r)?(Ne("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):re.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Jn(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,$t.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ne("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Jn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Jn("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function _0(n){return ni(n,"owner")}function YI(n){return ni(n,"clientMetadata")}function gT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class mT{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Ht(),i=Ht();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new mT(e,t.fromCache,r,i)}}class Kx{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(u=>u||this.Oi(e,t,i,r)).next(u=>u||this.Mi(e,t))}ki(e,t){if(Uv(t))return re.resolve(null);let r=Oi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=ry(t,null,"F"),r=Oi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=Ht(...u);return this.Ni.getDocuments(e,l).next(m=>this.indexManager.getMinOffset(e,r).next(v=>{const I=this.Fi(t,m);return this.$i(t,I,l,v.readTime)?this.ki(e,ry(t,null,"F")):this.Bi(e,I,t,v)}))})))}Oi(e,t,r,i){return Uv(t)||i.isEqual(yt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(u=>{const l=this.Fi(t,u);return this.$i(t,l,r,i)?this.Mi(e,t):(_v()<=Ju.in.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jp(t)),this.Bi(e,l,t,Bm(i,-1)))})}Fi(e,t){let r=new fn($p(e));return t.forEach((i,u)=>{iy(e,u)&&(r=r.add(u))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Mi(e,t){return _v()<=Ju.in.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",jp(t)),this.Ni.getDocumentsMatchingQuery(e,t,Ni.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class lk{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new tr(Lt),this.Ui=new Zl(u=>zl(u),kh),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qx(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function Yx(n,e,t,r){return new lk(n,e,t,r)}function Qx(n,e){return yT.apply(this,arguments)}function yT(){return yT=(0,ge.Z)(function*(n,e){const t=Ge(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(u=>(i=u,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],m=[];let v=Ht();for(const I of i){l.push(I.batchId);for(const S of I.mutations)v=v.add(S.key)}for(const I of u){m.push(I.batchId);for(const S of I.mutations)v=v.add(S.key)}return t.localDocuments.getDocuments(r,v).next(I=>({ji:I,removedBatchIds:l,addedBatchIds:m}))})})}),yT.apply(this,arguments)}function dk(n,e){const t=Ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Gi.newChangeBuffer({trackRemovals:!0});return function(l,m,v,I){const S=v.batch,N=S.keys();let V=re.resolve();return N.forEach(z=>{V=V.next(()=>I.getEntry(m,z)).next(Q=>{const we=v.docVersions.get(z);ut(null!==we),Q.version.compareTo(we)<0&&(S.applyToRemoteDocument(Q,v),Q.isValidDocument()&&(Q.setReadTime(v.commitVersion),I.addEntry(Q)))})}),V.next(()=>l.mutationQueue.removeMutationBatch(m,S))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let m=Ht();for(let v=0;v<l.mutationResults.length;++v)l.mutationResults[v].transformResults.length>0&&(m=m.add(l.batch.mutations[v].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Xx(n){const e=Ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function hk(n,e){const t=Ge(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const m=[];e.targetChanges.forEach((S,N)=>{const V=i.get(N);if(!V)return;m.push(t.Cs.removeMatchingKeys(u,S.removedDocuments,N).next(()=>t.Cs.addMatchingKeys(u,S.addedDocuments,N)));let z=V.withSequenceNumber(u.currentSequenceNumber);var Q,we,be;e.targetMismatches.has(N)?z=z.withResumeToken(xr.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):S.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(S.resumeToken,r)),i=i.insert(N,z),we=z,be=S,(0===(Q=V).resumeToken.approximateByteSize()||we.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=3e8||be.addedDocuments.size+be.modifiedDocuments.size+be.removedDocuments.size>0)&&m.push(t.Cs.updateTargetData(u,z))});let v=_s(),I=Ht();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,S))}),m.push(Jx(u,l,e.documentUpdates).next(S=>{v=S.Wi,I=S.zi})),!r.isEqual(yt.min())){const S=t.Cs.getLastRemoteSnapshotVersion(u).next(N=>t.Cs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(S)}return re.waitFor(m).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,v,I)).next(()=>v)}).then(u=>(t.qi=i,u))}function Jx(n,e,t){let r=Ht(),i=Ht();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=_s();return t.forEach((m,v)=>{const I=u.get(m);v.isFoundDocument()!==I.isFoundDocument()&&(i=i.add(m)),v.isNoDocument()&&v.version.isEqual(yt.min())?(e.removeEntry(m,v.readTime),l=l.insert(m,v)):!I.isValidDocument()||v.version.compareTo(I.version)>0||0===v.version.compareTo(I.version)&&I.hasPendingWrites?(e.addEntry(v),l=l.insert(m,v)):Ne("LocalStore","Ignoring outdated watch update for ",m,". Current version:",I.version," Watch version:",v.version)}),{Wi:l,zi:i}})}function fk(n,e){const t=Ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ey(n,e){const t=Ge(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(u=>u?(i=u,re.resolve(i)):t.Cs.allocateTargetId(r).next(l=>(i=new vc(e,l,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function Iy(n,e,t){return _T.apply(this,arguments)}function _T(){return _T=(0,ge.Z)(function*(n,e,t){const r=Ge(n),i=r.qi.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Zo(l))throw l;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),_T.apply(this,arguments)}function QI(n,e,t){const r=Ge(n);let i=yt.min(),u=Ht();return r.persistence.runTransaction("Execute query","readonly",l=>function(m,v,I){const S=Ge(m),N=S.Ui.get(I);return void 0!==N?re.resolve(S.qi.get(N)):S.Cs.getTargetData(v,I)}(r,l,Oi(e)).next(m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(l,m.targetId).next(v=>{u=v})}).next(()=>r.Li.getDocumentsMatchingQuery(l,e,t?i:yt.min(),t?u:Ht())).next(m=>(nM(r,jv(e),m),{documents:m,Hi:u})))}function eM(n,e){const t=Ge(n),r=Ge(t.Cs),i=t.qi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>r.ne(u,e).next(l=>l?l.target:null))}function tM(n,e){const t=Ge(n),r=t.Ki.get(e)||yt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,Bm(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(nM(t,e,i),i))}function nM(n,e,t){let r=n.Ki.get(e)||yt.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Ki.set(e,r)}function vT(){return vT=(0,ge.Z)(function*(n,e,t,r){const i=Ge(n);let u=Ht(),l=_s();for(const I of t){const S=e.Ji(I.metadata.name);I.document&&(u=u.add(S));const N=e.Yi(I);N.setReadTime(e.Xi(I.metadata.readTime)),l=l.insert(S,N)}const m=i.Gi.newChangeBuffer({trackRemovals:!0}),v=yield Ey(i,(I=r,Oi(Up(Jt.fromString(`__bundle__/docs/${I}`)))));var I;return i.persistence.runTransaction("Apply bundle documents","readwrite",I=>Jx(I,m,l).next(S=>(m.apply(I),S)).next(S=>i.Cs.removeMatchingKeysForTargetId(I,v.targetId).next(()=>i.Cs.addMatchingKeys(I,u,v.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(I,S.Wi,S.zi)).next(()=>S.Wi)))}),vT.apply(this,arguments)}function gk(n,e){return wT.apply(this,arguments)}function wT(){return wT=(0,ge.Z)(function*(n,e,t=Ht()){const r=yield Ey(n,Oi(LI(e.bundledQuery))),i=Ge(n);return i.persistence.runTransaction("Save named query","readwrite",u=>{const l=ar(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Ns.saveNamedQuery(u,e);const m=r.withResumeToken(xr.EMPTY_BYTE_STRING,l);return i.qi=i.qi.insert(m.targetId,m),i.Cs.updateTargetData(u,m).next(()=>i.Cs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>i.Cs.addMatchingKeys(u,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(u,e))})}),wT.apply(this,arguments)}function rM(n,e){return`firestore_clients_${n}_${e}`}function iM(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function ET(n,e){return`firestore_targets_${n}_${e}`}class XI{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let u,l="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(u=new Me(i.error.code,i.error.message))),l?new XI(e,t,i.state,u):(Jn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class v0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(i=new Me(r.error.code,r.error.message))),u?new v0(e,r.state,i):(Jn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class JI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,u=Qv();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=AC(r.activeTargetIds[l]),u=u.add(r.activeTargetIds[l]);return i?new JI(e,u):(Jn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class IT{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new IT(t.clientId,t.onlineState):(Jn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class bT{constructor(){this.activeTargetIds=Qv()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DT{constructor(e,t,r,i,u){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new tr(Lt),this.started=!1,this.cr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ar=rM(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new bT),this.lr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ge.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const u=e.getItem(rM(e.persistenceKey,i));if(u){const l=JI.Zi(i,u);l&&(e.ur=e.ur.insert(l.clientId,l))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(ET(this.persistenceKey,e));if(r){const i=v0.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ET(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ne("SharedClientState","READ",e,t),t}setItem(e,t){Ne("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ne("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ne("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Jn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ge.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(u){let l=Qi.at;if(null!=u)try{const m=JSON.parse(u);ut("number"==typeof m),l=m}catch(m){Jn("SharedClientState","Failed to read sequence number from WebStorage",m)}return l}(r.newValue);i!==Qi.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(u=>t.syncEngine.Mr(u)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new XI(this.currentUser,e,t,r),u=iM(this.persistenceKey,this.currentUser,e);this.setItem(u,i.tr())}Er(e){const t=iM(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=ET(this.persistenceKey,e),u=new v0(e,t,r);this.setItem(i,u.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return JI.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return XI.Zi(new Hr(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return v0.Zi(i,t)}yr(e){return IT.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ge.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Ne("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),u=this.Ir(r),l=[],m=[];return u.forEach(v=>{i.has(v)||l.push(v)}),i.forEach(v=>{u.has(v)||m.push(v)}),this.syncEngine.Br(l,m).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Qv();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class sM{constructor(){this.Lr=new bT,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new bT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class mk{Ur(e){}shutdown(){}}class oM{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const yk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _k{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class vk extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,u){const l=this.ho(e,t);Ne("RestConnection","Sending: ",l,r);const m={};return this.lo(m,i,u),this.fo(e,l,m,r).then(v=>(Ne("RestConnection","Received: ",v),v),v=>{throw Vl("RestConnection",`${e} failed with error: `,v,"url: ",l,"request:",r),v})}_o(e,t,r,i,u,l){return this.ao(e,t,r,i,u)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ah,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}ho(e,t){return`${this.oo}/v1/${t}:${yk[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((u,l)=>{const m=new LE;m.setWithCredentials(!0),m.listenOnce(Sx.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case PE.NO_ERROR:const I=m.getResponseJson();Ne("Connection","XHR received:",JSON.stringify(I)),u(I);break;case PE.TIMEOUT:Ne("Connection",'RPC "'+e+'" timed out'),l(new Me(ue.DEADLINE_EXCEEDED,"Request time out"));break;case PE.HTTP_ERROR:const S=m.getStatus();if(Ne("Connection",'RPC "'+e+'" failed with status:',S,"response text:",m.getResponseText()),S>0){let N=m.getResponseJson();Array.isArray(N)&&(N=N[0]);const V=N?.error;if(V&&V.status&&V.message){const z=function(Q){const we=Q.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(we)>=0?we:ue.UNKNOWN}(V.status);l(new Me(z,V.message))}else l(new Me(ue.UNKNOWN,"Server responded with status "+m.getStatus()))}else l(new Me(ue.UNAVAILABLE,"Connection failed."));break;default:Ze()}}finally{Ne("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(i);m.send(t,"POST",v,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Cx(),l=Tx(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new vC({})),this.lo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const v=i.join("");Ne("Connection","Creating WebChannel: "+v,m);const I=u.createWebChannel(v,m);let S=!1,N=!1;const V=new _k({Hr:Q=>{N?Ne("Connection","Not sending because WebChannel is closed:",Q):(S||(Ne("Connection","Opening WebChannel transport."),I.open(),S=!0),Ne("Connection","WebChannel sending:",Q),I.send(Q))},Jr:()=>I.close()}),z=(Q,we,be)=>{Q.listen(we,nt=>{try{be(nt)}catch(Et){setTimeout(()=>{throw Et},0)}})};return z(I,Lm.EventType.OPEN,()=>{N||Ne("Connection","WebChannel transport opened.")}),z(I,Lm.EventType.CLOSE,()=>{N||(N=!0,Ne("Connection","WebChannel transport closed"),V.io())}),z(I,Lm.EventType.ERROR,Q=>{N||(N=!0,Vl("Connection","WebChannel transport errored:",Q),V.io(new Me(ue.UNAVAILABLE,"The operation could not be completed")))}),z(I,Lm.EventType.MESSAGE,Q=>{var we;if(!N){const be=Q.data[0];ut(!!be);const Et=be.error||(null===(we=be[0])||void 0===we?void 0:we.error);if(Et){Ne("Connection","WebChannel received error:",Et);const ot=Et.status;let st=function(Vt){const lr=Mr[Vt];if(void 0!==lr)return BC(lr)}(ot),Ct=Et.message;void 0===st&&(st=ue.INTERNAL,Ct="Unknown error status: "+ot+" with message "+Et.message),N=!0,V.io(new Me(st,Ct)),I.close()}else Ne("Connection","WebChannel received:",be),V.ro(be)}}),z(l,FE.STAT_EVENT,Q=>{Q.stat===Np.PROXY?Ne("Connection","Detected buffering proxy"):Q.stat===Np.NOPROXY&&Ne("Connection","Detected no buffering proxy")}),setTimeout(()=>{V.so()},0),V}}function aM(){return typeof window<"u"?window:null}function eb(){return typeof document<"u"?document:null}function w0(n){return new II(n,!0)}class CT{constructor(e,t,r=1e3,i=1.5,u=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=u,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class uM{constructor(e,t,r,i,u,l,m,v){this.Hs=e,this.vo=r,this.Vo=i,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=m,this.listener=v,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new CT(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,ge.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ge.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,ge.Z)(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(Jn(t.toString()),Jn("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===ue.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new Me(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,ge.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wk extends uM{constructor(e,t,r,i,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.yt=u}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function ZC(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:Ze(),i=e.targetChange.targetIds||[],u=function(v,I){return v.wt?(ut(void 0===I||"string"==typeof I),xr.fromBase64String(I||"")):(ut(void 0===I||I instanceof Uint8Array),xr.fromUint8Array(I||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,m=l&&function(v){const I=void 0===v.code?ue.UNKNOWN:BC(v.code);return new Me(I,v.message||"")}(l);t=new HC(r,i,u,m||null)}else if("documentChange"in e){const r=e.documentChange,i=ur(n,r.document.name),u=ar(r.document.updateTime),l=r.document.createTime?ar(r.document.createTime):yt.min(),m=new Gr({mapValue:{fields:r.document.fields}}),v=Sn.newFoundDocument(i,u,l,m);t=new Yl(r.targetIds||[],r.removedTargetIds||[],v.key,v)}else if("documentDelete"in e){const r=e.documentDelete,i=ur(n,r.document),u=r.readTime?ar(r.readTime):yt.min(),l=Sn.newNoDocument(i,u);t=new Yl([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=ur(n,r.document);t=new Yl([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ze();{const r=e.filter,u=new Mx(r.count||0);t=new vI(r.targetId,u)}}var v;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return yt.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?yt.min():u.readTime?ar(u.readTime):yt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=Zp(this.yt),t.addTarget=function(i,u){let l;const m=u.target;return l=ey(m)?{documents:e0(i,m)}:{query:t0(i,m)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?l.resumeToken=WC(i,u.resumeToken):u.snapshotVersion.compareTo(yt.min())>0&&(l.readTime=Ql(i,u.snapshotVersion.toTimestamp())),l}(this.yt,e);const r=function _c(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ze()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=Zp(this.yt),t.removeTarget=e,this.Bo(t)}}class Ek extends uM{constructor(e,t,r,i,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.yt=u,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function KC(n,e){return n&&n.length>0?(ut(void 0!==e),n.map(t=>function(r,i){let u=ar(r.updateTime?r.updateTime:i);return u.isEqual(yt.min())&&(u=ar(i)),new pI(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ar(e.commitTime);return this.listener.Zo(r,t)}return ut(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Zp(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>jh(this.yt,r))};this.Bo(t)}}class Ik extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new Me(ue.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.connection.ao(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Me(ue.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection._o(e,t,r,u,l,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Me(ue.UNKNOWN,u.toString())})}terminate(){this.nu=!0}}class Dk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Jn(t),this.ou=!1):Ne("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Ck{constructor(e,t,r,i,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=u,this.mu.Ur(m=>{r.enqueueAndForget((0,ge.Z)(function*(){var v;nd(l)&&(Ne("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,ge.Z)(function*(I){const S=Ge(I);S._u.add(4),yield by(S),S.gu.set("Unknown"),S._u.delete(4),yield E0(S)}),function(I){return v.apply(this,arguments)})(l))}))}),this.gu=new Dk(r,i)}}function E0(n){return ST.apply(this,arguments)}function ST(){return ST=(0,ge.Z)(function*(n){if(nd(n))for(const e of n.wu)yield e(!0)}),ST.apply(this,arguments)}function by(n){return AT.apply(this,arguments)}function AT(){return AT=(0,ge.Z)(function*(n){for(const e of n.wu)yield e(!1)}),AT.apply(this,arguments)}function tb(n,e){const t=Ge(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),RT(t)?MT(t):Cy(t).ko()&&xT(t,e))}function I0(n,e){const t=Ge(n),r=Cy(t);t.du.delete(e),r.ko()&&cM(t,e),0===t.du.size&&(r.ko()?r.Fo():nd(t)&&t.gu.set("Unknown"))}function xT(n,e){n.yu.Ot(e.targetId),Cy(n).zo(e)}function cM(n,e){n.yu.Ot(e),Cy(n).Ho(e)}function MT(n){n.yu=new Nx({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),Cy(n).start(),n.gu.uu()}function RT(n){return nd(n)&&!Cy(n).No()&&n.du.size>0}function nd(n){return 0===Ge(n)._u.size}function lM(n){n.yu=void 0}function Tk(n){return NT.apply(this,arguments)}function NT(){return NT=(0,ge.Z)(function*(n){n.du.forEach((e,t)=>{xT(n,e)})}),NT.apply(this,arguments)}function Sk(n,e){return OT.apply(this,arguments)}function OT(){return OT=(0,ge.Z)(function*(n,e){lM(n),RT(n)?(n.gu.hu(e),MT(n)):n.gu.set("Unknown")}),OT.apply(this,arguments)}function Ak(n,e,t){return kT.apply(this,arguments)}function kT(){return kT=(0,ge.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof HC&&2===e.state&&e.cause)try{yield(r=(0,ge.Z)(function*(i,u){const l=u.cause;for(const m of u.targetIds)i.du.has(m)&&(yield i.remoteSyncer.rejectListen(m,l),i.du.delete(m),i.yu.removeTarget(m))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield nb(n,r)}else if(e instanceof Yl?n.yu.Kt(e):e instanceof vI?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(yt.min()))try{const r=yield Xx(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const l=i.yu.Zt(u);return l.targetChanges.forEach((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const I=i.du.get(v);I&&i.du.set(v,I.withResumeToken(m.resumeToken,u))}}),l.targetMismatches.forEach(m=>{const v=i.du.get(m);if(!v)return;i.du.set(m,v.withResumeToken(xr.EMPTY_BYTE_STRING,v.snapshotVersion)),cM(i,m);const I=new vc(v.target,m,1,v.sequenceNumber);xT(i,I)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Ne("RemoteStore","Failed to raise snapshot:",r),yield nb(n,r)}var r}),kT.apply(this,arguments)}function nb(n,e,t){return PT.apply(this,arguments)}function PT(){return PT=(0,ge.Z)(function*(n,e,t){if(!Zo(e))throw e;n._u.add(1),yield by(n),n.gu.set("Offline"),t||(t=()=>Xx(n.localStore)),n.asyncQueue.enqueueRetryable((0,ge.Z)(function*(){Ne("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield E0(n)}))}),PT.apply(this,arguments)}function dM(n,e){return e().catch(t=>nb(n,t,e))}function Dy(n){return FT.apply(this,arguments)}function FT(){return FT=(0,ge.Z)(function*(n){const e=Ge(n),t=qh(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;xk(e);)try{const i=yield fk(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,Mk(e,i)}catch(i){yield nb(e,i)}hM(e)&&fM(e)}),FT.apply(this,arguments)}function xk(n){return nd(n)&&n.fu.length<10}function Mk(n,e){n.fu.push(e);const t=qh(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function hM(n){return nd(n)&&!qh(n).No()&&n.fu.length>0}function fM(n){qh(n).start()}function Rk(n){return LT.apply(this,arguments)}function LT(){return LT=(0,ge.Z)(function*(n){qh(n).eu()}),LT.apply(this,arguments)}function Nk(n){return VT.apply(this,arguments)}function VT(){return VT=(0,ge.Z)(function*(n){const e=qh(n);for(const t of n.fu)e.Xo(t.mutations)}),VT.apply(this,arguments)}function Ok(n,e,t){return UT.apply(this,arguments)}function UT(){return UT=(0,ge.Z)(function*(n,e,t){const r=n.fu.shift(),i=Hh.from(r,e,t);yield dM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Dy(n)}),UT.apply(this,arguments)}function kk(n,e){return BT.apply(this,arguments)}function BT(){return BT=(0,ge.Z)(function*(n,e){var t;e&&qh(n).Yo&&(yield(t=(0,ge.Z)(function*(r,i){if(UC(u=i.code)&&u!==ue.ABORTED){const l=r.fu.shift();qh(r).Mo(),yield dM(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield Dy(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),hM(n)&&fM(n)}),BT.apply(this,arguments)}function pM(n,e){return jT.apply(this,arguments)}function jT(){return jT=(0,ge.Z)(function*(n,e){const t=Ge(n);t.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const r=nd(t);t._u.add(3),yield by(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield E0(t)}),jT.apply(this,arguments)}function $T(n,e){return HT.apply(this,arguments)}function HT(){return HT=(0,ge.Z)(function*(n,e){const t=Ge(n);e?(t._u.delete(2),yield E0(t)):e||(t._u.add(2),yield by(t),t.gu.set("Unknown"))}),HT.apply(this,arguments)}function Cy(n){return n.pu||(n.pu=function(e,t,r){const i=Ge(e);return i.su(),new wk(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:Tk.bind(null,n),Zr:Sk.bind(null,n),Wo:Ak.bind(null,n)}),n.wu.push(function(){var e=(0,ge.Z)(function*(t){t?(n.pu.Mo(),RT(n)?MT(n):n.gu.set("Unknown")):(yield n.pu.stop(),lM(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function qh(n){return n.Iu||(n.Iu=function(e,t,r){const i=Ge(e);return i.su(),new Ek(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:Rk.bind(null,n),Zr:kk.bind(null,n),tu:Nk.bind(null,n),Zo:Ok.bind(null,n)}),n.wu.push(function(){var e=(0,ge.Z)(function*(t){t?(n.Iu.Mo(),yield Dy(n)):(yield n.Iu.stop(),n.fu.length>0&&(Ne("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class GT{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,u){const l=Date.now()+r,m=new GT(e,t,l,i,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ty(n,e){if(Jn("AsyncQueue",`${e}: ${n}`),Zo(n))return new Me(ue.UNAVAILABLE,`${e}: ${n}`);throw n}class Sy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||He.comparator(t.key,r.key):(t,r)=>He.comparator(t.key,r.key),this.keyedMap=yc(),this.sortedSet=new tr(this.comparator)}static emptySet(e){return new Sy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Sy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Sy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class gM{constructor(){this.Tu=new tr(He.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Ze():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ay{constructor(e,t,r,i,u,l,m,v,I){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=m,this.excludesMetadataChanges=v,this.hasCachedResults=I}static fromInitialDocuments(e,t,r,i,u){const l=[];return t.forEach(m=>{l.push({type:0,doc:m})}),new Ay(e,t,Sy.emptySet(t),l,r,i,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Pk{constructor(){this.Au=void 0,this.listeners=[]}}class Fk{constructor(){this.queries=new Zl(e=>cI(e),Bp),this.onlineState="Unknown",this.Ru=new Set}}function zT(n,e){return qT.apply(this,arguments)}function qT(){return qT=(0,ge.Z)(function*(n,e){const t=Ge(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new Pk),i)try{u.Au=yield t.onListen(r)}catch(l){const m=Ty(l,`Initialization of query '${jp(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.bu(t.onlineState),u.Au&&e.Pu(u.Au)&&KT(t)}),qT.apply(this,arguments)}function WT(n,e){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,ge.Z)(function*(n,e){const t=Ge(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),ZT.apply(this,arguments)}function Lk(n,e){const t=Ge(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const m of l.listeners)m.Pu(i)&&(r=!0);l.Au=i}}r&&KT(t)}function Vk(n,e,t){const r=Ge(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function KT(n){n.Ru.forEach(e=>{e.next()})}class YT{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ay(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Ay.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Uk{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class mM{constructor(e){this.yt=e}Ji(e){return ur(this.yt,e)}Yi(e){return e.metadata.exists?Jv(this.yt,e.document,!1):Sn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return ar(e)}}class Bk{constructor(e,t,r){this.Mu=e,this.localStore=t,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=yM(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=Jt.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new mM(this.yt);for(const i of e)if(i.metadata.queries){const u=r.Ji(i.metadata.name);for(const l of i.metadata.queries){const m=(t.get(l)||Ht()).add(u);t.set(l,m)}}return t}complete(){var e=this;return(0,ge.Z)(function*(){const t=yield function pk(n,e,t,r){return vT.apply(this,arguments)}(e.localStore,new mM(e.yt),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield gk(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function yM(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class _M{constructor(e){this.key=e}}class vM{constructor(e){this.key=e}}class wM{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Ht(),this.mutatedKeys=Ht(),this.Gu=$p(e),this.Qu=new Sy(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new gM,i=t?t.Qu:this.Qu;let u=t?t.mutatedKeys:this.mutatedKeys,l=i,m=!1;const v="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,I="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,N)=>{const V=i.get(S),z=iy(this.query,N)?N:null,Q=!!V&&this.mutatedKeys.has(V.key),we=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let be=!1;V&&z?V.data.isEqual(z.data)?Q!==we&&(r.track({type:3,doc:z}),be=!0):this.Hu(V,z)||(r.track({type:2,doc:z}),be=!0,(v&&this.Gu(z,v)>0||I&&this.Gu(z,I)<0)&&(m=!0)):!V&&z?(r.track({type:0,doc:z}),be=!0):V&&!z&&(r.track({type:1,doc:V}),be=!0,(v||I)&&(m=!0)),be&&(z?(l=l.add(z),u=we?u.add(S):u.delete(S)):(l=l.delete(S),u=u.delete(S)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const S="F"===this.query.limitType?l.last():l.first();l=l.delete(S.key),u=u.delete(S.key),r.track({type:1,doc:S})}return{Qu:l,zu:r,$i:m,mutatedKeys:u}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const u=e.zu.Eu();u.sort((I,S)=>function(N,V){const z=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ze()}};return z(N)-z(V)}(I.type,S.type)||this.Gu(I.doc,S.doc)),this.Ju(r);const l=t?this.Yu():[],m=0===this.Ku.size&&this.current?1:0,v=m!==this.Uu;return this.Uu=m,0!==u.length||v?{snapshot:new Ay(this.query,e.Qu,i,u,e.mutatedKeys,0===m,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:l}:{Xu:l}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new gM,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Ht(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new vM(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new _M(r))}),t}tc(e){this.qu=e.Hi,this.Ku=Ht();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Ay.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class jk{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class $k{constructor(e){this.key=e,this.nc=!1}}class Hk{constructor(e,t,r,i,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.sc={},this.ic=new Zl(m=>cI(m),Bp),this.rc=new Map,this.oc=new Set,this.uc=new tr(He.comparator),this.cc=new Map,this.ac=new hT,this.hc={},this.lc=new Map,this.fc=T.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Gk(n,e){return QT.apply(this,arguments)}function QT(){return QT=(0,ge.Z)(function*(n,e){const t=wS(n);let r,i;const u=t.ic.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.ec();else{const l=yield Ey(t.localStore,Oi(e));t.isPrimaryClient&&tb(t.remoteStore,l);const m=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield XT(t,e,r,"current"===m,l.resumeToken)}return i}),QT.apply(this,arguments)}function XT(n,e,t,r,i){return JT.apply(this,arguments)}function JT(){return JT=(0,ge.Z)(function*(n,e,t,r,i){n._c=(N,V,z)=>{return(Q=(0,ge.Z)(function*(we,be,nt,Et){let ot=be.view.Wu(nt);ot.$i&&(ot=yield QI(we.localStore,be.query,!1).then(({documents:Vt})=>be.view.Wu(Vt,ot)));const st=Et&&Et.targetChanges.get(be.targetId),Ct=be.view.applyChanges(ot,we.isPrimaryClient,st);return cS(we,be.targetId,Ct.Xu),Ct.snapshot}),function(we,be,nt,Et){return Q.apply(this,arguments)})(n,N,V,z);var Q};const u=yield QI(n.localStore,e,!0),l=new wM(e,u.Hi),m=l.Wu(u.documents),v=qp.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),I=l.applyChanges(m,n.isPrimaryClient,v);cS(n,t,I.Xu);const S=new jk(e,t,l);return n.ic.set(e,S),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),I.snapshot}),JT.apply(this,arguments)}function zk(n,e){return eS.apply(this,arguments)}function eS(){return eS=(0,ge.Z)(function*(n,e){const t=Ge(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(u=>!Bp(u,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Iy(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),I0(t.remoteStore,r.targetId),xy(t,r.targetId)}).catch(lc))):(xy(t,r.targetId),yield Iy(t.localStore,r.targetId,!0))}),eS.apply(this,arguments)}function tS(){return tS=(0,ge.Z)(function*(n,e,t){const r=ES(n);try{const i=yield function(u,l){const m=Ge(u),v=Ln.now(),I=l.reduce((V,z)=>V.add(z.key),Ht());let S,N;return m.persistence.runTransaction("Locally write mutations","readwrite",V=>{let z=_s(),Q=Ht();return m.Gi.getEntries(V,I).next(we=>{z=we,z.forEach((be,nt)=>{nt.isValidDocument()||(Q=Q.add(be))})}).next(()=>m.localDocuments.getOverlayedDocuments(V,z)).next(we=>{S=we;const be=[];for(const nt of l){const Et=gI(nt,S.get(nt.key).overlayedDocument);null!=Et&&be.push(new eu(nt.key,Et,Vv(Et.value.mapValue),An.exists(!0)))}return m.mutationQueue.addMutationBatch(V,v,be,l)}).next(we=>{N=we;const be=we.applyToLocalDocumentSet(S,Q);return m.documentOverlayCache.saveOverlays(V,we.batchId,be)})}).then(()=>({batchId:N.batchId,changes:Yv(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,l,m){let v=u.hc[u.currentUser.toKey()];v||(v=new tr(Lt)),v=v.insert(l,m),u.hc[u.currentUser.toKey()]=v}(r,i.batchId,t),yield rd(r,i.changes),yield Dy(r.remoteStore)}catch(i){const u=Ty(i,"Failed to persist write");t.reject(u)}}),tS.apply(this,arguments)}function EM(n,e){return nS.apply(this,arguments)}function nS(){return nS=(0,ge.Z)(function*(n,e){const t=Ge(n);try{const r=yield hk(t.localStore,e);e.targetChanges.forEach((i,u)=>{const l=t.cc.get(u);l&&(ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.nc=!0:i.modifiedDocuments.size>0?ut(l.nc):i.removedDocuments.size>0&&(ut(l.nc),l.nc=!1))}),yield rd(t,r,e)}catch(r){yield lc(r)}}),nS.apply(this,arguments)}function IM(n,e,t){const r=Ge(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((u,l)=>{const m=l.view.bu(e);m.snapshot&&i.push(m.snapshot)}),function(u,l){const m=Ge(u);m.onlineState=l;let v=!1;m.queries.forEach((I,S)=>{for(const N of S.listeners)N.bu(l)&&(v=!0)}),v&&KT(m)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Wk(n,e,t){return rS.apply(this,arguments)}function rS(){return rS=(0,ge.Z)(function*(n,e,t){const r=Ge(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),u=i&&i.key;if(u){let l=new tr(He.comparator);l=l.insert(u,Sn.newNoDocument(u,yt.min()));const m=Ht().add(u),v=new zp(yt.min(),new Map,new fn(Lt),l,m);yield EM(r,v),r.uc=r.uc.remove(u),r.cc.delete(e),lS(r)}else yield Iy(r.localStore,e,!1).then(()=>xy(r,e,t)).catch(lc)}),rS.apply(this,arguments)}function Zk(n,e){return iS.apply(this,arguments)}function iS(){return iS=(0,ge.Z)(function*(n,e){const t=Ge(n),r=e.batch.batchId;try{const i=yield dk(t.localStore,e);uS(t,r,null),aS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield rd(t,i)}catch(i){yield lc(i)}}),iS.apply(this,arguments)}function Kk(n,e,t){return sS.apply(this,arguments)}function sS(){return sS=(0,ge.Z)(function*(n,e,t){const r=Ge(n);try{const i=yield function(u,l){const m=Ge(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let I;return m.mutationQueue.lookupMutationBatch(v,l).next(S=>(ut(null!==S),I=S.keys(),m.mutationQueue.removeMutationBatch(v,S))).next(()=>m.mutationQueue.performConsistencyCheck(v)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(v,I,l)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,I)).next(()=>m.localDocuments.getDocuments(v,I))})}(r.localStore,e);uS(r,e,t),aS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield rd(r,i)}catch(i){yield lc(i)}}),sS.apply(this,arguments)}function oS(){return oS=(0,ge.Z)(function*(n,e){const t=Ge(n);nd(t.remoteStore)||Ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const l=Ge(u);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>l.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=Ty(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),oS.apply(this,arguments)}function aS(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function uS(n,e,t){const r=Ge(n);let i=r.hc[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function xy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||bM(n,r)})}function bM(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(I0(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),lS(n))}function cS(n,e,t){for(const r of t)r instanceof _M?(n.ac.addReference(r.key,e),Qk(n,r)):r instanceof vM?(Ne("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||bM(n,r.key)):Ze()}function Qk(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Ne("SyncEngine","New document in limbo: "+t),n.oc.add(r),lS(n))}function lS(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new He(Jt.fromString(e)),r=n.fc.next();n.cc.set(r,new $k(t)),n.uc=n.uc.insert(t,r),tb(n.remoteStore,new vc(Oi(Up(t.path)),r,2,Qi.at))}}function rd(n,e,t){return dS.apply(this,arguments)}function dS(){return dS=(0,ge.Z)(function*(n,e,t){const r=Ge(n),i=[],u=[],l=[];var m;r.ic.isEmpty()||(r.ic.forEach((m,v)=>{l.push(r._c(v,e,t).then(I=>{if((I||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,I?.fromCache?"not-current":"current"),I){i.push(I);const S=mT.Ci(v.targetId,I);u.push(S)}}))}),yield Promise.all(l),r.sc.Wo(i),yield(m=(0,ge.Z)(function*(v,I){const S=Ge(v);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>re.forEach(I,V=>re.forEach(V.Si,z=>S.persistence.referenceDelegate.addReference(N,V.targetId,z)).next(()=>re.forEach(V.Di,z=>S.persistence.referenceDelegate.removeReference(N,V.targetId,z)))))}catch(N){if(!Zo(N))throw N;Ne("LocalStore","Failed to update sequence numbers: "+N)}for(const N of I){const V=N.targetId;if(!N.fromCache){const z=S.qi.get(V),we=z.withLastLimboFreeSnapshotVersion(z.snapshotVersion);S.qi=S.qi.insert(V,we)}}}),function(v,I){return m.apply(this,arguments)})(r.localStore,u))}),dS.apply(this,arguments)}function Xk(n,e){return hS.apply(this,arguments)}function hS(){return hS=(0,ge.Z)(function*(n,e){const t=Ge(n);if(!t.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const r=yield Qx(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(l=>{l.forEach(m=>{m.reject(new Me(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield rd(t,r.ji)}var i}),hS.apply(this,arguments)}function Jk(n,e){const t=Ge(n),r=t.cc.get(e);if(r&&r.nc)return Ht().add(r.key);{let i=Ht();const u=t.rc.get(e);if(!u)return i;for(const l of u){const m=t.ic.get(l);i=i.unionWith(m.view.ju)}return i}}function e1(n,e){return fS.apply(this,arguments)}function fS(){return fS=(0,ge.Z)(function*(n,e){const t=Ge(n),r=yield QI(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&cS(t,e.targetId,i.Xu),i}),fS.apply(this,arguments)}function t1(n,e){return pS.apply(this,arguments)}function pS(){return pS=(0,ge.Z)(function*(n,e){const t=Ge(n);return tM(t.localStore,e).then(r=>rd(t,r))}),pS.apply(this,arguments)}function n1(n,e,t,r){return gS.apply(this,arguments)}function gS(){return gS=(0,ge.Z)(function*(n,e,t,r){const i=Ge(n),u=yield function(l,m){const v=Ge(l),I=Ge(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",S=>I.Tn(S,m).next(N=>N?v.localDocuments.getDocuments(S,N):re.resolve(null)))}(i.localStore,e);var m;null!==u?("pending"===t?yield Dy(i.remoteStore):"acknowledged"===t||"rejected"===t?(uS(i,e,r||null),aS(i,e),m=e,Ge(Ge(i.localStore).mutationQueue).An(m)):Ze(),yield rd(i,u)):Ne("SyncEngine","Cannot apply mutation batch with id: "+e)}),gS.apply(this,arguments)}function mS(){return mS=(0,ge.Z)(function*(n,e){const t=Ge(n);if(wS(t),ES(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield DM(t,r.toArray());t.dc=!0,yield $T(t.remoteStore,!0);for(const u of i)tb(t.remoteStore,u)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((u,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(xy(t,l),Iy(t.localStore,l,!0))),I0(t.remoteStore,l)}),yield i,yield DM(t,r),function(u){const l=Ge(u);l.cc.forEach((m,v)=>{I0(l.remoteStore,v)}),l.ac.fs(),l.cc=new Map,l.uc=new tr(He.comparator)}(t),t.dc=!1,yield $T(t.remoteStore,!1)}}),mS.apply(this,arguments)}function DM(n,e,t){return yS.apply(this,arguments)}function yS(){return yS=(0,ge.Z)(function*(n,e,t){const r=Ge(n),i=[],u=[];for(const l of e){let m;const v=r.rc.get(l);if(v&&0!==v.length){m=yield Ey(r.localStore,Oi(v[0]));for(const I of v){const S=r.ic.get(I),N=yield e1(r,S);N.snapshot&&u.push(N.snapshot)}}else{const I=yield eM(r.localStore,l);m=yield Ey(r.localStore,I),yield XT(r,CM(I),l,!1,m.resumeToken)}i.push(m)}return r.sc.Wo(u),i}),yS.apply(this,arguments)}function CM(n){return OC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function i1(n){const e=Ge(n);return Ge(Ge(e.localStore).persistence).vi()}function s1(n,e,t,r){return _S.apply(this,arguments)}function _S(){return _S=(0,ge.Z)(function*(n,e,t,r){const i=Ge(n);if(i.dc)return void Ne("SyncEngine","Ignoring unexpected query state notification.");const u=i.rc.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const l=yield tM(i.localStore,jv(u[0])),m=zp.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,xr.EMPTY_BYTE_STRING);yield rd(i,l,m);break}case"rejected":yield Iy(i.localStore,e,!0),xy(i,e,r);break;default:Ze()}}),_S.apply(this,arguments)}function o1(n,e,t){return vS.apply(this,arguments)}function vS(){return vS=(0,ge.Z)(function*(n,e,t){const r=wS(n);if(r.dc){for(const i of e){if(r.rc.has(i)){Ne("SyncEngine","Adding an already active target "+i);continue}const u=yield eM(r.localStore,i),l=yield Ey(r.localStore,u);yield XT(r,CM(u),l.targetId,!1,l.resumeToken),tb(r.remoteStore,l)}for(const i of t)r.rc.has(i)&&(yield Iy(r.localStore,i,!1).then(()=>{I0(r.remoteStore,i),xy(r,i)}).catch(lc))}}),vS.apply(this,arguments)}function wS(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=EM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Wk.bind(null,e),e.sc.Wo=Lk.bind(null,e.eventManager),e.sc.wc=Vk.bind(null,e.eventManager),e}function ES(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Zk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Kk.bind(null,e),e}class TM{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ge.Z)(function*(){t.yt=w0(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Yx(this.persistence,new Kx,e.initialUser,this.yt)}yc(e){return new Wx(KI.Bs,this.yt)}gc(e){return new sM}terminate(){var e=this;return(0,ge.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class SM extends TM{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ge.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield ES(r.Ac.syncEngine),yield Dy(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Yx(this.persistence,new Kx,e.initialUser,this.yt)}Tc(e,t){return new ze(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new WE(t,this.persistence);return new Cv(e.asyncQueue,r)}yc(e){const t=gT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?o.withCacheSize(this.cacheSizeBytes):o.DEFAULT;return new pT(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,aM(),eb(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new sM}}class u1 extends SM{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ge.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof DT&&(r.sharedClientState.syncEngine={Fr:n1.bind(null,i),$r:s1.bind(null,i),Br:o1.bind(null,i),vi:i1.bind(null,i),Mr:t1.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var u=(0,ge.Z)(function*(l){yield function r1(n,e){return mS.apply(this,arguments)}(r.Ac.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return u.apply(this,arguments)}}())})()}gc(e){const t=aM();if(!DT.C(t))throw new Me(ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=gT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new DT(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class IS{initialize(e,t){var r=this;return(0,ge.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>IM(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Xk.bind(null,r.syncEngine),yield $T(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Fk}createDatastore(e){const t=w0(e.databaseInfo.databaseId),r=new vk(e.databaseInfo);return new Ik(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=m=>IM(this.syncEngine,m,0),l=oM.C()?new oM:new mk,new Ck(t,r,i,u,l);var t,r,i,u,l}createSyncEngine(e,t){return function(r,i,u,l,m,v,I){const S=new Hk(r,i,u,l,m,v);return I&&(S.dc=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ge.Z)(function*(t){const r=Ge(t);Ne("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield by(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function bS(n,e,t){if(!t)throw new Me(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function AM(n,e,t,r){if(!0===e&&!0===r)throw new Me(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function xM(n){if(!He.isDocumentKey(n))throw new Me(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function MM(n){if(He.isDocumentKey(n))throw new Me(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function rb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Ze()}function en(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rb(n);throw new Me(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function RM(n,e){if(e<=0)throw new Me(ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const NM=new Map;class OM{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Me(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Me(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,AM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class b0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OM({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Me(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Me(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OM(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new wv;switch(t.type){case"gapi":return new EC(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Me(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=NM.get(e);t&&(Ne("ComponentProvider","Removing Datastore"),NM.delete(e),t.terminate())}(this),Promise.resolve()}}class zn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ec(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}}class ki{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ki(this.firestore,e,this._query)}}class Ec extends ki{constructor(e,t,r){super(e,t,Up(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new He(e))}withConverter(e){return new Ec(this.firestore,e,this._path)}}function PM(n,e,...t){if(n=(0,$t.m9)(n),bS("collection","path",e),n instanceof b0){const r=Jt.fromString(e,...t);return MM(r),new Ec(n,null,r)}{if(!(n instanceof zn||n instanceof Ec))throw new Me(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Jt.fromString(e,...t));return MM(r),new Ec(n.firestore,null,r)}}function ib(n,e,...t){if(n=(0,$t.m9)(n),1===arguments.length&&(e=Ev.R()),bS("doc","path",e),n instanceof b0){const r=Jt.fromString(e,...t);return xM(r),new zn(n,null,new He(r))}{if(!(n instanceof zn||n instanceof Ec))throw new Me(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Jt.fromString(e,...t));return xM(r),new zn(n.firestore,n instanceof Ec?n.converter:null,new He(r))}}function FM(n,e){return n=(0,$t.m9)(n),e=(0,$t.m9)(e),(n instanceof zn||n instanceof Ec)&&(e instanceof zn||e instanceof Ec)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function DS(n,e){return n=(0,$t.m9)(n),e=(0,$t.m9)(e),n instanceof ki&&e instanceof ki&&n.firestore===e.firestore&&Bp(n._query,e._query)&&n.converter===e.converter}function LM(n,e=10240){let t=0;return{read:()=>(0,ge.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ge.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class sb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Jn("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class l1{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new vr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,ge.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,ge.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,ge.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const u=yield e.Cc(i);return new Uk(JSON.parse(u),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,ge.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,ge.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,ge.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class f1{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ge.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Me(ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ge.Z)(function*(u,l){const m=Ge(u),v=Zp(m.yt)+"/documents",I={documents:l.map(z=>uy(m.yt,z))},S=yield m._o("BatchGetDocuments",v,I,l.length),N=new Map;S.forEach(z=>{const Q=function CI(n,e){return"found"in e?function(t,r){ut(!!r.found);const i=ur(t,r.found.name),u=ar(r.found.updateTime),l=r.found.createTime?ar(r.found.createTime):yt.min(),m=new Gr({mapValue:{fields:r.found.fields}});return Sn.newFoundDocument(i,u,l,m)}(n,e):"missing"in e?function(t,r){ut(!!r.missing),ut(!!r.readTime);const i=ur(t,r.missing),u=ar(r.readTime);return Sn.newNoDocument(i,u)}(n,e):Ze()}(m.yt,z);N.set(Q.key.toString(),Q)});const V=[];return l.forEach(z=>{const Q=N.get(z.toString());ut(!!Q),V.push(Q)}),V}),function(u,l){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Gp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ge.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=He.fromPath(i);e.mutations.push(new yI(u,e.precondition(u)))}),yield(r=(0,ge.Z)(function*(i,u){const l=Ge(i),m=Zp(l.yt)+"/documents",v={writes:u.map(I=>jh(l.yt,I))};yield l.ao("Commit",m,v)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ze();t=yt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Me(ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(yt.min())?An.exists(!1):An.updateTime(t):An.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(yt.min()))throw new Me(ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return An.updateTime(t)}return An.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class p1{constructor(e,t,r,i,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=u,this.kc=r.maxAttempts,this.xo=new CT(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,ge.Z)(function*(){const t=new f1(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.Fc(u)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!Pp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!UC(t)}return!1}}class g1{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Hr.UNAUTHENTICATED,this.clientId=Ev.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,ge.Z)(function*(m){Ne("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Ne("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,ge.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Ty(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function VM(n,e){return CS.apply(this,arguments)}function CS(){return CS=(0,ge.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ge.Z)(function*(u){r.isEqual(u)||(yield Qx(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),CS.apply(this,arguments)}function UM(n,e){return TS.apply(this,arguments)}function TS(){return TS=(0,ge.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield SS(n);Ne("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>pM(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>pM(e.remoteStore,u)),n.onlineComponents=e}),TS.apply(this,arguments)}function SS(n){return AS.apply(this,arguments)}function AS(){return AS=(0,ge.Z)(function*(n){return n.offlineComponents||(Ne("FirestoreClient","Using default OfflineComponentProvider"),yield VM(n,new TM)),n.offlineComponents}),AS.apply(this,arguments)}function ob(n){return xS.apply(this,arguments)}function xS(){return xS=(0,ge.Z)(function*(n){return n.onlineComponents||(Ne("FirestoreClient","Using default OnlineComponentProvider"),yield UM(n,new IS)),n.onlineComponents}),xS.apply(this,arguments)}function BM(n){return SS(n).then(e=>e.persistence)}function ab(n){return SS(n).then(e=>e.localStore)}function MS(n){return ob(n).then(e=>e.remoteStore)}function RS(n){return ob(n).then(e=>e.syncEngine)}function My(n){return NS.apply(this,arguments)}function NS(){return NS=(0,ge.Z)(function*(n){const e=yield ob(n),t=e.eventManager;return t.onListen=Gk.bind(null,e.syncEngine),t.onUnlisten=zk.bind(null,e.syncEngine),t}),NS.apply(this,arguments)}function $M(n,e,t={}){const r=new vr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(i,u,l,m,v){const I=new sb({next:N=>{u.enqueueAndForget(()=>WT(i,S));const V=N.docs.has(l);!V&&N.fromCache?v.reject(new Me(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&N.fromCache&&m&&"server"===m.source?v.reject(new Me(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(N)},error:N=>v.reject(N)}),S=new YT(Up(l.path),I,{includeMetadataChanges:!0,Nu:!0});return zT(i,S)}(yield My(n),n.asyncQueue,e,t,r)})),r.promise}function HM(n,e,t={}){const r=new vr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(i,u,l,m,v){const I=new sb({next:N=>{u.enqueueAndForget(()=>WT(i,S)),N.fromCache&&"server"===m.source?v.reject(new Me(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(N)},error:N=>v.reject(N)}),S=new YT(l,I,{includeMetadataChanges:!0,Nu:!0});return zT(i,S)}(yield My(n),n.asyncQueue,e,t,r)})),r.promise}class b1{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new CT(this,"async_queue_retry"),this.Wc=()=>{const t=eb();t&&Ne("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=eb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=eb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new vr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,ge.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Zo(t))throw t;Ne("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Jn("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=GT.createAndSchedule(this,e,t,r,u=>this.Yc(u));return this.Uc.push(i),i}zc(){this.Kc&&Ze()}verifyOperationInProgress(){}Xc(){var e=this;return(0,ge.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function OS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class D1{constructor(){this._progressObserver={},this._taskCompletionResolver=new vr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class qn extends b0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new b1,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||GM(this),this._firestoreClient.terminate()}}function Rr(n){return n._firestoreClient||GM(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function GM(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new ZE(n._databaseId,u,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var u,m;n._firestoreClient=new g1(n._authCredentials,n._appCheckCredentials,n._queue,r)}function zM(n,e,t){const r=new vr;return n.asyncQueue.enqueue((0,ge.Z)(function*(){try{yield VM(n,t),yield UM(n,e),r.resolve()}catch(i){const u=i;if(!("FirebaseError"===(l=u).name?l.code===ue.FAILED_PRECONDITION||l.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw u;Vl("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var l})).then(()=>r.promise)}function qM(n){if(n._initialized||n._terminated)throw new Me(ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ic{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ic(xr.fromBase64String(e))}catch(t){throw new Me(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ic(xr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class id{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Me(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Jp{constructor(e){this._methodName=e}}class ub{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Lt(this._lat,e._lat)||Lt(this._long,e._long)}}const k1=/^__.*__$/;class P1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new eu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wl(e,this.data,t,this.fieldTransforms)}}class WM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new eu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ZM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ze()}}class cb{constructor(e,t,r,i,u,l){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===u&&this.na(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new cb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return hb(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(ZM(this.sa)&&k1.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class F1{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||w0(e)}da(e,t,r,i=!1){return new cb({sa:e,methodName:t,fa:r,path:Gn.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function eg(n){const e=n._freezeSettings(),t=w0(n._databaseId);return new F1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function lb(n,e,t,r,i,u={}){const l=n.da(u.merge||u.mergeFields?2:0,e,t,i);LS("Data must be an object, but it was:",l,r);const m=QM(r,l);let v,I;if(u.merge)v=new Xi(l.fieldMask),I=l.fieldTransforms;else if(u.mergeFields){const S=[];for(const N of u.mergeFields){const V=VS(e,N,t);if(!l.contains(V))throw new Me(ue.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);JM(S,V)||S.push(V)}v=new Xi(S),I=l.fieldTransforms.filter(N=>v.covers(N.field))}else v=null,I=l.fieldTransforms;return new P1(new Gr(m),v,I)}class D0 extends Jp{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof D0}}function KM(n,e,t){return new cb({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class kS extends Jp{_toFieldTransform(e){return new Uh(e.path,new mc)}isEqual(e){return e instanceof kS}}class L1 extends Jp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=KM(this,e,!0),r=this._a.map(u=>tg(u,t)),i=new Fh(r);return new Uh(e.path,i)}isEqual(e){return this===e}}class V1 extends Jp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=KM(this,e,!0),r=this._a.map(u=>tg(u,t)),i=new Lh(r);return new Uh(e.path,i)}isEqual(e){return this===e}}class U1 extends Jp{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Vh(e.yt,lI(e.yt,this.wa));return new Uh(e.path,t)}isEqual(e){return this===e}}function PS(n,e,t,r){const i=n.da(1,e,t);LS("Data must be an object, but it was:",i,r);const u=[],l=Gr.empty();Bl(r,(v,I)=>{const S=db(e,v,t);I=(0,$t.m9)(I);const N=i.ca(S);if(I instanceof D0)u.push(S);else{const V=tg(I,N);null!=V&&(u.push(S),l.set(S,V))}});const m=new Xi(u);return new WM(l,m,i.fieldTransforms)}function FS(n,e,t,r,i,u){const l=n.da(1,e,t),m=[VS(e,r,t)],v=[i];if(u.length%2!=0)throw new Me(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<u.length;V+=2)m.push(VS(e,u[V])),v.push(u[V+1]);const I=[],S=Gr.empty();for(let V=m.length-1;V>=0;--V)if(!JM(I,m[V])){const z=m[V];let Q=v[V];Q=(0,$t.m9)(Q);const we=l.ca(z);if(Q instanceof D0)I.push(z);else{const be=tg(Q,we);null!=be&&(I.push(z),S.set(z,be))}}const N=new Xi(I);return new WM(S,N,l.fieldTransforms)}function YM(n,e,t,r=!1){return tg(t,n.da(r?4:3,e))}function tg(n,e){if(XM(n=(0,$t.m9)(n)))return LS("Unsupported field value:",e,n),QM(n,e);if(n instanceof Jp)return function(t,r){if(!ZM(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const l of t){let m=tg(l,r.aa(u));null==m&&(m={nullValue:"NULL_VALUE"}),i.push(m),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,$t.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return lI(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Ln.fromDate(t);return{timestampValue:Ql(r.yt,i)}}if(t instanceof Ln){const i=new Ln(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ql(r.yt,i)}}if(t instanceof ub)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ic)return{bytesValue:WC(r.yt,t._byteString)};if(t instanceof zn){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r.ha(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Wp(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${rb(t)}`)}(n,e)}function QM(n,e){const t={};return YE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bl(n,(r,i)=>{const u=tg(i,e.ra(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function XM(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ln||n instanceof ub||n instanceof Ic||n instanceof zn||n instanceof Jp)}function LS(n,e,t){if(!XM(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=rb(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function VS(n,e,t){if((e=(0,$t.m9)(e))instanceof id)return e._internalPath;if("string"==typeof e)return db(n,e);throw hb("Field path arguments must be of type string or ",n,!1,void 0,t)}const B1=new RegExp("[~\\*/\\[\\]]");function db(n,e,t){if(e.search(B1)>=0)throw hb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new id(...e.split("."))._internalPath}catch{throw hb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function hb(n,e,t,r,i){const u=r&&!r.isEmpty(),l=void 0!==i;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let v="";return(u||l)&&(v+=" (found",u&&(v+=` in field ${r}`),l&&(v+=` in document ${i}`),v+=")"),new Me(ue.INVALID_ARGUMENT,m+n+v)}function JM(n,e){return n.some(t=>t.isEqual(e))}class C0{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new j1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(fb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class j1 extends C0{data(){return super.data()}}function fb(n,e){return"string"==typeof e?db(n,e):e instanceof id?e._internalPath:e._delegate._internalPath}function eR(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Me(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class US{}class T0 extends US{}function Wh(n,e,...t){let r=[];e instanceof US&&r.push(e),r=r.concat(t),function(i){const u=i.filter(m=>m instanceof Ry).length,l=i.filter(m=>m instanceof S0).length;if(u>1||u>0&&l>0)throw new Me(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class S0 extends T0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new S0(e,t,r)}_apply(e){const t=this._parse(e);return iR(e._query,t),new ki(e.firestore,e.converter,ny(e._query,t))}_parse(e){const t=eg(e.firestore);return function(i,u,l,m,v,I,S){let N;if(v.isKeyField()){if("array-contains"===I||"array-contains-any"===I)throw new Me(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if("in"===I||"not-in"===I){rR(S,I);const V=[];for(const z of S)V.push(nR(m,i,z));N={arrayValue:{values:V}}}else N=nR(m,i,S)}else"in"!==I&&"not-in"!==I&&"array-contains-any"!==I||rR(S,I),N=YM(l,"where",S,"in"===I||"not-in"===I);return Qt.create(v,I,N)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Ry extends US{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ry(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:un.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let u=r;const l=i.getFlattenedFilters();for(const m of l)iR(u,m),u=ny(u,m)}(e._query,t),new ki(e.firestore,e.converter,ny(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class BS extends T0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new BS(e,t)}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new Me(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Me(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new pc(i,u);return function(m,v){if(null===ty(m)){const I=gc(m);null!==I&&sR(0,I,v.field)}}(r,l),l}(e._query,this._field,this._direction);return new ki(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new Xa(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class pb extends T0{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new pb(e,t,r)}_apply(e){return new ki(e.firestore,e.converter,ry(e._query,this._limit,this._limitType))}}class gb extends T0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new gb(e,t,r)}_apply(e){const t=tR(e,this.type,this._docOrFields,this._inclusive);return new ki(e.firestore,e.converter,(i=t,new Xa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class mb extends T0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new mb(e,t,r)}_apply(e){const t=tR(e,this.type,this._docOrFields,this._inclusive);return new ki(e.firestore,e.converter,(i=t,new Xa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function tR(n,e,t,r){if(t[0]=(0,$t.m9)(t[0]),t[0]instanceof C0)return function(i,u,l,m,v){if(!m)throw new Me(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const I=[];for(const S of Ja(i))if(S.field.isKeyField())I.push(fc(u,m.key));else{const N=m.data.field(S.field);if(Tv(N))throw new Me(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===N){const V=S.field.canonicalString();throw new Me(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}I.push(N)}return new Gs(I,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=eg(n.firestore);return function(u,l,m,v,I,S){const N=u.explicitOrderBy;if(I.length>N.length)throw new Me(ue.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let z=0;z<I.length;z++){const Q=I[z];if(N[z].field.isKeyField()){if("string"!=typeof Q)throw new Me(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof Q}`);if(!Bv(u)&&-1!==Q.indexOf("/"))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${Q}' contains a slash.`);const we=u.path.child(Jt.fromString(Q));if(!He.isDocumentKey(we))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${we}' is not because it contains an odd number of segments.`);const be=new He(we);V.push(fc(l,be))}else{const we=YM(m,v,Q);V.push(we)}}return new Gs(V,S)}(n._query,n.firestore._databaseId,i,e,t,r)}}function nR(n,e,t){if("string"==typeof(t=(0,$t.m9)(t))){if(""===t)throw new Me(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bv(e)&&-1!==t.indexOf("/"))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Jt.fromString(t));if(!He.isDocumentKey(r))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fc(n,new He(r))}if(t instanceof zn)return fc(n,t._key);throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rb(t)}.`)}function rR(n,e){if(!Array.isArray(n)||0===n.length)throw new Me(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Me(ue.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function iR(n,e){if(e.isInequality()){const r=gc(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const u=ty(n);null!==u&&sR(0,i,u)}const t=function(r,i){for(const u of r)for(const l of u.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Me(ue.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function sR(n,e,t){if(!t.isEqual(e))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class jS{convertValue(e,t="none"){switch(Hl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return er(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($l(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ze()}}convertObject(e,t){const r={};return Bl(e.fields,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new ub(er(e.latitude),er(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Sv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Fp(e));default:return null}}convertTimestamp(e){const t=jl(e);return new Ln(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Jt.fromString(e);ut(SI(r));const i=new Qa(r.get(1),r.get(3)),u=new He(r.popFirst(5));return i.isEqual(t)||Jn(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function yb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Y1 extends jS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ic(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,t)}}class ng{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sd extends C0{constructor(e,t,r,i,u,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new A0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(fb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class A0 extends sd{data(e={}){return super.data(e)}}class Zh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ng(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new A0(this._firestore,this._userDataWriter,r.key,r,new ng(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new A0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ng(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const m=new A0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ng(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,I=-1;return 0!==l.type&&(v=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),I=u.indexOf(l.doc.key)),{type:Q1(l.type),doc:m,oldIndex:v,newIndex:I}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Q1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ze()}}function aR(n,e){return n instanceof sd&&e instanceof sd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Zh&&e instanceof Zh&&n._firestore===e._firestore&&DS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Kh extends jS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ic(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,t)}}function uR(n,e,t){n=en(n,zn);const r=en(n.firestore,qn),i=yb(n.converter,e,t);return Ny(r,[lb(eg(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,An.none())])}function cR(n,e,t,...r){n=en(n,zn);const i=en(n.firestore,qn),u=eg(i);let l;return l="string"==typeof(e=(0,$t.m9)(e))||e instanceof id?FS(u,"updateDoc",n._key,e,t,r):PS(u,"updateDoc",n._key,e),Ny(i,[l.toMutation(n._key,An.exists(!0))])}function lR(n,...e){var t,r,i;n=(0,$t.m9)(n);let u={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||OS(e[l])||(u=e[l],l++);const m={includeMetadataChanges:u.includeMetadataChanges};if(OS(e[l])){const N=e[l];e[l]=null===(t=N.next)||void 0===t?void 0:t.bind(N),e[l+1]=null===(r=N.error)||void 0===r?void 0:r.bind(N),e[l+2]=null===(i=N.complete)||void 0===i?void 0:i.bind(N)}let v,I,S;if(n instanceof zn)I=en(n.firestore,qn),S=Up(n._key.path),v={next:N=>{e[l]&&e[l]($S(I,n,N))},error:e[l+1],complete:e[l+2]};else{const N=en(n,ki);I=en(N.firestore,qn),S=N._query;const V=new Kh(I);v={next:z=>{e[l]&&e[l](new Zh(I,V,N,z))},error:e[l+1],complete:e[l+2]},eR(n._query)}return function(N,V,z,Q){const we=new sb(Q),be=new YT(V,we,z);return N.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return zT(yield My(N),be)})),()=>{we.bc(),N.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return WT(yield My(N),be)}))}}(Rr(I),S,m,v)}function Ny(n,e){return function(t,r){const i=new vr;return t.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function qk(n,e,t){return tS.apply(this,arguments)}(yield RS(t),r,i)})),i.promise}(Rr(n),e)}function $S(n,e,t){const r=t.docs.get(e._key),i=new Kh(n);return new sd(n,i,e._key,r,new ng(t.hasPendingWrites,t.fromCache),e.converter)}const aP={maxAttempts:5};class dR{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=eg(e)}set(e,t,r){this._verifyNotCommitted();const i=Yh(e,this._firestore),u=yb(i.converter,t,r),l=lb(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,r);return this._mutations.push(l.toMutation(i._key,An.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const u=Yh(e,this._firestore);let l;return l="string"==typeof(t=(0,$t.m9)(t))||t instanceof id?FS(this._dataReader,"WriteBatch.update",u._key,t,r,i):PS(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(l.toMutation(u._key,An.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Yh(e,this._firestore);return this._mutations=this._mutations.concat(new Gp(t._key,An.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yh(n,e){if((n=(0,$t.m9)(n)).firestore!==e)throw new Me(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class uP extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=eg(e)}get(e){const t=Yh(e,this._firestore),r=new Y1(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Ze();const u=i[0];if(u.isFoundDocument())return new C0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new C0(this._firestore,r,t._key,null,t.converter);throw Ze()})}set(e,t,r){const i=Yh(e,this._firestore),u=yb(i.converter,t,r),l=lb(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const u=Yh(e,this._firestore);let l;return l="string"==typeof(t=(0,$t.m9)(t))||t instanceof id?FS(this._dataReader,"Transaction.update",u._key,t,r,i):PS(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,l),this}delete(e){const t=Yh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Yh(e,this._firestore),r=new Kh(this._firestore);return super.get(e).then(i=>new sd(this._firestore,r,t._key,i._document,new ng(!1,!1),t.converter))}}function HS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function fR(){if(typeof Uint8Array>"u")throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function pR(){if(!function QE(){return typeof atob<"u"}())throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Ah=ps.SDK_VERSION,(0,ps._registerComponent)(new uh.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const u=t.getProvider("app").getImmediate(),l=new qn(new BE(t.getProvider("auth-internal")),new IC(t.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Me(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qa(m.options.projectId,v)}(u,r),u);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,ps.registerVersion)(Sh,"3.8.1",n),(0,ps.registerVersion)(Sh,"3.8.1","esm2017")}();class x0{constructor(e){this._delegate=e}static fromBase64String(e){return pR(),new x0(Ic.fromBase64String(e))}static fromUint8Array(e){return fR(),new x0(Ic.fromUint8Array(e))}toBase64(){return pR(),this._delegate.toBase64()}toUint8Array(){return fR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function GS(n){return function yP(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class _P{enableIndexedDbPersistence(e,t){return function T1(n,e){qM(n=en(n,qn));const t=Rr(n),r=n._freezeSettings(),i=new IS;return zM(t,i,new SM(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function S1(n){qM(n=en(n,qn));const e=Rr(n),t=n._freezeSettings(),r=new IS;return zM(e,r,new u1(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function A1(n){if(n._initialized&&!n._terminated)throw new Me(ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new vr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{yield(t=(0,ge.Z)(function*(r){if(!ao.C())return Promise.resolve();const i=r+"main";yield ao.delete(i)}),function(r){return t.apply(this,arguments)})(gT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class gR{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Qa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Vl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function kM(n,e,t,r={}){var i;const u=(n=en(n,b0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Vl("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let l,m;if("string"==typeof r.mockUserToken)l=r.mockUserToken,m=Hr.MOCK_USER;else{l=(0,$t.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Me(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Hr(v)}n._authCredentials=new wC(new UE(l,m))}}(this._delegate,e,t,r)}enableNetwork(){return function M1(n){return function m1(n){return n.asyncQueue.enqueue((0,ge.Z)(function*(){const e=yield BM(n),t=yield MS(n);return e.setNetworkEnabled(!0),function(r){const i=Ge(r);return i._u.delete(0),E0(i)}(t)}))}(Rr(n=en(n,qn)))}(this._delegate)}disableNetwork(){return function R1(n){return function y1(n){return n.asyncQueue.enqueue((0,ge.Z)(function*(){const e=yield BM(n),t=yield MS(n);return e.setNetworkEnabled(!1),(r=(0,ge.Z)(function*(i){const u=Ge(i);u._u.add(0),yield by(u),u.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Rr(n=en(n,qn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,AM("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function x1(n){return function(e){const t=new vr;return e.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function Yk(n,e){return oS.apply(this,arguments)}(yield RS(e),t)})),t.promise}(Rr(n=en(n,qn)))}(this._delegate)}onSnapshotsInSync(e){return function oP(n,e){return function w1(n,e){const t=new sb(e);return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return r=yield My(n),i=t,Ge(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return r=yield My(n),i=t,void Ge(r).Ru.delete(i);var r,i}))}}(Rr(n=en(n,qn)),OS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Oy(this,PM(this._delegate,e))}catch(t){throw vs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Jo(this,ib(this._delegate,e))}catch(t){throw vs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ws(this,function c1(n,e){if(n=en(n,b0),bS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Me(ue.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ki(n,null,(t=e,new Xa(Jt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw vs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function cP(n,e,t){n=en(n,qn);const r=Object.assign(Object.assign({},aP),t);return function(i){if(i.maxAttempts<1)throw new Me(ue.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,u,l){const m=new vr;return i.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){const v=yield function jM(n){return ob(n).then(e=>e.datastore)}(i);new p1(i.asyncQueue,v,l,u,m).run()})),m.promise}(Rr(n),i=>e(new uP(n,i)),r)}(this._delegate,t=>e(new mR(this,t)))}batch(){return Rr(this._delegate),new yR(new dR(this._delegate,e=>Ny(this._delegate,e)))}loadBundle(e){return function N1(n,e){const t=Rr(n=en(n,qn)),r=new D1;return function E1(n,e,t,r){const i=function(u,l){let m;return m="string"==typeof u?(new TextEncoder).encode(u):u,v=function(v,I){if(v instanceof Uint8Array)return LM(v,I);if(v instanceof ArrayBuffer)return LM(new Uint8Array(v),I);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new l1(v,l);var v}(t,w0(e));n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){!function a1(n,e,t){const r=Ge(n);var i;(i=(0,ge.Z)(function*(u,l,m){try{const v=yield l.getMetadata();if(yield function(V,z){const Q=Ge(V),we=ar(z.createTime);return Q.persistence.runTransaction("hasNewerBundle","readonly",be=>Q.Ns.getBundleMetadata(be,z.id)).then(be=>!!be&&be.createTime.compareTo(we)>=0)}(u.localStore,v))return yield l.close(),m._completeWith({taskState:"Success",documentsLoaded:(V=v).totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}),Promise.resolve(new Set);m._updateProgress(yM(v));const I=new Bk(v,u.localStore,l.yt);let S=yield l.mc();for(;S;){const V=yield I.Fu(S);V&&m._updateProgress(V),S=yield l.mc()}const N=yield I.complete();return yield rd(u,N.Lu,void 0),yield function(V,z){const Q=Ge(V);return Q.persistence.runTransaction("Save bundle","readwrite",we=>Q.Ns.saveBundleMetadata(we,z))}(u.localStore,v),m._completeWith(N.progress),Promise.resolve(N.Bu)}catch(v){return Vl("SyncEngine",`Loading bundle failed with ${v}`),m._failWith(v),Promise.resolve(new Set)}var V}),function(u,l,m){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield RS(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function O1(n,e){return function I1(n,e){return n.asyncQueue.enqueue((0,ge.Z)(function*(){return function(t,r){const i=Ge(t);return i.persistence.runTransaction("Get named query","readonly",u=>i.Ns.getNamedQuery(u,r))}(yield ab(n),e)}))}(Rr(n=en(n,qn)),e).then(t=>t?new ki(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ws(this,t):null)}}class _b extends jS{constructor(e){super(),this.firestore=e}convertBytes(e){return new x0(new Ic(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Jo.forKey(t,this.firestore,null)}}class mR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new _b(e)}get(e){const t=ig(e);return this._delegate.get(t).then(r=>new M0(this._firestore,new sd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=ig(e);return r?(HS("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=ig(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=ig(e);return this._delegate.delete(t),this}}class yR{constructor(e){this._delegate=e}set(e,t,r){const i=ig(e);return r?(HS("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=ig(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=ig(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class rg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new A0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new R0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=rg.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new rg(e,new _b(e),t),i.set(t,u)),u}}rg.INSTANCES=new WeakMap;class Jo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _b(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Jo(t,new zn(t._delegate,r,new He(e)))}static forKey(e,t,r){return new Jo(t,new zn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Oy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Oy(this.firestore,PM(this._delegate,e))}catch(t){throw vs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,$t.m9)(e))instanceof zn&&FM(this._delegate,e)}set(e,t){t=HS("DocumentReference.set",t);try{return t?uR(this._delegate,e,t):uR(this._delegate,e)}catch(r){throw vs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?cR(this._delegate,e):cR(this._delegate,e,t,...r)}catch(i){throw vs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function iP(n){return Ny(en(n.firestore,qn),[new Gp(n._key,An.none())])}(this._delegate)}onSnapshot(...e){const t=_R(e),r=vR(e,i=>new M0(this.firestore,new sd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return lR(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function J1(n){n=en(n,zn);const e=en(n.firestore,qn),t=Rr(e),r=new Kh(e);return function _1(n,e){const t=new vr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(r=(0,ge.Z)(function*(i,u,l){try{const m=yield function(v,I){const S=Ge(v);return S.persistence.runTransaction("read document","readonly",N=>S.localDocuments.getDocument(N,I))}(i,u);m.isFoundDocument()?l.resolve(m):m.isNoDocument()?l.resolve(null):l.reject(new Me(ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const v=Ty(m,`Failed to get document '${u} from cache`);l.reject(v)}}),function(i,u,l){return r.apply(this,arguments)})(yield ab(n),e,t);var r})),t.promise}(t,n._key).then(i=>new sd(e,r,n._key,i,new ng(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function eP(n){n=en(n,zn);const e=en(n.firestore,qn);return $M(Rr(e),n._key,{source:"server"}).then(t=>$S(e,n,t))}(this._delegate):function X1(n){n=en(n,zn);const e=en(n.firestore,qn);return $M(Rr(e),n._key).then(t=>$S(e,n,t))}(this._delegate),t.then(r=>new M0(this.firestore,new sd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Jo(this.firestore,this._delegate.withConverter(e?rg.getInstance(this.firestore,e):null))}}function vs(n,e,t){return n.message=n.message.replace(e,t),n}function _R(n){for(const e of n)if("object"==typeof e&&!GS(e))return e;return{}}function vR(n,e){var t,r;let i;return i=GS(n[0])?n[0]:GS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class M0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Jo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return aR(this._delegate,e._delegate)}}class R0 extends M0{data(e){const t=this._delegate.data(e);return function VE(n,e){n||Ze()}(void 0!==t),t}}class ws{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _b(e)}where(e,t,r){try{return new ws(this.firestore,Wh(this._delegate,function $1(n,e,t){const r=e,i=fb("where",n);return S0._create(i,r,t)}(e,t,r)))}catch(i){throw vs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ws(this.firestore,Wh(this._delegate,function H1(n,e="asc"){const t=e,r=fb("orderBy",n);return BS._create(r,t)}(e,t)))}catch(r){throw vs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ws(this.firestore,Wh(this._delegate,function G1(n){return RM("limit",n),pb._create("limit",n,"F")}(e)))}catch(t){throw vs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ws(this.firestore,Wh(this._delegate,function z1(n){return RM("limitToLast",n),pb._create("limitToLast",n,"L")}(e)))}catch(t){throw vs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ws(this.firestore,Wh(this._delegate,function q1(...n){return gb._create("startAt",n,!0)}(...e)))}catch(t){throw vs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ws(this.firestore,Wh(this._delegate,function W1(...n){return gb._create("startAfter",n,!1)}(...e)))}catch(t){throw vs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ws(this.firestore,Wh(this._delegate,function Z1(...n){return mb._create("endBefore",n,!1)}(...e)))}catch(t){throw vs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ws(this.firestore,Wh(this._delegate,function K1(...n){return mb._create("endAt",n,!0)}(...e)))}catch(t){throw vs(t,"endAt()","Query.endAt()")}}isEqual(e){return DS(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function nP(n){n=en(n,ki);const e=en(n.firestore,qn),t=Rr(e),r=new Kh(e);return function v1(n,e){const t=new vr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(r=(0,ge.Z)(function*(i,u,l){try{const m=yield QI(i,u,!0),v=new wM(u,m.Hi),I=v.Wu(m.documents),S=v.applyChanges(I,!1);l.resolve(S.snapshot)}catch(m){const v=Ty(m,`Failed to execute query '${u} against cache`);l.reject(v)}}),function(i,u,l){return r.apply(this,arguments)})(yield ab(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Zh(e,r,n,i))}(this._delegate):"server"===e?.source?function rP(n){n=en(n,ki);const e=en(n.firestore,qn),t=Rr(e),r=new Kh(e);return HM(t,n._query,{source:"server"}).then(i=>new Zh(e,r,n,i))}(this._delegate):function tP(n){n=en(n,ki);const e=en(n.firestore,qn),t=Rr(e),r=new Kh(e);return eR(n._query),HM(t,n._query).then(i=>new Zh(e,r,n,i))}(this._delegate),t.then(r=>new zS(this.firestore,new Zh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=_R(e),r=vR(e,i=>new zS(this.firestore,new Zh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return lR(this._delegate,t,r)}withConverter(e){return new ws(this.firestore,this._delegate.withConverter(e?rg.getInstance(this.firestore,e):null))}}class wP{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new R0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class zS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ws(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new R0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new wP(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new R0(this._firestore,r))})}isEqual(e){return aR(this._delegate,e._delegate)}}class Oy extends ws{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Jo(this.firestore,e):null}doc(e){try{return new Jo(this.firestore,void 0===e?ib(this._delegate):ib(this._delegate,e))}catch(t){throw vs(t,"doc()","CollectionReference.doc()")}}add(e){return function sP(n,e){const t=en(n.firestore,qn),r=ib(n),i=yb(n.converter,e);return Ny(t,[lb(eg(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,An.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Jo(this.firestore,t))}isEqual(e){return FM(this._delegate,e._delegate)}withConverter(e){return new Oy(this.firestore,this._delegate.withConverter(e?rg.getInstance(this.firestore,e):null))}}function ig(n){return en(n,zn)}class qS{constructor(...e){this._delegate=new id(...e)}static documentId(){return new qS(Gn.keyField().canonicalString())}isEqual(e){return(e=(0,$t.m9)(e))instanceof id&&this._delegate._internalPath.isEqual(e._internalPath)}}class sg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function dP(){return new kS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new sg(e)}static delete(){const e=function lP(){return new D0("deleteField")}();return e._methodName="FieldValue.delete",new sg(e)}static arrayUnion(...e){const t=function hP(...n){return new L1("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new sg(t)}static arrayRemove(...e){const t=function fP(...n){return new V1("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new sg(t)}static increment(e){const t=function pP(n){return new U1("increment",n)}(e);return t._methodName="FieldValue.increment",new sg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const EP={Firestore:gR,GeoPoint:ub,Timestamp:Ln,Blob:x0,Transaction:mR,WriteBatch:yR,DocumentReference:Jo,DocumentSnapshot:M0,Query:ws,QueryDocumentSnapshot:R0,QuerySnapshot:zS,CollectionReference:Oy,FieldPath:qS,FieldValue:sg,setLogLevel:function vP(n){!function Ax(n){uc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function bP(n){(function IP(n,e){n.INTERNAL.registerComponent(new uh.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},EP)))})(n,(e,t)=>new gR(e,t,new _P)),n.registerVersion("@firebase/firestore-compat","0.3.1")}(tm.Z);var DP=k(6451),vb=k(5363),CP=k(6063);class TP extends Kn.x{constructor(e=1/0,t=1/0,r=CP.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:l}=this;t||(r.push(e),!i&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const l=t.now();let m=0;for(let v=1;v<r.length&&r[v]<=l;v+=2)m=v;m&&r.splice(0,m+1)}}}var SP=k(3099);function wR(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,SP.B)({connector:()=>new TP(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function ER(n,e){return(0,Ma.m)(e)?jn(()=>n,e):jn(()=>n)}var WS=k(9468);k(259);const KS=new Map,bR={activated:!1,tokenObservers:[]},NP={initialized:!1,enabled:!1};function Pi(n){return KS.get(n)||Object.assign({},bR)}function Eb(){return NP}class VP{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ge.Z)(function*(){t.stop();try{t.pending=new $t.BH,yield function UP(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new $t.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Es=new $t.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function CR(n){if(!Pi(n).activated)throw Es.create("use-before-activation",{appName:n.name})}function XS(n,e){return JS.apply(this,arguments)}function JS(){return JS=(0,ge.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const N=yield i.getHeartbeatsHeader();N&&(r["X-Firebase-Client"]=N)}const u={method:"POST",body:JSON.stringify(e),headers:r};let l,m;try{l=yield fetch(n,u)}catch(N){throw Es.create("fetch-network-error",{originalErrorMessage:N?.message})}if(200!==l.status)throw Es.create("fetch-status-error",{httpStatus:l.status});try{m=yield l.json()}catch(N){throw Es.create("fetch-parse-error",{originalErrorMessage:N?.message})}const v=m.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw Es.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const I=1e3*Number(v[1]),S=Date.now();return{token:m.token,expireTimeMillis:S+I,issuedAtTimeMillis:S}}),JS.apply(this,arguments)}function HP(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const N0="firebase-app-check-store";let Db=null;function SR(){return Db||(Db=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Es.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(N0,{keyPath:"compositeKey"})}}catch(t){e(Es.create("storage-open",{originalErrorMessage:t?.message}))}}),Db)}function eA(){return eA=(0,ge.Z)(function*(n,e){const r=(yield SR()).transaction(N0,"readwrite"),u=r.objectStore(N0).put({compositeKey:n,value:e});return new Promise((l,m)=>{u.onsuccess=v=>{l()},r.onerror=v=>{var I;m(Es.create("storage-set",{originalErrorMessage:null===(I=v.target.error)||void 0===I?void 0:I.message}))}})}),eA.apply(this,arguments)}const O0=new Ju.Yd("@firebase/app-check");function rA(n,e){return(0,$t.hl)()?function WP(n,e){return function AR(n,e){return eA.apply(this,arguments)}(function MR(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{O0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function RR(){return Eb().enabled}function NR(){return sA.apply(this,arguments)}function sA(){return sA=(0,ge.Z)(function*(){const n=Eb();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),sA.apply(this,arguments)}const JP={error:"UNKNOWN_ERROR"};function eF(n){return $t.US.encodeString(JSON.stringify(n),!1)}function Cb(n){return oA.apply(this,arguments)}function oA(){return oA=(0,ge.Z)(function*(n,e=!1){const t=n.app;CR(t);const r=Pi(t);let u,i=r.token;if(i&&!ky(i)&&(r.token=void 0,i=void 0),!i){const v=yield r.cachedTokenPromise;v&&(ky(v)?i=v:yield rA(t,void 0))}if(!e&&i&&ky(i))return{token:i.token};let m,l=!1;if(RR()){r.exchangeTokenPromise||(r.exchangeTokenPromise=XS(HP(t,yield NR()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const v=yield r.exchangeTokenPromise;return yield rA(t,v),r.token=v,{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield Pi(t).exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?O0.warn(v.message):O0.error(v),u=v}return i?u?m=ky(i)?{token:i.token,internalError:u}:PR(u):(m={token:i.token},r.token=i,yield rA(t,i)):m=PR(u),l&&kR(t,m),m}),oA.apply(this,arguments)}function uA(n,e){const t=Pi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function OR(n){const{app:e}=n,t=Pi(e);let r=t.tokenRefresher;r||(r=function tF(n){const{app:e}=n;return new VP((0,ge.Z)(function*(){let r;if(r=Pi(e).token?yield Cb(n,!0):yield Cb(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Pi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function kR(n,e){const t=Pi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function ky(n){return n.expireTimeMillis-Date.now()>0}function PR(n){return{token:eF(JP),error:n}}class nF{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Pi(this.app);for(const t of e)uA(this.app,t.next);return Promise.resolve()}}const HR="app-check-internal";!function mF(){(0,ps._registerComponent)(new uh.wA("app-check",n=>function rF(n,e){return new nF(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(HR).initialize()})),(0,ps._registerComponent)(new uh.wA(HR,n=>function iF(n){return{getToken:e=>Cb(n,e),addTokenListener:e=>function aA(n,e,t,r){const{app:i}=n,u=Pi(i);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&ky(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),OR(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>OR(n))}(n,"INTERNAL",e),removeTokenListener:e=>uA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ps.registerVersion)("@firebase/app-check","0.6.1")}();class Sb{constructor(){return(0,Hn.vb)("app-check")}}typeof window<"u"&&window;var zR=k(9260);const qR=new h.OlP("angularfire2.auth.use-emulator"),fA=new h.OlP("angularfire2.auth.settings"),WR=new h.OlP("angularfire2.auth.tenant-id"),ZR=new h.OlP("angularfire2.auth.langugage-code"),KR=new h.OlP("angularfire2.auth.use-device-language"),YR=new h.OlP("angularfire.auth.persistence"),QR=(n,e,t,r,i,u,l,m)=>(0,xi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=i,u&&v.useDeviceLanguage(),l)for(const[I,S]of Object.entries(l))v.settings[I]=S;return m&&v.setPersistence(m),v},[t,r,i,u,l,m]);let XR=(()=>{class n{constructor(t,r,i,u,l,m,v,I,S,N,V,z){const Q=new Kn.x,we=Qe(void 0).pipe((0,vb.Q)(l.outsideAngular),jn(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,750)))),(0,at.U)(()=>(0,xi.on)(t,u,r)),(0,at.U)(be=>QR(be,u,m,I,S,N,v,V)),wR({bufferSize:1,refCount:!1}));if(kc(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Qe(null);else{we.pipe(Po()).subscribe();const nt=we.pipe(jn(st=>st.getRedirectResult().then(Ct=>Ct,()=>null)),Hn.iC,wR({bufferSize:1,refCount:!1})),Et=we.pipe(jn(st=>new Un.y(Ct=>({unsubscribe:u.runOutsideAngular(()=>st.onAuthStateChanged(Vt=>Ct.next(Vt),Vt=>Ct.error(Vt),()=>Ct.complete()))})))),ot=we.pipe(jn(st=>new Un.y(Ct=>({unsubscribe:u.runOutsideAngular(()=>st.onIdTokenChanged(Vt=>Ct.next(Vt),Vt=>Ct.error(Vt),()=>Ct.complete()))}))));this.authState=nt.pipe(ER(Et),(0,WS.R)(l.outsideAngular),(0,vb.Q)(l.insideAngular)),this.user=nt.pipe(ER(ot),(0,WS.R)(l.outsideAngular),(0,vb.Q)(l.insideAngular)),this.idToken=this.user.pipe(jn(st=>st?(0,an.D)(st.getIdToken()):Qe(null))),this.idTokenResult=this.user.pipe(jn(st=>st?(0,an.D)(st.getIdTokenResult()):Qe(null))),this.credential=(0,DP.T)(nt,Q,this.authState.pipe(cs(st=>!st))).pipe((0,at.U)(st=>st?.user?st:null),(0,WS.R)(l.outsideAngular),(0,vb.Q)(l.insideAngular))}return(0,xi.pX)(this,we,u,{spy:{apply:(be,nt,Et)=>{(be.startsWith("signIn")||be.startsWith("createUser"))&&Et.then(ot=>Q.next(ot))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(xi.Dh),h.LFG(xi.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Hn.HU),h.LFG(qR,8),h.LFG(fA,8),h.LFG(WR,8),h.LFG(ZR,8),h.LFG(KR,8),h.LFG(YR,8),h.LFG(Sb,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function JR(n,e){return function IF(n,e=Yw.z){return new Un.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function pA(n,e){return JR(n,e).pipe((0,at.U)(t=>({payload:t,type:"query"})))}function Ab(n,e){return pA(n,e).pipe(sl(void 0),L_(),(0,at.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,m)=>{const v=i.find(S=>S.doc.ref.isEqual(l.ref)),I=t?.payload.docs.find(S=>S.ref.isEqual(l.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(l.metadata)||!v&&I&&JSON.stringify(I.metadata)===JSON.stringify(l.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:l}})}),u}))}function eN(n,e,t){return Ab(n,t).pipe(Vd((r,i)=>function DF(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function CF(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return gA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return gA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return gA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),function ZD(n,e=no.y){return n=n??KD,(0,bn.e)((t,r)=>{let i,u=!0;t.subscribe((0,H.x)(r,l=>{const m=e(l);(u||!n(i,m))&&(u=!1,i=m,r.next(l))}))})}(),(0,at.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function gA(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function tN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class nN{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Ab(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,at.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(sl(void 0),L_(),cs(([r,i])=>i.length>0||!r),(0,at.U)(([r,i])=>i),Hn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Vd((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=tN(e);return eN(this.query,t,this.afs.schedulers.outsideAngular).pipe(Hn.iC)}valueChanges(e={}){return pA(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Hn.iC)}get(e){return(0,an.D)(this.query.get(e)).pipe(Hn.iC)}add(e){return this.ref.add(e)}doc(e){return new rN(this.ref.doc(e),this.afs)}}class rN{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=oN(r,t);return new nN(i,u,this.afs)}snapshotChanges(){return function bF(n,e){return JR(n,e).pipe(sl(void 0),L_(),(0,at.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Hn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,at.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,an.D)(this.ref.get(e)).pipe(Hn.iC)}}class TF{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Ab(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),cs(t=>t.length>0),Hn.iC):Ab(this.query,this.afs.schedulers.outsideAngular).pipe(Hn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Vd((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=tN(e);return eN(this.query,t,this.afs.schedulers.outsideAngular).pipe(Hn.iC)}valueChanges(e={}){return pA(this.query,this.afs.schedulers.outsideAngular).pipe((0,at.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Hn.iC)}get(e){return(0,an.D)(this.query.get(e)).pipe(Hn.iC)}}const iN=new h.OlP("angularfire2.enableFirestorePersistence"),sN=new h.OlP("angularfire2.firestore.persistenceSettings"),SF=new h.OlP("angularfire2.firestore.settings"),AF=new h.OlP("angularfire2.firestore.use-emulator");function oN(n,e=(t=>t)){return{query:e(n),ref:n}}let aN=(()=>{class n{constructor(t,r,i,u,l,m,v,I,S,N,V,z,Q,we,be,nt,Et){this.schedulers=v;const ot=(0,xi.on)(t,m,r),st=S;N&&QR(ot,m,V,Q,we,be,z,nt),[this.firestore,this.persistenceEnabled$]=(0,xi.cc)(`${ot.name}.firestore`,"AngularFirestore",ot.name,()=>{const Ct=m.runOutsideAngular(()=>ot.firestore());if(u&&Ct.settings(u),st&&Ct.useEmulator(...st),i&&!kc(l)){const Vt=()=>{try{return(0,an.D)(Ct.enablePersistence(I||void 0).then(()=>!0,()=>!1))}catch(lr){return typeof console<"u"&&console.warn(lr),Qe(!1)}};return[Ct,m.runOutsideAngular(Vt)]}return[Ct,Qe(!1)]},[u,st,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:l}=oN(i,r),m=this.schedulers.ngZone.run(()=>u);return new nN(m,l,this)}collectionGroup(t,r){const i=r||(l=>l),u=this.firestore.collectionGroup(t);return new TF(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new rN(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(xi.Dh),h.LFG(xi.xv,8),h.LFG(iN,8),h.LFG(SF,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Hn.HU),h.LFG(sN,8),h.LFG(AF,8),h.LFG(XR,8),h.LFG(qR,8),h.LFG(fA,8),h.LFG(WR,8),h.LFG(ZR,8),h.LFG(KR,8),h.LFG(YR,8),h.LFG(Sb,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),xF=(()=>{class n{constructor(){zR.Z.registerVersion("angularfire",Hn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:iN,useValue:!0},{provide:sN,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[aN]}),n})();function MF(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",11),h.NdJ("click",function(){h.CHM(t);const i=h.oxw().$implicit,u=h.oxw();return h.KtG(u.pushOrder(i.price,i.id,i.name,i.image))}),h._uU(1," Tambah "),h.qZA()}}function RF(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",12)(1,"button",13),h.NdJ("click",function(){h.CHM(t);const i=h.oxw().$implicit,u=h.oxw();return h.KtG(u.getNote(i.id))}),h._uU(2," Catatan "),h.qZA(),h.TgZ(3,"div",14)(4,"button",15),h.NdJ("click",function(){h.CHM(t);const i=h.oxw().$implicit,u=h.oxw();return h.KtG(u.reduceOrder(i.id))}),h._UZ(5,"img",16),h.qZA(),h.TgZ(6,"div",17),h._uU(7),h.qZA(),h.TgZ(8,"button",15),h.NdJ("click",function(){h.CHM(t);const i=h.oxw().$implicit,u=h.oxw();return h.KtG(u.pushOrder(i.price,i.id,i.name,i.image))}),h._UZ(9,"img",18),h.qZA()()()}if(2&n){const t=h.oxw().$implicit,r=h.oxw();h.xp6(7),h.hij(" ",r.renderAmount(t.id)," ")}}const NF=function(n){return["/menu",n]};function OF(n,e){if(1&n&&(h.TgZ(0,"div",2)(1,"div",3)(2,"div",4),h._UZ(3,"img",5),h.TgZ(4,"p",6),h._uU(5),h.qZA(),h.TgZ(6,"p",7),h._uU(7),h.ALo(8,"currency"),h.qZA()(),h.TgZ(9,"div",8),h.YNc(10,MF,2,0,"button",9),h.YNc(11,RF,10,1,"div",10),h.qZA()()()),2&n){const t=e.$implicit,r=h.oxw();h.xp6(2),h.Q6J("routerLink",h.VKq(11,NF,t.id)),h.xp6(1),h.s9C("src",t.image,h.LSH),h.xp6(2),h.Oqu(t.name),h.xp6(2),h.hij(" ",h.gM2(8,6,t.price,"IDR","symbol","3.0")," "),h.xp6(3),h.Q6J("ngIf",r.renderAmount(t.id)<1),h.xp6(1),h.Q6J("ngIf",r.renderAmount(t.id)>0)}}class k0{constructor(e,t){this.itemService=e,this.orderItem=t,this.items=[],this.order=[],this.renderAmount=r=>{const i=this.orderItem.renderAmount(r);return this.order[i]?this.order[i]?.quantity:0},this.subscription=t.getSubject().subscribe(r=>{this.order=r}),this.items=this.itemService.getItems()}getNote(e){this.orderItem.setNote(e)}pushOrder(e,t,r,i){this.orderItem.pushOrder(e,t,r,i)}reduceOrder(e){this.orderItem.reduceOrder(e)}}k0.\u0275fac=function(e){return new(e||k0)(h.Y36(Al),h.Y36(so))},k0.\u0275cmp=h.Xpm({type:k0,selectors:[["app-cards"]],decls:2,vars:1,consts:[[1,"grid","mt-5","gap-4","gap-y-5","grid-cols-2","grid-rows-2"],["class","border-[#C5C5C5] border-[1px] rounded-2xl",4,"ngFor","ngForOf"],[1,"border-[#C5C5C5]","border-[1px]","rounded-2xl"],[1,"flex","flex-col","items-center","p-3"],[1,"cursor-pointer",3,"routerLink"],[1,"rounded-full","h-28","w-28","m-auto","mb-2",3,"src"],[1,"text-xs","font-bold"],[1,"text-xs","font-semibold"],[1,"mt-5","mb-0"],["class","border-[#28A748] border-2 h-5 text-xs text-[#28A748] px-7 rounded-lg",3,"click",4,"ngIf"],["class","flex justify-between items-center gap-1",4,"ngIf"],[1,"border-[#28A748]","border-2","h-5","text-xs","text-[#28A748]","px-7","rounded-lg",3,"click"],[1,"flex","justify-between","items-center","gap-1"],[1,"text-[10px]","border-black","border-[1px]","rounded-full","px-2","shadow-lg",3,"click"],[1,"flex","items-center","justify-center","gap-2","flex-shrink-0"],[1,"",3,"click"],["src","assets/img/min.svg"],[1,"text-xs","w-2","flex","justify-center"],["src","assets/img/plus.svg"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0),h.YNc(1,OF,12,13,"div",1),h.qZA()),2&e&&(h.xp6(1),h.Q6J("ngForOf",t.items))},dependencies:[vi,mn,Ga,_o]});class Py{constructor(e){this.orderItem=e,this.order=[],this.cont=0,this.amountTotal=()=>this.order.reduce((r,i)=>r+i.quantity,0),this.totalAddition=()=>this.order.reduce((r,i)=>r+i.price*i.quantity,0),this.subscription=e.getSubject().subscribe(t=>this.order=t)}}Py.\u0275fac=function(e){return new(e||Py)(h.Y36(so))},Py.\u0275cmp=h.Xpm({type:Py,selectors:[["app-checkout"]],decls:9,vars:7,consts:[["routerLink","/payment",1,"mt-2","px-10","bg-blue-300","rounded-b-full","py-2"],[1,"flex","justify-between"],[1,"font-medium"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"p"),h._uU(4),h.qZA()(),h.TgZ(5,"div")(6,"p",2),h._uU(7),h.ALo(8,"currency"),h.qZA()()()()),2&e&&(h.xp6(4),h.hij("",t.amountTotal()," Item"),h.xp6(3),h.hij(" ",0===t.totalAddition()?"Rp0":h.gM2(8,2,t.totalAddition(),"IDR","symbol","3.0")," "))},dependencies:[Ga,_o]});class og{onKey(e){this.userInfo=e,this.sendData(this.userInfo)}constructor(){this.userInfo={name:"",address:"",number:"",time:""},this.subject=new sr([])}sendData(e){this.subject.next(e)}getSubject(){return this.subject.asObservable()}}function kF(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",7)(1,"div",8),h._UZ(2,"img",9),h.TgZ(3,"div",10)(4,"div",11)(5,"div")(6,"h1",4),h._uU(7),h.qZA(),h.TgZ(8,"p",5),h._uU(9),h.ALo(10,"currency"),h.qZA()()(),h.TgZ(11,"button",12),h.NdJ("click",function(){const u=h.CHM(t).$implicit,l=h.oxw();return h.KtG(l.getNote(u.product_id))}),h._uU(12," Catatan "),h.qZA()()(),h.TgZ(13,"div",13)(14,"div",14)(15,"button",15),h.NdJ("click",function(){const u=h.CHM(t).$implicit,l=h.oxw();return h.KtG(l.reduceOrder(u.product_id))}),h._UZ(16,"img",16),h.qZA(),h.TgZ(17,"div",17),h._uU(18),h.qZA(),h.TgZ(19,"button",15),h.NdJ("click",function(){const u=h.CHM(t).$implicit,l=h.oxw();return h.KtG(l.addOrder(u.price,u.product_id,u.name,u.image))}),h._UZ(20,"img",18),h.qZA()()()()}if(2&n){const t=e.$implicit;h.xp6(2),h.s9C("src",t.image,h.LSH),h.xp6(5),h.Oqu(t.name),h.xp6(2),h.hij(" ",h.gM2(10,4,t.price,"IDR","symbol","3.0")," "),h.xp6(9),h.hij(" ",t.quantity," ")}}og.\u0275fac=function(e){return new(e||og)},og.\u0275prov=h.Yz7({token:og,factory:og.\u0275fac,providedIn:"root"});class P0{constructor(e){this.orderItem=e,this.menu=!1,this.order=[],this.items=[],this.subscription=this.orderItem.getSubject().subscribe(t=>{this.order=t})}addOrder(e,t,r,i){this.orderItem.pushOrder(e,t,r,i)}reduceOrder(e){this.orderItem.reduceOrder(e)}setSwitch(){this.menu=!0}test(){console.log(this.order)}getNote(e){this.orderItem.setNote(e)}ngOnInit(){}}P0.\u0275fac=function(e){return new(e||P0)(h.Y36(so))},P0.\u0275cmp=h.Xpm({type:P0,selectors:[["app-list"]],inputs:{menu:"menu"},decls:12,vars:1,consts:[[1,"bg-[#F5F5F5]","py-2","mt-8","xl:rounded-lg"],["class","flex gap-4 mt-2 mb-3 justify-between items-end lg:w-10/12 m-auto px-7",4,"ngFor","ngForOf"],[1,"w-full","h-[1px]","bg-[#BCBCBC]","bg-opacity-80"],[1,"flex","items-center","justify-between","mt-1","lg:w-10/12","m-auto","px-7"],[1,"font-semibold","text-sm"],[1,"text-xs"],["routerLink","/menu",1,"border-[#28A748]","border-2","h-5","text-xs","text-[#28A748]","px-7","rounded-lg"],[1,"flex","gap-4","mt-2","mb-3","justify-between","items-end","lg:w-10/12","m-auto","px-7"],[1,"flex","gap-4"],["alt","",1,"w-20","h-20","rounded-2xl",3,"src"],[1,"flex","flex-col","gap-7"],[1,"flex","justify-between"],[1,"w-14","text-[10px]","border-black","border-[1px]","rounded-full","px-2","shadow-lg",3,"click"],[1,"flex","flex-col","gap-14","items-end"],[1,"flex","items-center","justify-center","gap-2","flex-shrink-0"],[1,"",3,"click"],["src","assets/img/min.svg"],[1,"text-xs","w-2","flex","justify-center"],["src","assets/img/plus.svg"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0),h.YNc(1,kF,21,9,"div",1),h._UZ(2,"div",2),h.TgZ(3,"div",3)(4,"div")(5,"h1",4),h._uU(6,"Ada lagi pesanannya?"),h.qZA(),h.TgZ(7,"p",5),h._uU(8,"Masih bisa nambah menu lain, ya"),h.qZA()(),h.TgZ(9,"div")(10,"button",6),h._uU(11," Tambah "),h.qZA()()()()),2&e&&(h.xp6(1),h.Q6J("ngForOf",t.order))},dependencies:[vi,Ga,_o]});let uN=(()=>{class n{get nativeWindow(){return window}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),FF=(()=>{class n{constructor(t,r,i){this.element=t,this._window=r,this._zone=i,this.onlyGrow=!1,this.useImportant=!1,this.resized=new h.vpe,this.autosize=!0,this.retries=0,this._destroyed=!1,"TEXTAREA"!==this.element.nativeElement.tagName?this._findNestedTextArea():(this.textAreaEl=this.element.nativeElement,this.textAreaEl.style["overflow-y"]="hidden",this._onTextAreaFound())}set minRows(t){this._minRows=+t,this.textAreaEl&&(this.textAreaEl.rows=this._minRows)}set _autosize(t){this.autosize="boolean"!=typeof t||t}onInput(t){this.adjust()}ngOnDestroy(){this._destroyed=!0,this._windowResizeHandler&&this._window.nativeWindow.removeEventListener("resize",this._windowResizeHandler,!1)}ngAfterContentChecked(){this.adjust()}ngOnChanges(t){this.adjust(!0)}_findNestedTextArea(){this.textAreaEl=this.element.nativeElement.querySelector("TEXTAREA"),!this.textAreaEl&&this.element.nativeElement.shadowRoot&&(this.textAreaEl=this.element.nativeElement.shadowRoot.querySelector("TEXTAREA")),this.textAreaEl?(this.textAreaEl.style["overflow-y"]="hidden",this._onTextAreaFound()):this.retries>=3?console.warn("ngx-autosize: textarea not found"):(this.retries++,setTimeout(()=>{this._findNestedTextArea()},100))}_onTextAreaFound(){this._addWindowResizeHandler(),setTimeout(()=>{this.adjust()})}_addWindowResizeHandler(){this._windowResizeHandler=function LF(n,e){let t;return(...r)=>{clearTimeout(t),t=setTimeout(()=>{n(...r)},e)}}(()=>{this._zone.run(()=>{this.adjust()})},200),this._zone.runOutsideAngular(()=>{this._window.nativeWindow.addEventListener("resize",this._windowResizeHandler,!1)})}adjust(t=!1){if(this.autosize&&!this._destroyed&&this.textAreaEl&&this.textAreaEl.parentNode){const r=this.textAreaEl.value;if(!1===t&&r===this._oldContent&&this.textAreaEl.offsetWidth===this._oldWidth)return;this._oldContent=r,this._oldWidth=this.textAreaEl.offsetWidth;const i=this.textAreaEl.cloneNode(!0),u=this.textAreaEl.parentNode;i.style.width=this.textAreaEl.offsetWidth+"px",i.style.visibility="hidden",i.style.position="absolute",i.textContent=r,u.appendChild(i),i.style["overflow-y"]="hidden",i.style.height="auto";let l=i.scrollHeight,m=this._window.nativeWindow.getComputedStyle(i,null);l+=parseInt(m.getPropertyValue("border-top-width")),l+=parseInt(m.getPropertyValue("border-bottom-width")),"content-box"===m.getPropertyValue("box-sizing")&&(l-=parseInt(m.getPropertyValue("padding-top")),l-=parseInt(m.getPropertyValue("padding-bottom")));const v=this.textAreaEl.offsetHeight;if(!1===this.onlyGrow||l>v){const S=this._getLineHeight(),N=l/S;if(this._minRows&&this._minRows>=N)l=this._minRows*S;else if(this.maxRows&&this.maxRows<=N){const Q=this.maxRows*S;l=this.onlyGrow?Math.max(Q,v):Q,this.textAreaEl.style["overflow-y"]="auto"}else this.textAreaEl.style["overflow-y"]="hidden";this.textAreaEl.style.setProperty("height",l+"px",this.useImportant?"important":""),this.resized.emit(l)}u.removeChild(i)}}_getLineHeight(){let t=parseInt(this.textAreaEl.style.lineHeight,10);if(isNaN(t)&&this._window.nativeWindow.getComputedStyle){const r=this._window.nativeWindow.getComputedStyle(this.textAreaEl);t=parseInt(r.lineHeight,10)}if(isNaN(t)){const r=this._window.nativeWindow.getComputedStyle(this.textAreaEl,null).getPropertyValue("font-size");t=Math.floor(1.5*parseInt(r.replace("px",""),10))}return t}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(uN),h.Y36(h.R0b))},n.\u0275dir=h.lG2({type:n,selectors:[["","autosize",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r.onInput(u.target)})},inputs:{minRows:"minRows",_autosize:["autosize","_autosize"],maxRows:"maxRows",onlyGrow:"onlyGrow",useImportant:"useImportant"},outputs:{resized:"resized"},features:[h.TTD]}),n})(),VF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[uN],imports:[[]]}),n})(),cN=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),ag=(()=>{class n extends cN{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const bc=new h.OlP("NgValueAccessor"),jF={provide:bc,useExisting:(0,h.Gpc)(()=>xb),multi:!0},HF=new h.OlP("CompositionEventMode");let xb=(()=>{class n extends cN{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $F(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(HF,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[h._Bn([jF]),h.qOj]}),n})();function Qh(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const Ji=new h.OlP("NgValidators"),Xh=new h.OlP("NgAsyncValidators");function pN(n){return Qh(n.value)?{required:!0}:null}function Mb(n){return null}function wN(n){return null!=n}function EN(n){return(0,h.QGY)(n)?(0,an.D)(n):n}function IN(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function bN(n,e){return e.map(t=>t(n))}function DN(n){return n.map(e=>function qF(n){return!n.validate}(e)?e:t=>e.validate(t))}function mA(n){return null!=n?function CN(n){if(!n)return null;const e=n.filter(wN);return 0==e.length?null:function(t){return IN(bN(t,e))}}(DN(n)):null}function yA(n){return null!=n?function TN(n){if(!n)return null;const e=n.filter(wN);return 0==e.length?null:function(t){return function UF(...n){const e=(0,Pn.jO)(n),{args:t,keys:r}=ko(n),i=new Un.y(u=>{const{length:l}=t;if(!l)return void u.complete();const m=new Array(l);let v=l,I=l;for(let S=0;S<l;S++){let N=!1;(0,mr.Xf)(t[S]).subscribe((0,H.x)(u,V=>{N||(N=!0,I--),m[S]=V},()=>v--,void 0,()=>{(!v||!N)&&(I||u.next(r?F(r,m):m),u.complete())}))}});return e?i.pipe(x(e)):i}(bN(t,e).map(EN)).pipe((0,at.U)(IN))}}(DN(n)):null}function SN(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function _A(n){return n?Array.isArray(n)?n:[n]:[]}function Rb(n,e){return Array.isArray(n)?n.includes(e):n===e}function MN(n,e){const t=_A(e);return _A(n).forEach(i=>{Rb(t,i)||t.push(i)}),t}function RN(n,e){return _A(e).filter(t=>!Rb(n,t))}class NN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=mA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=yA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Is extends NN{get formDirective(){return null}get path(){return null}}class Jh extends NN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ON{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let kN=(()=>{class n extends ON{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Jh,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[h.qOj]}),n})(),PN=(()=>{class n extends ON{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Is,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[h.qOj]}),n})();const F0="VALID",Ob="INVALID",Fy="PENDING",L0="DISABLED";function IA(n){return(kb(n)?n.validators:n)||null}function bA(n,e){return(kb(e)?e.asyncValidators:n)||null}function kb(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class UN{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===F0}get invalid(){return this.status===Ob}get pending(){return this.status==Fy}get disabled(){return this.status===L0}get enabled(){return this.status!==L0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(MN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(MN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(RN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(RN(e,this._rawAsyncValidators))}hasValidator(e){return Rb(this._rawValidators,e)}hasAsyncValidator(e){return Rb(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Fy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=L0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=F0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===F0||this.status===Fy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?L0:F0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Fy,this._hasOwnPendingAsyncValidator=!0;const t=EN(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?L0:this.errors?Ob:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fy)?Fy:this._anyControlsHaveStatus(Ob)?Ob:F0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){kb(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function JF(n){return Array.isArray(n)?mA(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function eL(n){return Array.isArray(n)?yA(n):n||null}(this._rawAsyncValidators)}}class DA extends UN{constructor(e,t,r){super(IA(t),bA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function VN(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new h.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function LN(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[t])throw new h.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const V0=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>CA}),CA="always";function U0(n,e,t=CA){TA(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function rL(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&BN(n,e)})}(n,e),function sL(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function iL(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&BN(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function nL(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Lb(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function TA(n,e){const t=function AN(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(SN(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function xN(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(SN(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Lb(e._rawValidators,i),Lb(e._rawAsyncValidators,i)}function BN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const lL={provide:Is,useExisting:(0,h.Gpc)(()=>Ub)},B0=(()=>Promise.resolve())();let Ub=(()=>{class n extends Is{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new DA({},mA(t),yA(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){B0.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),U0(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){B0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){B0.then(()=>{const r=this._findContainer(t.path),i=new DA({});(function jN(n,e){TA(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){B0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){B0.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function $N(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ji,10),h.Y36(Xh,10),h.Y36(V0,8))},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([lL]),h.qOj]}),n})();function HN(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function GN(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const zN=class extends UN{constructor(e=null,t,r){super(IA(t),bA(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kb(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=GN(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){HN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){HN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){GN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},fL={provide:Jh,useExisting:(0,h.Gpc)(()=>MA)},ZN=(()=>Promise.resolve())();let MA=(()=>{class n extends Jh{constructor(t,r,i,u,l,m){super(),this._changeDetectorRef=l,this.callSetDisabledState=m,this.control=new zN,this._registered=!1,this.update=new h.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function xA(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===xb?t=u:function uL(n){return Object.getPrototypeOf(n.constructor)===ag}(u)?r=u:i=u}),i||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function AA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){U0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){ZN.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,h.D6c)(r);ZN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Pb(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Is,9),h.Y36(Ji,10),h.Y36(Xh,10),h.Y36(bc,10),h.Y36(h.sBO,8),h.Y36(V0,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([fL]),h.qOj,h.TTD]}),n})(),KN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const pL={provide:bc,useExisting:(0,h.Gpc)(()=>RA),multi:!0};let RA=(()=>{class n extends ag{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[h._Bn([pL]),h.qOj]}),n})(),YN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();let ug=(()=>{class n{constructor(){this._validator=Mb}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Mb,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,features:[h.TTD]}),n})();const RL={provide:Ji,useExisting:(0,h.Gpc)(()=>Bb),multi:!0};let Bb=(()=>{class n extends ug{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=h.D6c,this.createValidator=t=>pN}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&h.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[h._Bn([RL]),h.qOj]}),n})();const kL={provide:Ji,useExisting:(0,h.Gpc)(()=>LA),multi:!0};let LA=(()=>{class n extends ug{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function sO(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function yN(n){return e=>Qh(e.value)||!function dN(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&h.uIk("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[h._Bn([kL]),h.qOj]}),n})(),LL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[YN]}),n})(),UL=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:V0,useValue:t.callSetDisabledState??CA}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[LL]}),n})();class j0{constructor(e){this.userInput=e,this.userInfo={name:"",address:"",number:"",time:""},this.userInput.getSubject().subscribe(t=>{this.userInfo.name=t.name,this.userInfo.address=t.address,this.userInfo.number=t.number,this.userInfo.time=t.time})}onKey(){this.userInput.onKey(this.userInfo)}}j0.\u0275fac=function(e){return new(e||j0)(h.Y36(og))},j0.\u0275cmp=h.Xpm({type:j0,selectors:[["app-input"]],decls:18,vars:5,consts:[[1,"flex","gap-8","bg-[#F5F5F5]","p-5","justify-center","mt-4","xl:rounded-lg"],[1,"flex","flex-col","gap-4"],[1,"text-[#BCBCBC]","text-xs"],["form","ngForm"],["required","","minlength","5","type","text","name","name",1,"focus:outline-none","border","pl-3","text-xs","rounded-3xl","shadow-[0_4px_4px_rgba(0,0,0,0.25),0_4px_4px_rgba(0,0,0,0.3)]",3,"ngModel","keyup","ngModelChange"],["box","ngModel"],["required","","name","number","type","number",1,"focus:outline-none","border","text-xs","pl-3","rounded-3xl","shadow-[0_4px_4px_rgba(0,0,0,0.25),0_4px_4px_rgba(0,0,0,0.3)]",3,"ngModel","ngModelChange","keyup"],["required","","autosize","","type","text","placeholder","alamat","name","address",1,"resize-none","focus:outline-none","border","pl-3","pr-3","text-xs","rounded-3xl","shadow-[0_4px_4px_rgba(0,0,0,0.25),0_4px_4px_rgba(0,0,0,0.3)]",3,"ngModel","minRows","ngModelChange","keyup"],["required","","name","time","type","text","placeholder","13:00",1,"focus:outline-none","border","text-xs","pl-3","rounded-3xl","shadow-[0_4px_4px_rgba(0,0,0,0.25),0_4px_4px_rgba(0,0,0,0.3)]",3,"ngModel","ngModelChange","keyup"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0)(1,"div",1)(2,"p",2),h._uU(3,"Nama"),h.qZA(),h.TgZ(4,"p",2),h._uU(5,"Nomor Whatsapp (Wa)"),h.qZA(),h.TgZ(6,"p",2),h._uU(7,"Alamat"),h.qZA(),h.TgZ(8,"p",2),h._uU(9,"Waktu diantar (13:00 s/d 19:00)"),h.qZA()(),h.TgZ(10,"form",null,3)(12,"div",1)(13,"input",4,5),h.NdJ("keyup",function(){return t.onKey()})("ngModelChange",function(i){return t.userInfo.name=i}),h.qZA(),h.TgZ(15,"input",6),h.NdJ("ngModelChange",function(i){return t.userInfo.number=i})("keyup",function(){return t.onKey()}),h.qZA(),h.TgZ(16,"textarea",7),h.NdJ("ngModelChange",function(i){return t.userInfo.address=i})("keyup",function(){return t.onKey()}),h.qZA(),h.TgZ(17,"input",8),h.NdJ("ngModelChange",function(i){return t.userInfo.time=i})("keyup",function(){return t.onKey()}),h.qZA()()()()),2&e&&(h.xp6(13),h.Q6J("ngModel",t.userInfo.name),h.xp6(2),h.Q6J("ngModel",t.userInfo.number),h.xp6(1),h.Q6J("ngModel",t.userInfo.address)("minRows",1.1),h.xp6(1),h.Q6J("ngModel",t.userInfo.time))},dependencies:[FF,KN,xb,RA,kN,PN,Bb,LA,MA,Ub]});class $0{}$0.\u0275fac=function(e){return new(e||$0)},$0.\u0275cmp=h.Xpm({type:$0,selectors:[["app-head"]],decls:19,vars:0,consts:[[1,"flex","items-center","justify-start","gap-2","ml-6"],["routerLink","/menu","src","assets/img/arrow.svg","alt","",1,"cursor-pointer"],["src","assets/img/pastaboys.png","alt","",1,"h-10"],[1,"w-full","h-[1px]","bg-[#BCBCBC]"],[1,"max-[360px]:flex-wrap","flex","mt-5","gap-2","ml-4","justify-center"],[1,"flex","items-start","gap-2"],["src","assets/img/clock.svg","alt","",1,"w-9"],[1,"w-44"],[1,"font-semibold","text-sm"],[1,"text-xs","font-medium"],["src","assets/img/location.svg","alt","",1,"w-9"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0),h._UZ(1,"img",1)(2,"img",2),h.qZA(),h._UZ(3,"div",3),h.TgZ(4,"div",4)(5,"div",5),h._UZ(6,"img",6),h.TgZ(7,"div",7)(8,"h2",8),h._uU(9,"Pesan antar"),h.qZA(),h.TgZ(10,"p",9),h._uU(11," Sistem Pre Order pesan hari ini, diantar besok. "),h.qZA()()(),h.TgZ(12,"div",5),h._UZ(13,"img",10),h.TgZ(14,"div",7)(15,"h2",8),h._uU(16,"Alamat"),h.qZA(),h.TgZ(17,"p",9),h._uU(18,"Khusus daerah Malang"),h.qZA()()()())},dependencies:[Ga]});class H0{constructor(){this.order=[],this.totalAddition=()=>this.order.reduce((t,r)=>t+r.price*r.quantity,0)}}H0.\u0275fac=function(e){return new(e||H0)},H0.\u0275cmp=h.Xpm({type:H0,selectors:[["app-ringkasan"]],inputs:{order:"order"},decls:32,vars:12,consts:[[1,"m-10","bg-[#F5F5F5]","rounded-xl"],[1,"p-5"],[1,"font-semibold","text-sm"],[1,"p-2"],[1,"flex","justify-between","mt-2","text-xs"],[1,"w-full","h-[1px]","bg-black","bg-opacity-80"],[1,"p-7"],[1,"text-xs"],[1,"text-xs","px-7","pb-7","pt-2"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),h._uU(3,"Ringkasan pembayaran"),h.qZA(),h.TgZ(4,"div",3)(5,"div",4)(6,"p"),h._uU(7,"Harga"),h.qZA(),h.TgZ(8,"p"),h._uU(9),h.ALo(10,"currency"),h.qZA()(),h.TgZ(11,"div",4)(12,"p"),h._uU(13,"Ongkir"),h.qZA(),h.TgZ(14,"p"),h._uU(15,"Gratis"),h.qZA()(),h.TgZ(16,"div",4)(17,"p"),h._uU(18,"Biaya layanan & lainnya."),h.qZA(),h.TgZ(19,"p"),h._uU(20,"0"),h.qZA()()()(),h._UZ(21,"div",5),h.TgZ(22,"div",6)(23,"div",4)(24,"p",7),h._uU(25,"Total Pembayaran"),h.qZA(),h.TgZ(26,"p"),h._uU(27),h.ALo(28,"currency"),h.qZA()()(),h._UZ(29,"div",5),h.TgZ(30,"p",8),h._uU(31,"Mohon diperiksa kembali*"),h.qZA()()),2&e&&(h.xp6(9),h.hij(" ",0===t.totalAddition()?"Rp0":h.gM2(10,2,t.totalAddition(),"IDR","symbol","3.0")," "),h.xp6(18),h.hij(" ",0===t.totalAddition()?"Rp0":h.gM2(28,7,t.totalAddition(),"IDR","symbol","3.0")," "))},dependencies:[_o]});class Ly{constructor(e,t,r){this.orderItem=e,this.userInput=t,this._router=r,this.order=[],this.finalOrder={name:"",number:"",adress:"",time:"",order:[]},this.switchView=new h.vpe,this.subscription=this.orderItem.getSubject().subscribe(i=>{this.order=i,this.finalOrder.order=i.map(({product_id:u,quantity:l,note:m})=>({product_id:u,quantity:l,note:m}))}),this.subscription=this.userInput.getSubject().subscribe(i=>{this.finalOrder.name=i.name,this.finalOrder.adress=i.address,this.finalOrder.number=i.number,this.finalOrder.time=i.time})}setSwitch(){this.switchView.emit(!0)}confirm(){confirm("Selesaikan pesanan?")&&this.log()}log(){const e=Object.values(this.finalOrder).some(r=>void 0===r||""===r||0===r.length),t=Object.keys(this.finalOrder).filter((r,i)=>""===Object.values(this.finalOrder)[i]||void 0===Object.values(this.finalOrder)[i]||0===Object.values(this.finalOrder)[i].length);e?alert("mohon isi input berikut: "+t.join(", ")):(this.orderItem.sendOrder(this.finalOrder).subscribe(r=>console.log(r)),this._router.navigate(["thank"])),console.log(this.finalOrder)}}function BL(n,e){if(1&n&&(h.TgZ(0,"li"),h._uU(1),h.qZA()),2&n){const t=e.$implicit;h.xp6(1),h.hij(" ",t.name," ")}}function jL(n,e){1&n&&h._UZ(0,"app-checkout")}function $L(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",2)(1,"h1",3),h.NdJ("click",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.addItem())}),h._uU(2,"Menu"),h.qZA(),h.TgZ(3,"h2"),h._uU(4,"Choose your delicious meal"),h.qZA(),h.TgZ(5,"ul"),h.YNc(6,BL,2,1,"li",4),h.ALo(7,"async"),h.qZA(),h.TgZ(8,"div",5),h._UZ(9,"app-cards"),h.YNc(10,jL,1,0,"app-checkout",6),h.qZA()()}if(2&n){const t=h.oxw();h.xp6(6),h.Q6J("ngForOf",h.lcZ(7,2,t.items)),h.xp6(4),h.Q6J("ngIf",t.orderExist)}}function HL(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",7)(1,"app-payment",8),h.NdJ("switchView",function(i){h.CHM(t);const u=h.oxw();return h.KtG(u.switchView(i))}),h.qZA()()}}Ly.\u0275fac=function(e){return new(e||Ly)(h.Y36(so),h.Y36(og),h.Y36(Ai))},Ly.\u0275cmp=h.Xpm({type:Ly,selectors:[["app-payment"]],outputs:{switchView:"switchView"},decls:8,vars:1,consts:[[1,"xl:w-2/5","xl:shadow-md","m-auto"],[3,"setSwitchView"],[3,"order"],[1,"flex","justify-center","items-center","mt-8"],[1,"bg-[#E28F42]","mb-2","py-2","px-3","w-72","rounded-3xl","text-lg","text-white","font-semibold","border-white","border-[1px]","drop-shadow-[0_4px_4px_rgba(0,0,0,0.3)]",3,"click"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0),h._UZ(1,"app-head")(2,"app-input"),h.TgZ(3,"app-list",1),h.NdJ("setSwitchView",function(){return t.setSwitch()}),h.qZA(),h._UZ(4,"app-ringkasan",2),h.TgZ(5,"div",3)(6,"button",4),h.NdJ("click",function(){return t.confirm()}),h._uU(7," Pesan "),h.qZA()()()),2&e&&(h.xp6(4),h.Q6J("order",t.order))},dependencies:[P0,j0,$0,H0]});class G0{constructor(e,t){this.itemOrder=e,this.afs=t,this.menu=!0,this.current="hello",this.order=[],this.orderExist=!1,this.testpa=[],this.datas=[],this.itemsCollection=t.collection("items"),this.items=this.itemsCollection.valueChanges(),this.deletee=t.doc("items/n9AqpviQGInJPPmaJ1us"),this.subscription=this.itemOrder.getSubject().subscribe(r=>{this.orderExist=this.itemOrder.isOrderEmpty})}addHello(e){this.order=e}switchView(e){this.menu=e}addItem(){console.log(this.orderExist,this.itemOrder.isOrderEmpty)}}G0.\u0275fac=function(e){return new(e||G0)(h.Y36(so),h.Y36(aN))},G0.\u0275cmp=h.Xpm({type:G0,selectors:[["app-menu"]],decls:2,vars:2,consts:[["class","xl:w-2/5 xl:m-auto ml-9 mr-9 mt-2 h-screen",4,"ngIf"],["class","xl:w-2/5 xl:m-auto mt-5 h-screen",4,"ngIf"],[1,"xl:w-2/5","xl:m-auto","ml-9","mr-9","mt-2","h-screen"],[1,"text-xl","font-semibold",3,"click"],[4,"ngFor","ngForOf"],[1,"flex","flex-col"],[4,"ngIf"],[1,"xl:w-2/5","xl:m-auto","mt-5","h-screen"],[3,"switchView"]],template:function(e,t){1&e&&(h.YNc(0,$L,11,4,"div",0),h.YNc(1,HL,2,0,"div",1)),2&e&&(h.Q6J("ngIf",t.menu),h.xp6(1),h.Q6J("ngIf",!1===t.menu))},dependencies:[vi,mn,k0,Py,Ly,Ws]});class z0{}z0.\u0275fac=function(e){return new(e||z0)},z0.\u0275cmp=h.Xpm({type:z0,selectors:[["app-welcome"]],decls:11,vars:0,consts:[[1,"bg-cover","h-screen","relative","top-0","left-0",2,"background-image","url(assets/img/marbel.png)"],["src","assets/img/rect.png",1,"relative","top-0","left-0","h-screen","w-screen"],["src","assets/img/pasta.png",1,"absolute","top-0","left-0","w-screen","lg:h-screen"],[1,"flex","flex-col","gap-12","items-center","absolute","mr-auto","ml-auto","top-10","left-0","right-0"],["src","assets/img/pastaWelcome.png"],[1,"flex","flex-col","items-center"],[1,"text-3xl","text-white","font-bold"],["src","assets/img/pastaboys.png",1,"w-36"],["routerLink","/menu",1,"bg-[#606767]","w-48","h-12","text-white","text-xl","font-bold","rounded-full"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0),h._UZ(1,"img",1)(2,"img",2),h.TgZ(3,"div",3),h._UZ(4,"img",4),h.TgZ(5,"div",5)(6,"p",6),h._uU(7,"Selamat Datang"),h.qZA(),h._UZ(8,"img",7),h.qZA(),h.TgZ(9,"button",8),h._uU(10," Pesan "),h.qZA()()())},dependencies:[Ga]});class q0{}q0.\u0275fac=function(e){return new(e||q0)},q0.\u0275cmp=h.Xpm({type:q0,selectors:[["app-page-not-found"]],decls:2,vars:0,template:function(e,t){1&e&&(h.TgZ(0,"p"),h._uU(1,"page-not-found works!"),h.qZA())}});const fO="firebasestorage.googleapis.com",pO="storageBucket";class cr extends $t.ZR{constructor(e,t,r=0){super(VA(e),`Firebase Storage: ${t} (${VA(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,cr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return VA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function VA(n){return"storage/"+n}function UA(){return new cr("unknown","An unknown error occurred, please check the error payload for server response.")}function gO(){return new cr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function mO(){return new cr("canceled","User canceled the upload/download.")}function yO(){return new cr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Vy(n){return new cr("invalid-argument",n)}function _O(){return new cr("app-deleted","The Firebase app was deleted.")}function vO(n){return new cr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function W0(n,e){return new cr("invalid-format","String does not match format '"+n+"': "+e)}function Z0(n){throw new cr("internal-error","Internal error: "+n)}class es{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=es.makeFromUrl(e,t)}catch{return new es(e,"")}if(""===r.path)return r;throw function eV(n){return new cr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+i+"(/(.*))?$","i");function I(st){st.path_=decodeURIComponent(st.path)}const N=t.replace(/[.]/g,"\\."),ot=[{regex:m,indices:{bucket:1,path:3},postModify:function u(st){"/"===st.path.charAt(st.path.length-1)&&(st.path_=st.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${N}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:I},{regex:new RegExp(`^https?://${t===fO?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:I}];for(let st=0;st<ot.length;st++){const Ct=ot[st],Vt=Ct.regex.exec(e);if(Vt){let au=Vt[Ct.indices.path];au||(au=""),r=new es(Vt[Ct.indices.bucket],au),Ct.postModify(r);break}}if(null==r)throw function JL(n){return new cr("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class sV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function jb(n){return"string"==typeof n||n instanceof String}function wO(n){return BA()&&n instanceof Blob}function BA(){return typeof Blob<"u"&&!(0,$t.UG)()}function jA(n,e,t,r){if(r<e)throw Vy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Vy(`Invalid value for '${n}'. Expected ${t} or less.`)}function od(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function EO(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var ef=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(ef||(ef={})),ef))();function IO(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),u=-1!==e.indexOf(n);return t||i||u}class dV{constructor(e,t,r,i,u,l,m,v,I,S,N,V=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=u,this.additionalRetryCodes_=l,this.callback_=m,this.errorCallback_=v,this.timeout_=I,this.progressCallback_=S,this.connectionFactory_=N,this.retry=V,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((z,Q)=>{this.resolve_=z,this.reject_=Q,this.start_()})}start_(){const t=(r,i)=>{const u=this.resolve_,l=this.reject_,m=i.connection;if(i.wasSuccessCode)try{const v=this.callback_(m,m.getResponse());!function uV(n){return void 0!==n}(v)?u():u(v)}catch(v){l(v)}else if(null!==m){const v=UA();v.serverResponse=m.getErrorText(),l(this.errorCallback_?this.errorCallback_(m,v):v)}else l(i.canceled?this.appDelete_?_O():mO():gO())};this.canceled_?t(0,new $b(!1,null,!0)):this.backoffId_=function oV(n,e,t){let r=1,i=null,u=null,l=!1,m=0;function v(){return 2===m}let I=!1;function S(...be){I||(I=!0,e.apply(null,be))}function N(be){i=setTimeout(()=>{i=null,n(z,v())},be)}function V(){u&&clearTimeout(u)}function z(be,...nt){if(I)return void V();if(be)return V(),void S.call(null,be,...nt);if(v()||l)return V(),void S.call(null,be,...nt);let ot;r<64&&(r*=2),1===m?(m=2,ot=0):ot=1e3*(r+Math.random()),N(ot)}let Q=!1;function we(be){Q||(Q=!0,V(),!I&&(null!==i?(be||(m=2),clearTimeout(i),N(0)):be||(m=1)))}return N(0),u=setTimeout(()=>{l=!0,we(!0)},t),we}((r,i)=>{if(i)return void r(!1,new $b(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const l=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(l),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(l),this.pendingConnection_=null;const m=u.getErrorCode()===ef.NO_ERROR,v=u.getStatus();if(!m||IO(v,this.additionalRetryCodes_)&&this.retry){const S=u.getErrorCode()===ef.ABORT;return void r(!1,new $b(!1,null,S))}const I=-1!==this.successCodes_.indexOf(v);r(!0,new $b(I,u))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function aV(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class $b{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function _V(...n){const e=function yV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(BA())return new Blob(n);throw new cr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ho={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class $A{constructor(e,t){this.data=e,this.contentType=t||null}}function HA(n,e){switch(n){case ho.RAW:return new $A(bO(e));case ho.BASE64:case ho.BASE64URL:return new $A(DO(n,e));case ho.DATA_URL:return new $A(function IV(n){const e=new CO(n);return e.base64?DO(ho.BASE64,e.rest):function EV(n){let e;try{e=decodeURIComponent(n)}catch{throw W0(ho.DATA_URL,"Malformed data URL.")}return bO(e)}(e.rest)}(e),function bV(n){return new CO(n).contentType}(e))}throw UA()}function bO(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function DO(n,e){switch(n){case ho.BASE64:{const i=-1!==e.indexOf("-"),u=-1!==e.indexOf("_");if(i||u)throw W0(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ho.BASE64URL:{const i=-1!==e.indexOf("+"),u=-1!==e.indexOf("/");if(i||u)throw W0(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function wV(n){if(typeof atob>"u")throw function iV(n){return new cr("unsupported-environment",`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:W0(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class CO{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw W0(ho.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function DV(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Dc{constructor(e,t){let r=0,i="";wO(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(wO(this.data_)){const i=function vV(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Dc(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Dc(r,!0)}}static getBlob(...e){if(BA()){const t=e.map(r=>r instanceof Dc?r.data_:r);return new Dc(_V.apply(null,t))}{const t=e.map(l=>jb(l)?HA(ho.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let u=0;return t.forEach(l=>{for(let m=0;m<l.length;m++)i[u++]=l[m]}),new Dc(i,!0)}}uploadData(){return this.data_}}function GA(n){let e;try{e=JSON.parse(n)}catch{return null}return function lV(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function TO(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function SV(n,e){return e}class bs{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||SV}}let Hb=null;function K0(){if(Hb)return Hb;const n=[];n.push(new bs("bucket")),n.push(new bs("generation")),n.push(new bs("metageneration")),n.push(new bs("name","fullPath",!0));const t=new bs("name");t.xform=function e(u,l){return function AV(n){return!jb(n)||n.length<2?n:TO(n)}(l)},n.push(t);const i=new bs("size");return i.xform=function r(u,l){return void 0!==l?Number(l):l},n.push(i),n.push(new bs("timeCreated")),n.push(new bs("updated")),n.push(new bs("md5Hash",null,!0)),n.push(new bs("cacheControl",null,!0)),n.push(new bs("contentDisposition",null,!0)),n.push(new bs("contentEncoding",null,!0)),n.push(new bs("contentLanguage",null,!0)),n.push(new bs("contentType",null,!0)),n.push(new bs("metadata","customMetadata",!0)),Hb=n,Hb}function SO(n,e,t){const r=GA(e);return null===r?null:function MV(n,e,t){const r={type:"file"},i=t.length;for(let u=0;u<i;u++){const l=t[u];r[l.local]=l.xform(r,e[l.server])}return function xV(n,e){Object.defineProperty(n,"ref",{get:function t(){const u=new es(n.bucket,n.fullPath);return e._makeStorageReference(u)}})}(r,n),r}(n,r,t)}function zA(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const u=e[i];u.writable&&(t[u.server]=n[u.local])}return JSON.stringify(t)}const AO="prefixes";class Cc{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Tc(n){if(!n)throw UA()}function Gb(n,e){return function t(r,i){const u=SO(n,i,e);return Tc(null!==u),u}}function Uy(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function QL(){return new cr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function YL(){return new cr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function KL(n){return new cr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function XL(n){return new cr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function Y0(n){const e=Uy(n);return function t(r,i){let u=e(r,i);return 404===r.getStatus()&&(u=function ZL(n){return new cr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),u.serverResponse=i.serverResponse,u}}function MO(n,e,t){const i=od(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,m=new Cc(i,"GET",Gb(n,t),l);return m.errorHandler=Y0(e),m}function FV(n,e,t,r,i){const u={};u.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(u.delimiter=t),r&&(u.pageToken=r),i&&(u.maxResults=i);const m=od(e.bucketOnlyServerUrl(),n.host,n._protocol),I=n.maxOperationRetryTime,S=new Cc(m,"GET",function kV(n,e){return function t(r,i){const u=function OV(n,e,t){const r=GA(t);return null===r?null:function NV(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[AO])for(const i of t[AO]){const u=i.replace(/\/$/,""),l=n._makeStorageReference(new es(e,u));r.prefixes.push(l)}if(t.items)for(const i of t.items){const u=n._makeStorageReference(new es(e,i.name));r.items.push(u)}return r}(n,e,r)}(n,e,i);return Tc(null!==u),u}}(n,e.bucket),I);return S.urlParams=u,S.errorHandler=Uy(e),S}function NO(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function BV(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class zb{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function qA(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Tc(!1)}return Tc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const GV={STATE_CHANGED:"state_changed"},Ds={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function WA(n){switch(n){case"running":case"pausing":case"canceling":return Ds.RUNNING;case"paused":return Ds.PAUSED;case"success":return Ds.SUCCESS;case"canceled":return Ds.CANCELED;default:return Ds.ERROR}}class zV{constructor(e,t,r){if(function cV(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function By(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class qV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ef.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ef.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ef.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Z0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const u in i)i.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,i[u].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Z0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Z0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Z0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Z0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class WV extends qV{initXhr(){this.xhr_.responseType="text"}}function su(){return new WV}class FO{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=K0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(IO(i.status,[])){if(!u)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=gO()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,u)=>{this._resolve=i,this._reject=u,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function jV(n,e,t,r,i){const u=e.bucketOnlyServerUrl(),l=NO(e,r,i),m={name:l.fullPath},v=od(u,n.host,n._protocol),S={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},N=zA(l,t),Q=new Cc(v,"POST",function z(we){let be;qA(we);try{be=we.getResponseHeader("X-Goog-Upload-URL")}catch{Tc(!1)}return Tc(jb(be)),be},n.maxUploadRetryTime);return Q.urlParams=m,Q.headers=S,Q.body=N,Q.errorHandler=Uy(e),Q}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,su,e,t);this._request=i,i.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function $V(n,e,t,r){const v=new Cc(t,"POST",function u(I){const S=qA(I,["active","final"]);let N=null;try{N=I.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Tc(!1)}N||Tc(!1);const V=Number(N);return Tc(!isNaN(V)),new zb(V,r.size(),"final"===S)},n.maxUploadRetryTime);return v.headers={"X-Goog-Upload-Command":"query"},v.errorHandler=Uy(e),v}(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(i,su,t,r);this._request=u,u.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new zb(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,u)=>{let l;try{l=function HV(n,e,t,r,i,u,l,m){const v=new zb(0,0);if(l?(v.current=l.current,v.total=l.total):(v.current=0,v.total=r.size()),r.size()!==v.total)throw function nV(){return new cr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const I=v.total-v.current;let S=I;i>0&&(S=Math.min(S,i));const N=v.current;let z="";z=0===S?"finalize":I===S?"upload, finalize":"upload";const Q={"X-Goog-Upload-Command":z,"X-Goog-Upload-Offset":`${v.current}`},we=r.slice(N,N+S);if(null===we)throw yO();const ot=new Cc(t,"POST",function be(st,Ct){const Vt=qA(st,["active","final"]),lr=v.current+S,au=r.size();let YA;return YA="final"===Vt?Gb(e,u)(st,Ct):null,new zb(lr,au,"final"===Vt,YA)},e.maxUploadRetryTime);return ot.headers=Q,ot.body=we.uploadData(),ot.progressCallback=m||null,ot.errorHandler=Uy(n),ot}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(v){return this._error=v,void this._transition("error")}const m=this._ref.storage._makeRequest(l,su,i,u,!1);this._request=m,m.getPromise().then(v=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(v.current),v.finalized?(this._metadata=v.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=MO(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,su,e,t);this._request=i,i.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function OO(n,e,t,r,i){const u=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},v=function m(){let ot="";for(let st=0;st<2;st++)ot+=Math.random().toString().slice(2);return ot}();l["Content-Type"]="multipart/related; boundary="+v;const I=NO(e,r,i),S=zA(I,t),z=Dc.getBlob("--"+v+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+S+"\r\n--"+v+"\r\nContent-Type: "+I.contentType+"\r\n\r\n",r,"\r\n--"+v+"--");if(null===z)throw yO();const Q={name:I.fullPath},we=od(u,n.host,n._protocol),nt=n.maxUploadRetryTime,Et=new Cc(we,"POST",Gb(n,t),nt);return Et.urlParams=Q,Et.headers=l,Et.body=z.uploadData(),Et.errorHandler=Uy(e),Et}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,su,e,t);this._request=i,i.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=mO(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=WA(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const u=new zV(t||void 0,r||void 0,i||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(WA(this._state)){case Ds.SUCCESS:By(this._resolve.bind(null,this.snapshot))();break;case Ds.CANCELED:case Ds.ERROR:By(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(WA(this._state)){case Ds.RUNNING:case Ds.PAUSED:e.next&&By(e.next.bind(e,this.snapshot))();break;case Ds.SUCCESS:e.complete&&By(e.complete.bind(e))();break;default:e.error&&By(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class cg{constructor(e,t){this._service=e,this._location=t instanceof es?t:es.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new cg(e,t)}get root(){const e=new es(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return TO(this._location.path)}get storage(){return this._service}get parent(){const e=function CV(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new es(this._location.bucket,e);return new cg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw vO(e)}}function VO(n,e,t){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,ge.Z)(function*(n,e,t){const i=yield UO(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield VO(n,e,i.nextPageToken))}),ZA.apply(this,arguments)}function UO(n,e){null!=e&&"number"==typeof e.maxResults&&jA("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=FV(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,su)}function sU(n){n._throwIfRoot("getDownloadURL");const e=function LV(n,e,t){const i=od(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,m=new Cc(i,"GET",function PV(n,e){return function t(r,i){const u=SO(n,i,e);return Tc(null!==u),function RV(n,e,t,r){const i=GA(e);if(null===i||!jb(i.downloadTokens))return null;const u=i.downloadTokens;if(0===u.length)return null;const l=encodeURIComponent;return u.split(",").map(I=>{const N=n.fullPath;return od("/b/"+l(n.bucket)+"/o/"+l(N),t,r)+EO({alt:"media",token:I})})[0]}(u,i,n.host,n._protocol)}}(n,t),l);return m.errorHandler=Y0(e),m}(n.storage,n._location,K0());return n.storage.makeRequestWithTokens(e,su).then(t=>{if(null===t)throw function rV(){return new cr("no-download-url","The given file does not have any download URLs.")}();return t})}function BO(n,e){const t=function TV(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new es(n._location.bucket,t);return new cg(n.storage,r)}function jO(n,e){if(n instanceof KA){const t=n;if(null==t._bucket)throw function tV(){return new cr("no-default-bucket","No default bucket found. Did you set the '"+pO+"' property when initializing the app?")}();const r=new cg(t,t._bucket);return null!=e?jO(r,e):r}return void 0!==e?BO(n,e):n}function cU(n,e){if(e&&function aU(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof KA)return function uU(n,e){return new cg(n,e)}(n,e);throw Vy("To use ref(service, url), the first argument must be a Storage instance.")}return jO(n,e)}function $O(n,e){const t=e?.[pO];return null==t?null:es.makeFromBucketSpec(t,n)}class KA{constructor(e,t,r,i,u){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=u,this._bucket=null,this._host=fO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?es.makeFromBucketSpec(i,this._host):$O(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?es.makeFromBucketSpec(this._url,e):$O(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,ge.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,ge.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new cg(this,e)}_makeRequest(e,t,r,i,u=!0){if(this._deleted)return new sV(_O());{const l=function mV(n,e,t,r,i,u,l=!0){const m=EO(n.urlParams),v=n.url+m,I=Object.assign({},n.headers);return function pV(n,e){e&&(n["X-Firebase-GMPID"]=e)}(I,e),function hV(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(I,t),function fV(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(I,u),function gV(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(I,r),new dV(v,n.method,I,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l)}(e,this._appId,r,i,t,this._firebaseVersion,u);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var r=this;return(0,ge.Z)(function*(){const[i,u]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,u).getPromise()})()}}const HO="@firebase/storage";function qO(n,e){return cU(n=(0,$t.m9)(n),e)}function vU(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new KA(t,r,i,e,ps.SDK_VERSION)}!function wU(){(0,ps._registerComponent)(new uh.wA("storage",vU,"PUBLIC").setMultipleInstances(!0)),(0,ps.registerVersion)(HO,"0.10.1",""),(0,ps.registerVersion)(HO,"0.10.1","esm2017")}();class qb{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class ZO{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new qb(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new qb(r,this,this._ref))},t)}on(e,t,r,i){let u;return t&&(u="function"==typeof t?l=>t(new qb(l,this,this._ref)):{next:t.next?l=>t.next(new qb(l,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,u,r||void 0,i||void 0)}}class KO{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new ad(e,this._service))}get items(){return this._delegate.items.map(e=>new ad(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ad{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function _U(n,e){return BO(n,e)}(this._delegate,e);return new ad(t,this.storage)}get root(){return new ad(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new ad(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new ZO(function dU(n,e,t){return function eU(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new FO(n,new Dc(e),t)}(n=(0,$t.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=ho.RAW,r){this._throwIfRoot("putString");const i=HA(t,e),u=Object.assign({},r);return null==u.contentType&&null!=i.contentType&&(u.contentType=i.contentType),new ZO(new FO(this._delegate,new Dc(i.data,!0),u),this)}listAll(){return function gU(n){return function nU(n){const e={prefixes:[],items:[]};return VO(n,e).then(()=>e)}(n=(0,$t.m9)(n))}(this._delegate).then(e=>new KO(e,this.storage))}list(e){return function pU(n,e){return UO(n=(0,$t.m9)(n),e)}(this._delegate,e||void 0).then(t=>new KO(t,this.storage))}getMetadata(){return function hU(n){return function rU(n){n._throwIfRoot("getMetadata");const e=MO(n.storage,n._location,K0());return n.storage.makeRequestWithTokens(e,su)}(n=(0,$t.m9)(n))}(this._delegate)}updateMetadata(e){return function fU(n,e){return function iU(n,e){n._throwIfRoot("updateMetadata");const t=function VV(n,e,t,r){const u=od(e.fullServerUrl(),n.host,n._protocol),m=zA(t,r),I=n.maxOperationRetryTime,S=new Cc(u,"PATCH",Gb(n,r),I);return S.headers={"Content-Type":"application/json; charset=utf-8"},S.body=m,S.errorHandler=Y0(e),S}(n.storage,n._location,e,K0());return n.storage.makeRequestWithTokens(t,su)}(n=(0,$t.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function mU(n){return sU(n=(0,$t.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function yU(n){return function oU(n){n._throwIfRoot("deleteObject");const e=function UV(n,e){const r=od(e.fullServerUrl(),n.host,n._protocol),m=new Cc(r,"DELETE",function l(v,I){},n.maxOperationRetryTime);return m.successCodes=[200,204],m.errorHandler=Y0(e),m}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,su)}(n=(0,$t.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw vO(e)}}class YO{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(QO(e))throw Vy("ref() expected a child path but got a URL, use refFromURL instead.");return new ad(qO(this._delegate,e),this)}refFromURL(e){if(!QO(e))throw Vy("refFromURL() expected a full URL but got a child path, use ref() instead.");try{es.makeFromUrl(e,this._delegate.host)}catch{throw Vy("refFromUrl() expected a valid full URL but got an invalid one.")}return new ad(qO(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function WO(n,e,t,r={}){!function lU(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,$t.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function QO(n){return/^[A-Za-z]+:\/\//.test(n)}function DU(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new YO(t,r)}function XO(n){const e=function TU(n){return new Un.y(e=>{const t=l=>e.next(l);t(n.snapshot);const u=n.on("state_changed",t);return n.then(l=>{t(l),e.complete()},l=>{t(n.snapshot),(l=>{e.error(l)})(l)}),function(){u()}}).pipe(function GL(n,e=Yw.z){return(0,bn.e)((t,r)=>{let i=null,u=null,l=null;const m=()=>{if(i){i.unsubscribe(),i=null;const I=u;u=null,r.next(I)}};function v(){const I=l+n,S=e.now();if(S<I)return i=this.schedule(void 0,I-S),void r.add(i);m()}t.subscribe((0,H.x)(r,I=>{u=I,l=e.now(),i||(i=e.schedule(v,n),r.add(i))},()=>{m(),r.complete()},void 0,()=>{u=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,at.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function Wb(n){return{getDownloadURL:()=>Qe(void 0).pipe(Hn.fc,jn(()=>n.getDownloadURL()),Hn.iC),getMetadata:()=>Qe(void 0).pipe(Hn.fc,jn(()=>n.getMetadata()),Hn.iC),delete:()=>(0,an.D)(n.delete()),child:e=>Wb(n.child(e)),updateMetadata:e=>(0,an.D)(n.updateMetadata(e)),put:(e,t)=>XO(n.put(e,t)),putString:(e,t,r)=>XO(n.putString(e,t,r)),list:e=>(0,an.D)(n.list(e)),listAll:()=>(0,an.D)(n.listAll())}}!function CU(n){const e={TaskState:Ds,TaskEvent:GV,StringFormat:ho,Storage:YO,Reference:ad};n.INTERNAL.registerComponent(new uh.wA("storage-compat",DU,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.2.1")}(tm.Z);const SU=new h.OlP("angularfire2.storageBucket"),AU=new h.OlP("angularfire2.storage.maxUploadRetryTime"),xU=new h.OlP("angularfire2.storage.maxOperationRetryTime"),MU=new h.OlP("angularfire2.storage.use-emulator");let RU=(()=>{class n{constructor(t,r,i,u,l,m,v,I,S,N){const V=(0,xi.on)(t,l,r);this.storage=(0,xi.cc)(`${V.name}.storage.${i}`,"AngularFireStorage",V.name,()=>{const z=l.runOutsideAngular(()=>V.storage(i||void 0)),Q=S;return Q&&z.useEmulator(...Q),v&&z.setMaxUploadRetryTime(v),I&&z.setMaxOperationRetryTime(I),z},[v,I])}ref(t){return Wb(this.storage.ref(t))}refFromURL(t){return Wb(this.storage.refFromURL(t))}upload(t,r,i){return Wb(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(xi.Dh),h.LFG(xi.xv,8),h.LFG(SU,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Hn.HU),h.LFG(AU,8),h.LFG(xU,8),h.LFG(MU,8),h.LFG(Sb,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),NU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})(),OU=(()=>{class n{constructor(){zR.Z.registerVersion("angularfire",Hn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[RU],imports:[NU]}),n})();const ou=void 0,FU=["id",[["AM","PM"],ou,ou],ou,[["M","S","S","R","K","J","S"],["Min","Sen","Sel","Rab","Kam","Jum","Sab"],["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],["Min","Sen","Sel","Rab","Kam","Jum","Sab"]],ou,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]],ou,[["SM","M"],ou,["Sebelum Masehi","Masehi"]],0,[6,0],["dd/MM/yy","d MMM y","d MMMM y","EEEE, dd MMMM y"],["HH.mm","HH.mm.ss","HH.mm.ss z","HH.mm.ss zzzz"],["{1} {0}",ou,ou,ou],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN","."],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"IDR","Rp","Rupiah Indonesia",{AUD:["AU$","$"],BYN:[ou,"\u0440."],IDR:["Rp"],INR:["Rs","\u20b9"],JPY:["JP\xa5","\xa5"],PHP:[ou,"\u20b1"],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"],XXX:[]},"ltr",function PU(n){return 5}];class Q0{constructor(e,t,r){this.router=e,this.itemService=t,this.orderItem=r,this.id$=this.router.paramMap.pipe((0,at.U)(i=>i.get("id"))),this.id=0,this.items=[],this.order=[],this.renderAmount=i=>{const u=this.orderItem.renderAmount(i);return this.order[u]?this.order[u]?.quantity:0},this.subscription=this.orderItem.getSubject().subscribe(i=>{this.order=i})}pushOrder(e,t,r,i){this.orderItem.pushOrder(e,t,r,i)}reduceOrder(e){this.orderItem.reduceOrder(e)}ngOnInit(){this.id$.subscribe(e=>{this.id=Number(e)}),this.items=this.itemService.getItems().filter(e=>e.id===this.id)}}Q0.\u0275fac=function(e){return new(e||Q0)(h.Y36(ce),h.Y36(Al),h.Y36(so))},Q0.\u0275cmp=h.Xpm({type:Q0,selectors:[["app-detail"]],decls:24,vars:10,consts:[[1,"xl:w-2/6","m-auto"],[1,"relative"],[1,"rounded-b-lg","h-80","w-full","max-w-full",3,"src"],["routerLink","/menu","src","assets/img/back.svg","alt","",1,"absolute","bottom-2","left-2","bg-white","px-2","py-1.5","rounded-full"],[1,"flex","justify-between","p-8"],[1,""],[1,"font-medium","text-2xl"],[1,"font-bold","text-2xl"],[1,"flex","items-center","justify-center","gap-2","flex-shrink-0"],[1,"",3,"click"],["src","assets/img/min.svg"],[1,"text-xs","w-2","flex","justify-center"],["src","assets/img/plus.svg"],[1,"p-8"],[1,"text-lg","font-medium"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0)(1,"div",1),h._UZ(2,"img",2)(3,"img",3),h.qZA(),h.TgZ(4,"div",4)(5,"div",5)(6,"h1",6),h._uU(7),h.qZA(),h.TgZ(8,"h2",7),h._uU(9),h.ALo(10,"currency"),h.qZA()(),h.TgZ(11,"div",8)(12,"button",9),h.NdJ("click",function(){return t.reduceOrder(t.id)}),h._UZ(13,"img",10),h.qZA(),h.TgZ(14,"div",11),h._uU(15),h.qZA(),h.TgZ(16,"button",9),h.NdJ("click",function(){return t.pushOrder(t.items[0].price,t.items[0].id,t.items[0].name,t.items[0].image)}),h._UZ(17,"img",12),h.qZA()()(),h.TgZ(18,"div",13)(19,"h1",14),h._uU(20,"Resep"),h.qZA(),h.TgZ(21,"p"),h._uU(22),h.qZA()(),h._UZ(23,"app-checkout"),h.qZA()),2&e&&(h.xp6(2),h.s9C("src",t.items[0].image,h.LSH),h.xp6(5),h.Oqu(t.items[0].name),h.xp6(2),h.hij(" ",h.gM2(10,5,t.items[0].price,"IDR","symbol","3.0")," "),h.xp6(6),h.hij(" ",t.renderAmount(t.id)," "),h.xp6(7),h.Oqu(t.items[0].resep))},dependencies:[Ga,Py,_o]});class X0{constructor(e){this._router=e,setTimeout(()=>{this._router.navigate(["order"])},4e3)}}X0.\u0275fac=function(e){return new(e||X0)(h.Y36(Ai))},X0.\u0275cmp=h.Xpm({type:X0,selectors:[["app-thank"]],decls:9,vars:0,consts:[[1,"bg-[#28A77B]","h-screen","flex","flex-col","items-center","justify-center"],[1,"text-3xl","text-white","font-semibold"],["src","assets/img/check.svg","alt","checkImage",1,"mt-11","mb-11"],[1,"text-center","text-white","text-sm"],[1,"text-yellow-400","font-semibold"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0)(1,"h1",1),h._uU(2,"Berhasil"),h.qZA(),h._UZ(3,"img",2),h.TgZ(4,"p",3),h._uU(5," Terimakasih telah membeli "),h.TgZ(6,"span",4),h._uU(7,"PASTABOYS"),h.qZA(),h._uU(8," kami akan segera mengkonfimarsikan melalui WhatsApp "),h.qZA()())}});class J0{constructor(){this.confirm=()=>{window.location.href="https://www.instagram.com/pastaboys.id/?hl=id"}}}J0.\u0275fac=function(e){return new(e||J0)},J0.\u0275cmp=h.Xpm({type:J0,selectors:[["app-brb"]],decls:11,vars:0,consts:[[1,"flex","justify-center","items-center","flex-col"],["src","assets/img/pastaboys.svg",1,"w-52"],[1,"font-bold"],[1,"flex","justify-center","items-center","mt-8"],[1,"bg-[#E28F42]","mb-2","py-2","px-3","w-72","rounded-3xl","text-lg","text-white","font-semibold","border-white","border-[1px]","drop-shadow-[0_4px_4px_rgba(0,0,0,0.3)]",3,"click"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0),h._UZ(1,"img",1),h.TgZ(2,"h1",2),h._uU(3,"Halo Pasta Friends!"),h.qZA(),h.TgZ(4,"h1",2),h._uU(5,"Aplikasi Pastaboys sedang dalam perbaikan \u{1f917}"),h.qZA(),h.TgZ(6,"h1",2),h._uU(7," Untuk pemesanan mohon hubungi melalui Instagram pastaboys ya "),h.qZA(),h.TgZ(8,"div",3)(9,"button",4),h.NdJ("click",function(){return t.confirm()}),h._uU(10," Pesan "),h.qZA()()())}}),function Mn(n,e,t){(0,h.dwT)(n,e,t)}(FU,"id");class jy{}jy.\u0275fac=function(e){return new(e||jy)},jy.\u0275mod=h.oAB({type:jy,bootstrap:[Qu]}),jy.\u0275inj=h.cJS({providers:[{provide:h.soG,useValue:"id-ID"},{provide:rt,useClass:Ee},{provide:fA,useValue:{appVerificationDisabledForTesting:!0}}],imports:[xd,ah,VF,xF,OU,UL,WD,xi.hO.initializeApp({apiKey:"AIzaSyB01Q_AMKzUa9udcV0N9N96315BgxVmIfc",authDomain:"pastaboysorder.firebaseapp.com",projectId:"pastaboysorder",storageBucket:"pastaboysorder.appspot.com",messagingSenderId:"688589310816",appId:"1:688589310816:web:3e6b47fa89e852f9d52c05",measurementId:"G-XRQD79SDW9"}),Wf.forRoot([{path:"menu",component:G0},{path:"brb",component:J0},{path:"menu/:id",component:Q0},{path:"payment",component:Ly},{path:"order",component:z0},{path:"thank",component:X0},{path:"",redirectTo:"/brb",pathMatch:"full"},{path:"**",component:q0}])]}),Jc().bootstrapModule(jy).catch(n=>console.error(n))},9751:(ct,Ie,k)=>{k.d(Ie,{y:()=>de});var h=k(2961),J=k(727),O=k(8822),oe=k(9635),ae=k(2416),ie=k(576),fe=k(2806);let de=(()=>{class K{constructor(De){De&&(this._subscribe=De)}lift(De){const $e=new K;return $e.source=this,$e.operator=De,$e}subscribe(De,$e,rt){const he=function $(K){return K&&K instanceof h.Lv||function j(K){return K&&(0,ie.m)(K.next)&&(0,ie.m)(K.error)&&(0,ie.m)(K.complete)}(K)&&(0,J.Nn)(K)}(De)?De:new h.Hp(De,$e,rt);return(0,fe.x)(()=>{const{operator:Ce,source:Ee}=this;he.add(Ce?Ce.call(he,Ee):Ee?this._subscribe(he):this._trySubscribe(he))}),he}_trySubscribe(De){try{return this._subscribe(De)}catch($e){De.error($e)}}forEach(De,$e){return new($e=le($e))((rt,he)=>{const Ce=new h.Hp({next:Ee=>{try{De(Ee)}catch(Pe){he(Pe),Ce.unsubscribe()}},error:he,complete:rt});this.subscribe(Ce)})}_subscribe(De){var $e;return null===($e=this.source)||void 0===$e?void 0:$e.subscribe(De)}[O.L](){return this}pipe(...De){return(0,oe.U)(De)(this)}toPromise(De){return new(De=le(De))(($e,rt)=>{let he;this.subscribe(Ce=>he=Ce,Ce=>rt(Ce),()=>$e(he))})}}return K.create=Ue=>new K(Ue),K})();function le(K){var Ue;return null!==(Ue=K??ae.v.Promise)&&void 0!==Ue?Ue:Promise}},7579:(ct,Ie,k)=>{k.d(Ie,{x:()=>fe});var h=k(9751),J=k(727);const oe=(0,k(3888).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=k(8737),ie=k(2806);let fe=(()=>{class le extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const K=new de(this,this);return K.operator=$,K}_throwIfClosed(){if(this.closed)throw new oe}next($){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next($)}})}error($){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:K}=this;for(;K.length;)K.shift().error($)}})}complete(){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:K,isStopped:Ue,observers:De}=this;return K||Ue?J.Lc:(this.currentObservers=null,De.push($),new J.w0(()=>{this.currentObservers=null,(0,ae.P)(De,$)}))}_checkFinalizedStatuses($){const{hasError:K,thrownError:Ue,isStopped:De}=this;K?$.error(Ue):De&&$.complete()}asObservable(){const $=new h.y;return $.source=this,$}}return le.create=(j,$)=>new de(j,$),le})();class de extends fe{constructor(j,$){super(),this.destination=j,this.source=$}next(j){var $,K;null===(K=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===K||K.call($,j)}error(j){var $,K;null===(K=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===K||K.call($,j)}complete(){var j,$;null===($=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===$||$.call(j)}_subscribe(j){var $,K;return null!==(K=null===($=this.source)||void 0===$?void 0:$.subscribe(j))&&void 0!==K?K:J.Lc}}},2961:(ct,Ie,k)=>{k.d(Ie,{Hp:()=>rt,Lv:()=>K});var h=k(576),J=k(727),O=k(2416),oe=k(7849);function ae(){}const ie=le("C",void 0,void 0);function le(Ae,_e,xe){return{kind:Ae,value:_e,error:xe}}var j=k(3410),$=k(2806);class K extends J.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,J.Nn)(_e)&&_e.add(this)):this.destination=Pe}static create(_e,xe,Fe){return new rt(_e,xe,Fe)}next(_e){this.isStopped?Ee(function de(Ae){return le("N",Ae,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?Ee(function fe(Ae){return le("E",void 0,Ae)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?Ee(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function De(Ae,_e){return Ue.call(Ae,_e)}class $e{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:xe}=this;if(xe.next)try{xe.next(_e)}catch(Fe){he(Fe)}}error(_e){const{partialObserver:xe}=this;if(xe.error)try{xe.error(_e)}catch(Fe){he(Fe)}else he(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(xe){he(xe)}}}class rt extends K{constructor(_e,xe,Fe){let Oe;if(super(),(0,h.m)(_e)||!_e)Oe={next:_e??void 0,error:xe??void 0,complete:Fe??void 0};else{let U;this&&O.v.useDeprecatedNextContext?(U=Object.create(_e),U.unsubscribe=()=>this.unsubscribe(),Oe={next:_e.next&&De(_e.next,U),error:_e.error&&De(_e.error,U),complete:_e.complete&&De(_e.complete,U)}):Oe=_e}this.destination=new $e(Oe)}}function he(Ae){O.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Ae):(0,oe.h)(Ae)}function Ee(Ae,_e){const{onStoppedNotification:xe}=O.v;xe&&j.z.setTimeout(()=>xe(Ae,_e))}const Pe={closed:!0,next:ae,error:function Ce(Ae){throw Ae},complete:ae}},727:(ct,Ie,k)=>{k.d(Ie,{Lc:()=>ie,w0:()=>ae,Nn:()=>fe});var h=k(576);const O=(0,k(3888).d)(le=>function($){le(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((K,Ue)=>`${Ue+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var oe=k(8737);class ae{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const De of $)De.remove(this);else $.remove(this);const{initialTeardown:K}=this;if((0,h.m)(K))try{K()}catch(De){j=De instanceof O?De.errors:[De]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const De of Ue)try{de(De)}catch($e){j=j??[],$e instanceof O?j=[...j,...$e.errors]:j.push($e)}}if(j)throw new O(j)}}add(j){var $;if(j&&j!==this)if(this.closed)de(j);else{if(j instanceof ae){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(j)}}_hasParent(j){const{_parentage:$}=this;return $===j||Array.isArray($)&&$.includes(j)}_addParent(j){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(j),$):$?[$,j]:j}_removeParent(j){const{_parentage:$}=this;$===j?this._parentage=null:Array.isArray($)&&(0,oe.P)($,j)}remove(j){const{_finalizers:$}=this;$&&(0,oe.P)($,j),j instanceof ae&&j._removeParent(this)}}ae.EMPTY=(()=>{const le=new ae;return le.closed=!0,le})();const ie=ae.EMPTY;function fe(le){return le instanceof ae||le&&"closed"in le&&(0,h.m)(le.remove)&&(0,h.m)(le.add)&&(0,h.m)(le.unsubscribe)}function de(le){(0,h.m)(le)?le():le.unsubscribe()}},2416:(ct,Ie,k)=>{k.d(Ie,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ct,Ie,k)=>{k.d(Ie,{E:()=>J});const J=new(k(9751).y)(ae=>ae.complete())},8996:(ct,Ie,k)=>{k.d(Ie,{D:()=>_e});var h=k(8421),J=k(5363),O=k(9468),ie=k(9751),de=k(2202),le=k(576),j=k(9672);function K(xe,Fe){if(!xe)throw new Error("Iterable cannot be null");return new ie.y(Oe=>{(0,j.f)(Oe,Fe,()=>{const U=xe[Symbol.asyncIterator]();(0,j.f)(Oe,Fe,()=>{U.next().then(ye=>{ye.done?Oe.complete():Oe.next(ye.value)})},0,!0)})})}var Ue=k(3670),De=k(8239),$e=k(1144),rt=k(6495),he=k(2206),Ce=k(4532),Ee=k(3260);function _e(xe,Fe){return Fe?function Ae(xe,Fe){if(null!=xe){if((0,Ue.c)(xe))return function oe(xe,Fe){return(0,h.Xf)(xe).pipe((0,O.R)(Fe),(0,J.Q)(Fe))}(xe,Fe);if((0,$e.z)(xe))return function fe(xe,Fe){return new ie.y(Oe=>{let U=0;return Fe.schedule(function(){U===xe.length?Oe.complete():(Oe.next(xe[U++]),Oe.closed||this.schedule())})})}(xe,Fe);if((0,De.t)(xe))return function ae(xe,Fe){return(0,h.Xf)(xe).pipe((0,O.R)(Fe),(0,J.Q)(Fe))}(xe,Fe);if((0,he.D)(xe))return K(xe,Fe);if((0,rt.T)(xe))return function $(xe,Fe){return new ie.y(Oe=>{let U;return(0,j.f)(Oe,Fe,()=>{U=xe[de.h](),(0,j.f)(Oe,Fe,()=>{let ye,W;try{({value:ye,done:W}=U.next())}catch(Y){return void Oe.error(Y)}W?Oe.complete():Oe.next(ye)},0,!0)}),()=>(0,le.m)(U?.return)&&U.return()})}(xe,Fe);if((0,Ee.L)(xe))return function Pe(xe,Fe){return K((0,Ee.Q)(xe),Fe)}(xe,Fe)}throw(0,Ce.z)(xe)}(xe,Fe):(0,h.Xf)(xe)}},8421:(ct,Ie,k)=>{k.d(Ie,{Xf:()=>Ue});var h=k(655),J=k(1144),O=k(8239),oe=k(9751),ae=k(3670),ie=k(2206),fe=k(4532),de=k(6495),le=k(3260),j=k(576),$=k(7849),K=k(8822);function Ue(Ae){if(Ae instanceof oe.y)return Ae;if(null!=Ae){if((0,ae.c)(Ae))return function De(Ae){return new oe.y(_e=>{const xe=Ae[K.L]();if((0,j.m)(xe.subscribe))return xe.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,J.z)(Ae))return function $e(Ae){return new oe.y(_e=>{for(let xe=0;xe<Ae.length&&!_e.closed;xe++)_e.next(Ae[xe]);_e.complete()})}(Ae);if((0,O.t)(Ae))return function rt(Ae){return new oe.y(_e=>{Ae.then(xe=>{_e.closed||(_e.next(xe),_e.complete())},xe=>_e.error(xe)).then(null,$.h)})}(Ae);if((0,ie.D)(Ae))return Ce(Ae);if((0,de.T)(Ae))return function he(Ae){return new oe.y(_e=>{for(const xe of Ae)if(_e.next(xe),_e.closed)return;_e.complete()})}(Ae);if((0,le.L)(Ae))return function Ee(Ae){return Ce((0,le.Q)(Ae))}(Ae)}throw(0,fe.z)(Ae)}function Ce(Ae){return new oe.y(_e=>{(function Pe(Ae,_e){var xe,Fe,Oe,U;return(0,h.mG)(this,void 0,void 0,function*(){try{for(xe=(0,h.KL)(Ae);!(Fe=yield xe.next()).done;)if(_e.next(Fe.value),_e.closed)return}catch(ye){Oe={error:ye}}finally{try{Fe&&!Fe.done&&(U=xe.return)&&(yield U.call(xe))}finally{if(Oe)throw Oe.error}}_e.complete()})})(Ae,_e).catch(xe=>_e.error(xe))})}},6451:(ct,Ie,k)=>{k.d(Ie,{T:()=>ie});var h=k(8189),J=k(8421),O=k(515),oe=k(7669),ae=k(8996);function ie(...fe){const de=(0,oe.yG)(fe),le=(0,oe._6)(fe,1/0),j=fe;return j.length?1===j.length?(0,J.Xf)(j[0]):(0,h.J)(le)((0,ae.D)(j,de)):O.E}},5403:(ct,Ie,k)=>{k.d(Ie,{x:()=>J});var h=k(2961);function J(oe,ae,ie,fe,de){return new O(oe,ae,ie,fe,de)}class O extends h.Lv{constructor(ae,ie,fe,de,le,j){super(ae),this.onFinalize=le,this.shouldUnsubscribe=j,this._next=ie?function($){try{ie($)}catch(K){ae.error(K)}}:super._next,this._error=de?function($){try{de($)}catch(K){ae.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch($){ae.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},4004:(ct,Ie,k)=>{k.d(Ie,{U:()=>O});var h=k(4482),J=k(5403);function O(oe,ae){return(0,h.e)((ie,fe)=>{let de=0;ie.subscribe((0,J.x)(fe,le=>{fe.next(oe.call(ae,le,de++))}))})}},8189:(ct,Ie,k)=>{k.d(Ie,{J:()=>O});var h=k(5577),J=k(4671);function O(oe=1/0){return(0,h.z)(J.y,oe)}},5577:(ct,Ie,k)=>{k.d(Ie,{z:()=>de});var h=k(4004),J=k(8421),O=k(4482),oe=k(9672),ae=k(5403),fe=k(576);function de(le,j,$=1/0){return(0,fe.m)(j)?de((K,Ue)=>(0,h.U)((De,$e)=>j(K,De,Ue,$e))((0,J.Xf)(le(K,Ue))),$):("number"==typeof j&&($=j),(0,O.e)((K,Ue)=>function ie(le,j,$,K,Ue,De,$e,rt){const he=[];let Ce=0,Ee=0,Pe=!1;const Ae=()=>{Pe&&!he.length&&!Ce&&j.complete()},_e=Fe=>Ce<K?xe(Fe):he.push(Fe),xe=Fe=>{De&&j.next(Fe),Ce++;let Oe=!1;(0,J.Xf)($(Fe,Ee++)).subscribe((0,ae.x)(j,U=>{Ue?.(U),De?_e(U):j.next(U)},()=>{Oe=!0},void 0,()=>{if(Oe)try{for(Ce--;he.length&&Ce<K;){const U=he.shift();$e?(0,oe.f)(j,$e,()=>xe(U)):xe(U)}Ae()}catch(U){j.error(U)}}))};return le.subscribe((0,ae.x)(j,_e,()=>{Pe=!0,Ae()})),()=>{rt?.()}}(K,Ue,le,$)))}},5363:(ct,Ie,k)=>{k.d(Ie,{Q:()=>oe});var h=k(9672),J=k(4482),O=k(5403);function oe(ae,ie=0){return(0,J.e)((fe,de)=>{fe.subscribe((0,O.x)(de,le=>(0,h.f)(de,ae,()=>de.next(le),ie),()=>(0,h.f)(de,ae,()=>de.complete(),ie),le=>(0,h.f)(de,ae,()=>de.error(le),ie)))})}},3099:(ct,Ie,k)=>{k.d(Ie,{B:()=>ae});var h=k(8421),J=k(7579),O=k(2961),oe=k(4482);function ae(fe={}){const{connector:de=(()=>new J.x),resetOnError:le=!0,resetOnComplete:j=!0,resetOnRefCountZero:$=!0}=fe;return K=>{let Ue,De,$e,rt=0,he=!1,Ce=!1;const Ee=()=>{De?.unsubscribe(),De=void 0},Pe=()=>{Ee(),Ue=$e=void 0,he=Ce=!1},Ae=()=>{const _e=Ue;Pe(),_e?.unsubscribe()};return(0,oe.e)((_e,xe)=>{rt++,!Ce&&!he&&Ee();const Fe=$e=$e??de();xe.add(()=>{rt--,0===rt&&!Ce&&!he&&(De=ie(Ae,$))}),Fe.subscribe(xe),!Ue&&rt>0&&(Ue=new O.Hp({next:Oe=>Fe.next(Oe),error:Oe=>{Ce=!0,Ee(),De=ie(Pe,le,Oe),Fe.error(Oe)},complete:()=>{he=!0,Ee(),De=ie(Pe,j),Fe.complete()}}),(0,h.Xf)(_e).subscribe(Ue))})(K)}}function ie(fe,de,...le){if(!0===de)return void fe();if(!1===de)return;const j=new O.Hp({next:()=>{j.unsubscribe(),fe()}});return(0,h.Xf)(de(...le)).subscribe(j)}},9468:(ct,Ie,k)=>{k.d(Ie,{R:()=>J});var h=k(4482);function J(O,oe=0){return(0,h.e)((ae,ie)=>{ie.add(O.schedule(()=>ae.subscribe(ie),oe))})}},8505:(ct,Ie,k)=>{k.d(Ie,{b:()=>ae});var h=k(576),J=k(4482),O=k(5403),oe=k(4671);function ae(ie,fe,de){const le=(0,h.m)(ie)||fe||de?{next:ie,error:fe,complete:de}:ie;return le?(0,J.e)((j,$)=>{var K;null===(K=le.subscribe)||void 0===K||K.call(le);let Ue=!0;j.subscribe((0,O.x)($,De=>{var $e;null===($e=le.next)||void 0===$e||$e.call(le,De),$.next(De)},()=>{var De;Ue=!1,null===(De=le.complete)||void 0===De||De.call(le),$.complete()},De=>{var $e;Ue=!1,null===($e=le.error)||void 0===$e||$e.call(le,De),$.error(De)},()=>{var De,$e;Ue&&(null===(De=le.unsubscribe)||void 0===De||De.call(le)),null===($e=le.finalize)||void 0===$e||$e.call(le)}))}):oe.y}},4408:(ct,Ie,k)=>{k.d(Ie,{o:()=>ae});var h=k(727);class J extends h.w0{constructor(fe,de){super()}schedule(fe,de=0){return this}}const O={setInterval(ie,fe,...de){const{delegate:le}=O;return le?.setInterval?le.setInterval(ie,fe,...de):setInterval(ie,fe,...de)},clearInterval(ie){const{delegate:fe}=O;return(fe?.clearInterval||clearInterval)(ie)},delegate:void 0};var oe=k(8737);class ae extends J{constructor(fe,de){super(fe,de),this.scheduler=fe,this.work=de,this.pending=!1}schedule(fe,de=0){var le;if(this.closed)return this;this.state=fe;const j=this.id,$=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId($,j,de)),this.pending=!0,this.delay=de,this.id=null!==(le=this.id)&&void 0!==le?le:this.requestAsyncId($,this.id,de),this}requestAsyncId(fe,de,le=0){return O.setInterval(fe.flush.bind(fe,this),le)}recycleAsyncId(fe,de,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return de;null!=de&&O.clearInterval(de)}execute(fe,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(fe,de);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,de){let j,le=!1;try{this.work(fe)}catch($){le=!0,j=$||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:fe,scheduler:de}=this,{actions:le}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(le,this),null!=fe&&(this.id=this.recycleAsyncId(de,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(ct,Ie,k)=>{k.d(Ie,{v:()=>O});var h=k(6063);class J{constructor(ae,ie=J.now){this.schedulerActionCtor=ae,this.now=ie}schedule(ae,ie=0,fe){return new this.schedulerActionCtor(this,ae).schedule(fe,ie)}}J.now=h.l.now;class O extends J{constructor(ae,ie=J.now){super(ae,ie),this.actions=[],this._active=!1}flush(ae){const{actions:ie}=this;if(this._active)return void ie.push(ae);let fe;this._active=!0;do{if(fe=ae.execute(ae.state,ae.delay))break}while(ae=ie.shift());if(this._active=!1,fe){for(;ae=ie.shift();)ae.unsubscribe();throw fe}}}},4986:(ct,Ie,k)=>{k.d(Ie,{z:()=>O});var h=k(4408);const O=new(k(7565).v)(h.o)},6063:(ct,Ie,k)=>{k.d(Ie,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(ct,Ie,k)=>{k.d(Ie,{z:()=>h});const h={setTimeout(J,O,...oe){const{delegate:ae}=h;return ae?.setTimeout?ae.setTimeout(J,O,...oe):setTimeout(J,O,...oe)},clearTimeout(J){const{delegate:O}=h;return(O?.clearTimeout||clearTimeout)(J)},delegate:void 0}},2202:(ct,Ie,k)=>{k.d(Ie,{h:()=>J});const J=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ct,Ie,k)=>{k.d(Ie,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ct,Ie,k)=>{k.d(Ie,{_6:()=>ie,jO:()=>oe,yG:()=>ae});var h=k(576);function O(fe){return fe[fe.length-1]}function oe(fe){return(0,h.m)(O(fe))?fe.pop():void 0}function ae(fe){return function J(fe){return fe&&(0,h.m)(fe.schedule)}(O(fe))?fe.pop():void 0}function ie(fe,de){return"number"==typeof O(fe)?fe.pop():de}},8737:(ct,Ie,k)=>{function h(J,O){if(J){const oe=J.indexOf(O);0<=oe&&J.splice(oe,1)}}k.d(Ie,{P:()=>h})},3888:(ct,Ie,k)=>{function h(J){const oe=J(ae=>{Error.call(ae),ae.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}k.d(Ie,{d:()=>h})},2806:(ct,Ie,k)=>{k.d(Ie,{O:()=>oe,x:()=>O});var h=k(2416);let J=null;function O(ae){if(h.v.useDeprecatedSynchronousErrorHandling){const ie=!J;if(ie&&(J={errorThrown:!1,error:null}),ae(),ie){const{errorThrown:fe,error:de}=J;if(J=null,fe)throw de}}else ae()}function oe(ae){h.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=ae)}},9672:(ct,Ie,k)=>{function h(J,O,oe,ae=0,ie=!1){const fe=O.schedule(function(){oe(),ie?J.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(J.add(fe),!ie)return fe}k.d(Ie,{f:()=>h})},4671:(ct,Ie,k)=>{function h(J){return J}k.d(Ie,{y:()=>h})},1144:(ct,Ie,k)=>{k.d(Ie,{z:()=>h});const h=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(ct,Ie,k)=>{k.d(Ie,{D:()=>J});var h=k(576);function J(O){return Symbol.asyncIterator&&(0,h.m)(O?.[Symbol.asyncIterator])}},576:(ct,Ie,k)=>{function h(J){return"function"==typeof J}k.d(Ie,{m:()=>h})},3670:(ct,Ie,k)=>{k.d(Ie,{c:()=>O});var h=k(8822),J=k(576);function O(oe){return(0,J.m)(oe[h.L])}},6495:(ct,Ie,k)=>{k.d(Ie,{T:()=>O});var h=k(2202),J=k(576);function O(oe){return(0,J.m)(oe?.[h.h])}},8239:(ct,Ie,k)=>{k.d(Ie,{t:()=>J});var h=k(576);function J(O){return(0,h.m)(O?.then)}},3260:(ct,Ie,k)=>{k.d(Ie,{L:()=>oe,Q:()=>O});var h=k(655),J=k(576);function O(ae){return(0,h.FC)(this,arguments,function*(){const fe=ae.getReader();try{for(;;){const{value:de,done:le}=yield(0,h.qq)(fe.read());if(le)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(de)}}finally{fe.releaseLock()}})}function oe(ae){return(0,J.m)(ae?.getReader)}},4482:(ct,Ie,k)=>{k.d(Ie,{A:()=>J,e:()=>O});var h=k(576);function J(oe){return(0,h.m)(oe?.lift)}function O(oe){return ae=>{if(J(ae))return ae.lift(function(ie){try{return oe(ie,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(ct,Ie,k)=>{k.d(Ie,{U:()=>O,z:()=>J});var h=k(4671);function J(...oe){return O(oe)}function O(oe){return 0===oe.length?h.y:1===oe.length?oe[0]:function(ie){return oe.reduce((fe,de)=>de(fe),ie)}}},7849:(ct,Ie,k)=>{k.d(Ie,{h:()=>O});var h=k(2416),J=k(3410);function O(oe){J.z.setTimeout(()=>{const{onUnhandledError:ae}=h.v;if(!ae)throw oe;ae(oe)})}},4532:(ct,Ie,k)=>{function h(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ie,{z:()=>h})},655:(ct,Ie,k)=>{function oe(W,Y){var se={};for(var ne in W)Object.prototype.hasOwnProperty.call(W,ne)&&Y.indexOf(ne)<0&&(se[ne]=W[ne]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(ne=Object.getOwnPropertySymbols(W);Le<ne.length;Le++)Y.indexOf(ne[Le])<0&&Object.prototype.propertyIsEnumerable.call(W,ne[Le])&&(se[ne[Le]]=W[ne[Le]])}return se}function de(W,Y,se,ne){return new(se||(se=Promise))(function(ke,lt){function Xt(Ut){try{Rt(ne.next(Ut))}catch(ft){lt(ft)}}function cn(Ut){try{Rt(ne.throw(Ut))}catch(ft){lt(ft)}}function Rt(Ut){Ut.done?ke(Ut.value):function Le(ke){return ke instanceof se?ke:new se(function(lt){lt(ke)})}(Ut.value).then(Xt,cn)}Rt((ne=ne.apply(W,Y||[])).next())})}function he(W){return this instanceof he?(this.v=W,this):new he(W)}function Ce(W,Y,se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,ne=se.apply(W,Y||[]),ke=[];return Le={},lt("next"),lt("throw"),lt("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function lt(Yt){ne[Yt]&&(Le[Yt]=function(wr){return new Promise(function(Nr,gt){ke.push([Yt,wr,Nr,gt])>1||Xt(Yt,wr)})})}function Xt(Yt,wr){try{!function cn(Yt){Yt.value instanceof he?Promise.resolve(Yt.value.v).then(Rt,Ut):ft(ke[0][2],Yt)}(ne[Yt](wr))}catch(Nr){ft(ke[0][3],Nr)}}function Rt(Yt){Xt("next",Yt)}function Ut(Yt){Xt("throw",Yt)}function ft(Yt,wr){Yt(wr),ke.shift(),ke.length&&Xt(ke[0][0],ke[0][1])}}function Pe(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,Y=W[Symbol.asyncIterator];return Y?Y.call(W):(W=function K(W){var Y="function"==typeof Symbol&&Symbol.iterator,se=Y&&W[Y],ne=0;if(se)return se.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&ne>=W.length&&(W=void 0),{value:W&&W[ne++],done:!W}}};throw new TypeError(Y?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),se={},ne("next"),ne("throw"),ne("return"),se[Symbol.asyncIterator]=function(){return this},se);function ne(ke){se[ke]=W[ke]&&function(lt){return new Promise(function(Xt,cn){!function Le(ke,lt,Xt,cn){Promise.resolve(cn).then(function(Rt){ke({value:Rt,done:Xt})},lt)}(Xt,cn,(lt=W[ke](lt)).done,lt.value)})}}}k.d(Ie,{FC:()=>Ce,KL:()=>Pe,_T:()=>oe,mG:()=>de,qq:()=>he})},4650:(ct,Ie,k)=>{k.d(Ie,{$8M:()=>el,$WT:()=>Mn,$Z:()=>C_,AFp:()=>Yv,ALo:()=>xv,AaK:()=>de,CHM:()=>Lc,CRH:()=>Vv,CZH:()=>yc,CqO:()=>pm,D6c:()=>p0,EJc:()=>vI,EpF:()=>hm,F4k:()=>fm,FYo:()=>mw,FiY:()=>at,GfV:()=>m_,Gpc:()=>$,JOm:()=>ls,KtG:()=>Ed,LFG:()=>je,LSH:()=>Ki,Lbi:()=>$C,Lck:()=>ao,MMx:()=>Ya,MR2:()=>jf,NdJ:()=>gm,OlP:()=>on,Oqu:()=>vp,P3R:()=>Bf,PXZ:()=>TI,Q6J:()=>H_,QGY:()=>up,Qsj:()=>uD,R0b:()=>ur,RDi:()=>io,Rgc:()=>Qo,SBq:()=>nh,Sil:()=>EI,Suo:()=>Gr,TTD:()=>ca,TgZ:()=>cm,VKq:()=>Sv,X6Q:()=>JC,XFs:()=>pt,Xpm:()=>na,Xts:()=>El,Y36:()=>oh,YKP:()=>kp,YNc:()=>$_,Yjl:()=>ia,Yz7:()=>gt,Z0I:()=>Or,ZZ4:()=>td,_Bn:()=>$m,_UZ:()=>op,_Vd:()=>Yu,_c5:()=>f0,_uU:()=>sc,aQg:()=>yy,c2e:()=>zp,cJS:()=>ri,cg1:()=>Cp,dDg:()=>KC,dqk:()=>St,dwT:()=>xm,eFA:()=>s0,ekj:()=>wm,eoX:()=>e0,f3M:()=>Ke,g9A:()=>_I,gM2:()=>Rv,h0i:()=>re,hGG:()=>qI,hij:()=>bm,iGM:()=>Gl,ifc:()=>zt,ip1:()=>Kv,jDz:()=>Hm,kL8:()=>wh,lG2:()=>ra,lcZ:()=>Mv,lqb:()=>Il,lri:()=>jh,n5z:()=>xd,oAB:()=>En,oxw:()=>W_,q4F:()=>yw,qLn:()=>Hf,qOj:()=>tm,qZA:()=>Ol,rWj:()=>dy,s9C:()=>cp,sBO:()=>eT,sIi:()=>rp,s_b:()=>Vp,soG:()=>Yl,tb:()=>Ht,tp0:()=>C,uIk:()=>dh,vHH:()=>he,vpe:()=>uo,wAp:()=>We,xp6:()=>Aw,z2F:()=>py,zSh:()=>l_,zs3:()=>rh});var h=k(7579),J=k(727),O=k(9751),oe=k(6451),ae=k(3099);function ie(s){for(let o in s)if(s[o]===ie)return o;throw Error("Could not find renamed property on target object.")}function fe(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function de(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(de).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function le(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const j=ie({__forward_ref__:ie});function $(s){return s.__forward_ref__=$,s.toString=function(){return de(this())},s}function K(s){return Ue(s)?s():s}function Ue(s){return"function"==typeof s&&s.hasOwnProperty(j)&&s.__forward_ref__===$}function De(s){return s&&!!s.\u0275providers}const rt="https://g.co/ng/security#xss";class he extends Error{constructor(o,a){super(function Ce(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,a)),this.code=o}}function Ee(s){return"string"==typeof s?s:null==s?"":String(s)}function Fe(s,o){throw new he(-201,!1)}function Ut(s,o){null==s&&function ft(s,o,a,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function gt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function ri(s){return{providers:s.providers||[],imports:s.imports||[]}}function qr(s){return kr(s,Pr)||kr(s,ln)}function Or(s){return null!==qr(s)}function kr(s,o){return s.hasOwnProperty(o)?s[o]:null}function mi(s){return s&&(s.hasOwnProperty(zs)||s.hasOwnProperty(Wr))?s[zs]:null}const Pr=ie({\u0275prov:ie}),zs=ie({\u0275inj:ie}),ln=ie({ngInjectableDef:ie}),Wr=ie({ngInjectorDef:ie});var pt=(()=>((pt=pt||{})[pt.Default=0]="Default",pt[pt.Host=1]="Host",pt[pt.Self=2]="Self",pt[pt.SkipSelf=4]="SkipSelf",pt[pt.Optional=8]="Optional",pt))();let ts;function _n(s){const o=ts;return ts=s,o}function Fr(s,o,a){const c=qr(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&pt.Optional?null:void 0!==o?o:void Fe(de(s))}const St=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Dn={},vn="__NG_DI_FLAG__",_i="ngTempTokenPath",ea=/\n/gm,rs="__source";let Wt;function Ir(s){const o=Wt;return Wt=s,o}function Fi(s,o=pt.Default){if(void 0===Wt)throw new he(-203,!1);return null===Wt?Fr(s,void 0,o):Wt.get(s,o&pt.Optional?null:void 0,o)}function je(s,o=pt.Default){return(function yi(){return ts}()||Fi)(K(s),o)}function Ke(s,o=pt.Default){return je(s,It(o))}function It(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Tt(s){const o=[];for(let a=0;a<s.length;a++){const c=K(s[a]);if(Array.isArray(c)){if(0===c.length)throw new he(900,!1);let d,p=pt.Default;for(let y=0;y<c.length;y++){const E=c[y],b=B(E);"number"==typeof b?-1===b?d=E.token:p|=b:d=E}o.push(je(d,p))}else o.push(je(c))}return o}function Pt(s,o){return s[vn]=o,s.prototype[vn]=o,s}function B(s){return s[vn]}function pe(s){return{toString:s}.toString()}var ee=(()=>((ee=ee||{})[ee.OnPush=0]="OnPush",ee[ee.Default=1]="Default",ee))(),zt=(()=>{return(s=zt||(zt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",zt;var s})();const wn={},_t=[],rr=ie({\u0275cmp:ie}),jt=ie({\u0275dir:ie}),Wn=ie({\u0275pipe:ie}),po=ie({\u0275mod:ie}),br=ie({\u0275fac:ie}),ta=ie({__NG_ELEMENT_ID__:ie});let tf=0;function na(s){return pe(()=>{const a=!0===s.standalone,c={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===ee.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||_t,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||zt.Emulated,id:"c"+tf++,styles:s.styles||_t,_:null,setInput:null,schemas:s.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},p=s.dependencies,y=s.features;return d.inputs=Ac(s.inputs,c),d.outputs=Ac(s.outputs),y&&y.forEach(E=>E(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(Sc).filter(ud):null,d.pipeDefs=p?()=>("function"==typeof p?p():p).map(xn).filter(ud):null,d})}function Sc(s){return Zt(s)||Zn(s)}function ud(s){return null!==s}function En(s){return pe(()=>({type:s.type,bootstrap:s.bootstrap||_t,declarations:s.declarations||_t,imports:s.imports||_t,exports:s.exports||_t,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Ac(s,o){if(null==s)return wn;const a={};for(const c in s)if(s.hasOwnProperty(c)){let d=s[c],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=c,o&&(o[d]=p)}return a}const ra=na;function ia(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Zt(s){return s[rr]||null}function Zn(s){return s[jt]||null}function xn(s){return s[Wn]||null}function Mn(s){const o=Zt(s)||Zn(s)||xn(s);return null!==o&&o.standalone}function dr(s,o){const a=s[po]||null;if(!a&&!0===o)throw new Error(`Type ${de(s)} does not have '\u0275mod' property.`);return a}function Kr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Ei(s){return Array.isArray(s)&&!0===s[1]}function oa(s){return 0!=(4&s.flags)}function Ii(s){return s.componentOffset>-1}function xc(s){return 1==(1&s.flags)}function Yr(s){return null!==s.template}function aa(s){return 0!=(256&s[2])}function Ys(s,o){return s.hasOwnProperty(br)?s[br]:null}class As{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function ca(){return Qs}function Qs(s){return s.type.prototype.ngOnChanges&&(s.setInput=hu),du}function du(){const s=la(this),o=s?.current;if(o){const a=s.previous;if(a===wn)s.previous=o;else for(let c in o)a[c]=o[c];s.current=null,this.ngOnChanges(o)}}function hu(s,o,a,c){const d=this.declaredInputs[a],p=la(s)||function fu(s,o){return s[xs]=o}(s,{previous:wn,current:null}),y=p.current||(p.current={}),E=p.previous,b=E[d];y[d]=new As(b&&b.currentValue,o,E===wn),s[c]=o}ca.ngInherit=!0;const xs="__ngSimpleChanges__";function la(s){return s[xs]||null}function On(s){for(;Array.isArray(s);)s=s[0];return s}function Xs(s,o){return On(o[s])}function fr(s,o){return On(o[s.index])}function Eo(s,o){return s.data[o]}function Ms(s,o){return s[o]}function ir(s,o){const a=o[s];return Kr(a)?a:a[0]}function fa(s){return 64==(64&s[2])}function Bi(s,o){return null==o?null:s[o]}function pa(s){s[18]=0}function ga(s,o){s[5]+=o;let a=s,c=s[3];for(;null!==c&&(1===o&&1===a[5]||-1===o&&0===a[5]);)c[5]+=o,a=c,c=c[3]}const At={lFrame:$y(null),bindingsEnabled:!0};function _u(){return At.bindingsEnabled}function Te(){return At.lFrame.lView}function Kt(){return At.lFrame.tView}function Lc(s){return At.lFrame.contextLView=s,s[8]}function Ed(s){return At.lFrame.contextLView=null,s}function pr(){let s=Io();for(;null!==s&&64===s.type;)s=s.parent;return s}function Io(){return At.lFrame.currentTNode}function si(s,o){const a=At.lFrame;a.currentTNode=s,a.isParent=o}function wu(){return At.lFrame.isParent}function In(){const s=At.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function ss(){return At.lFrame.bindingIndex++}function jc(s,o){const a=At.lFrame;a.bindingIndex=a.bindingRootIndex=s,bd(o)}function bd(s){At.lFrame.currentDirectiveIndex=s}function Dd(){return At.lFrame.currentQueryIndex}function $c(s){At.lFrame.currentQueryIndex=s}function Cd(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function af(s,o,a){if(a&pt.SkipSelf){let d=o,p=s;for(;!(d=d.parent,null!==d||a&pt.Host||(d=Cd(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;o=d,s=p}const c=At.lFrame=uf();return c.currentTNode=o,c.lView=s,!0}function Eu(s){const o=uf(),a=s[1];At.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function uf(){const s=At.lFrame,o=null===s?null:s.child;return null===o?$y(s):o}function $y(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function hg(){const s=At.lFrame;return At.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Iu=hg;function fg(){const s=hg();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Qr(){return At.lFrame.selectedIndex}function ya(s){At.lFrame.selectedIndex=s}function pn(){const s=At.lFrame;return Eo(s.tView,s.selectedIndex)}function Rs(s,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:b,ngAfterViewChecked:T,ngOnDestroy:M}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-a,y),E&&((s.contentHooks||(s.contentHooks=[])).push(a,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,E)),b&&(s.viewHooks||(s.viewHooks=[])).push(-a,b),T&&((s.viewHooks||(s.viewHooks=[])).push(a,T),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,T)),null!=M&&(s.destroyHooks||(s.destroyHooks=[])).push(a,M)}}function ai(s,o,a){zc(s,o,3,a)}function bu(s,o,a,c){(3&s[2])===a&&zc(s,o,a,c)}function Di(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function zc(s,o,a,c){const p=c??-1,y=o.length-1;let E=0;for(let b=void 0!==c?65535&s[18]:0;b<y;b++)if("number"==typeof o[b+1]){if(E=o[b],null!=c&&E>=c)break}else o[b]<0&&(s[18]+=65536),(E<p||-1==p)&&(Td(s,a,o,b),s[18]=(4294901760&s[18])+b+2),b++}function Td(s,o,a,c){const d=a[c]<0,p=a[c+1],E=s[d?-a[c]:a[c]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(E)}finally{}}}else try{p.call(E)}finally{}}class _a{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function yn(s,o,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const p=a[c++],y=a[c++],E=a[c++];s.setAttribute(o,y,E,p)}else{const p=d,y=a[++c];Ao(p)?s.setProperty(o,p,y):s.setAttribute(o,p,y),c++}}return c}function So(s){return 3===s||4===s||6===s}function Ao(s){return 64===s.charCodeAt(0)}function Os(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?a=d:0===a||Du(s,a,d,null,-1===a||2===a?o[++c]:null)}}return s}function Du(s,o,a,c,d){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const E=s[p++];if("number"==typeof E){if(E===o){y=-1;break}if(E>o){y=p-1;break}}}for(;p<s.length;){const E=s[p];if("number"==typeof E)break;if(E===a){if(null===c)return void(null!==d&&(s[p+1]=d));if(c===s[p+1])return void(s[p+2]=d)}p++,null!==c&&p++,null!==d&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,a),null!==c&&s.splice(p++,0,c),null!==d&&s.splice(p++,0,d)}function Ad(s){return-1!==s}function Cu(s){return 32767&s}function xo(s,o){let a=function Tu(s){return s>>16}(s),c=o;for(;a>0;)c=c[15],a--;return c}let os=!0;function eo(s){const o=os;return os=s,o}let Su=0;const Xr={};function Mo(s,o){const a=Au(s,o);if(-1!==a)return a;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,Ps(c.data,s),Ps(o,null),Ps(c.blueprint,null));const d=xu(s,o),p=s.injectorIndex;if(Ad(d)){const y=Cu(d),E=xo(d,o),b=E[1].data;for(let T=0;T<8;T++)o[p+T]=E[y+T]|b[y+T]}return o[p+8]=d,p}function Ps(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Au(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function xu(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,c=null,d=o;for(;null!==d;){if(c=hf(d),null===c)return-1;if(a++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function Yc(s,o,a){!function Kc(s,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(ta)&&(c=a[ta]),null==c&&(c=a[ta]=Su++);const d=255&c;o.data[s+(d>>5)]|=1<<d}(s,o,a)}function Ro(s,o,a){if(a&pt.Optional||void 0!==s)return s;Fe()}function Qc(s,o,a,c){if(a&pt.Optional&&void 0===c&&(c=null),!(a&(pt.Self|pt.Host))){const d=s[9],p=_n(void 0);try{return d?d.get(o,c,a&pt.Optional):Fr(o,c,a&pt.Optional)}finally{_n(p)}}return Ro(c,0,a)}function Xc(s,o,a,c=pt.Default,d){if(null!==s){if(1024&o[2]){const y=function Rd(s,o,a,c,d){let p=s,y=o;for(;null!==p&&null!==y&&1024&y[2]&&!(256&y[2]);){const E=as(p,y,a,c|pt.Self,Xr);if(E!==Xr)return E;let b=p.parent;if(!b){const T=y[21];if(T){const M=T.get(a,Xr,c);if(M!==Xr)return M}b=hf(y),y=y[15]}p=b}return d}(s,o,a,c,Xr);if(y!==Xr)return y}const p=as(s,o,a,c,Xr);if(p!==Xr)return p}return Qc(o,a,c,d)}function as(s,o,a,c,d){const p=function Nu(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ta)?s[ta]:void 0;return"number"==typeof o?o>=0?255&o:df:o}(a);if("function"==typeof p){if(!af(o,s,c))return c&pt.Host?Ro(d,0,c):Qc(o,a,c,d);try{const y=p(c);if(null!=y||c&pt.Optional)return y;Fe()}finally{Iu()}}else if("number"==typeof p){let y=null,E=Au(s,o),b=-1,T=c&pt.Host?o[16][6]:null;for((-1===E||c&pt.SkipSelf)&&(b=-1===E?xu(s,o):o[E+8],-1!==b&&Ti(c,!1)?(y=o[1],E=Cu(b),o=xo(b,o)):E=-1);-1!==E;){const M=o[1];if(Jc(p,E,M.data)){const P=Ru(E,o,a,y,c,T);if(P!==Xr)return P}b=o[E+8],-1!==b&&Ti(c,o[1].data[E+8]===T)&&Jc(p,E,o)?(y=M,E=Cu(b),o=xo(b,o)):E=-1}}return d}function Ru(s,o,a,c,d,p){const y=o[1],E=y.data[s+8],M=Ia(E,y,a,null==c?Ii(E)&&os:c!=y&&0!=(3&E.type),d&pt.Host&&p===E);return null!==M?Ci(o,y,M,E):Xr}function Ia(s,o,a,c,d){const p=s.providerIndexes,y=o.data,E=1048575&p,b=s.directiveStart,M=p>>20,G=d?E+M:s.directiveEnd;for(let X=c?E:E+M;X<G;X++){const me=y[X];if(X<b&&a===me||X>=b&&me.type===a)return X}if(d){const X=y[b];if(X&&Yr(X)&&X.type===a)return b}return null}function Ci(s,o,a,c){let d=s[a];const p=o.data;if(function ui(s){return s instanceof _a}(d)){const y=d;y.resolving&&function Ae(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new he(-200,`Circular dependency in DI detected for ${s}${a}`)}(function Pe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ee(s)}(p[a]));const E=eo(y.canSeeViewProviders);y.resolving=!0;const b=y.injectImpl?_n(y.injectImpl):null;af(s,c,pt.Default);try{d=s[a]=y.factory(void 0,p,s,c),o.firstCreatePass&&a>=c.directiveStart&&function lf(s,o,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:p}=o.type.prototype;if(c){const y=Qs(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,y)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,d),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==b&&_n(b),eo(E),y.resolving=!1,Iu()}}return d}function Jc(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Ti(s,o){return!(s&pt.Self||s&pt.Host&&o)}class ci{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return Xc(this._tNode,this._lView,o,It(c),a)}}function df(){return new ci(pr(),Te())}function xd(s){return pe(()=>{const o=s.prototype.constructor,a=o[br]||Md(o),c=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==c;){const p=d[br]||Md(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function Md(s){return Ue(s)?()=>{const o=Md(K(s));return o&&o()}:Ys(s)}function hf(s){const o=s[1],a=o.type;return 2===a?o.declTNode:1===a?s[6]:null}function el(s){return function Mu(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const p=a[d];if(So(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(p===o)return a[d+1];d+=2}}}return null}(pr(),s)}const ba="__parameters__";function No(s,o,a){return pe(()=>{const c=function pf(s){return function(...a){if(s){const c=s(...a);for(const d in c)this[d]=c[d]}}}(o);function d(...p){if(this instanceof d)return c.apply(this,p),this;const y=new d(...p);return E.annotation=y,E;function E(b,T,M){const P=b.hasOwnProperty(ba)?b[ba]:Object.defineProperty(b,ba,{value:[]})[ba];for(;P.length<=M;)P.push(null);return(P[M]=P[M]||[]).push(y),b}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class on{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=gt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Gi(s,o){s.forEach(a=>Array.isArray(a)?Gi(a,o):o(a))}function ku(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Sa(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Pn(s,o,a){let c=Kn(s,o);return c>=0?s[1|c]=a:(c=~c,function wf(s,o,a,c){let d=s.length;if(d==o)s.push(a,c);else if(1===d)s.push(c,s[0]),s[0]=a;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=a,s[o+1]=c}}(s,c,o,a)),c}function Qe(s,o){const a=Kn(s,o);if(a>=0)return s[1|a]}function Kn(s,o){return function kd(s,o,a){let c=0,d=s.length>>a;for(;d!==c;){const p=c+(d-c>>1),y=s[p<<a];if(o===y)return p<<a;y>o?d=p:c=p+1}return~(d<<a)}(s,o,1)}const at=Pt(No("Optional"),8),C=Pt(No("SkipSelf"),4);var ls=(()=>((ls=ls||{})[ls.Important=1]="Important",ls[ls.DashCase=2]="DashCase",ls))();const Bu=new Map;let _g=0;const bf="__ngContext__";function Cr(s,o){Kr(o)?(s[bf]=o[20],function nw(s){Bu.set(s[20],s)}(o)):s[bf]=o}function Sf(s,o){return undefined(s,o)}function hs(s){const o=s[3];return Ei(o)?o[3]:o}function ll(s){return hl(s[13])}function dl(s){return hl(s[4])}function hl(s){for(;null!==s&&!Ei(s);)s=s[4];return s}function ka(s,o,a,c,d){if(null!=c){let p,y=!1;Ei(c)?p=c:Kr(c)&&(y=!0,c=c[0]);const E=On(c);0===s&&null!==a?null==d?Ls(o,a,E):Fa(o,a,E,d||null,!0):1===s&&null!==a?Fa(o,a,E,d||null,!0):2===s?function Ua(s,o,a){const c=pl(s,o);c&&function La(s,o,a,c){s.removeChild(o,a,c)}(s,c,o,a)}(o,E,y):3===s&&o.destroyNode(E),null!=p&&function Nf(s,o,a,c,d){const p=a[7];p!==On(a)&&ka(o,s,c,p,d);for(let E=10;E<a.length;E++){const b=a[E];qu(b[1],b,s,o,c,p)}}(o,s,p,a,d)}}function fl(s,o,a){return s.createElement(o,a)}function Pa(s,o){const a=s[9],c=a.indexOf(o),d=o[3];512&o[2]&&(o[2]&=-513,ga(d,-1)),a.splice(c,1)}function $u(s,o){if(s.length<=10)return;const a=10+o,c=s[a];if(c){const d=c[17];null!==d&&d!==s&&Pa(d,c),o>0&&(s[a-1][4]=c[4]);const p=Sa(s,10+o);!function qd(s,o){qu(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const y=p[19];null!==y&&y.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function Ig(s,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&qu(s,o,a,3,null,null),function xf(s){let o=s[13];if(!o)return ro(s[1],s);for(;o;){let a=null;if(Kr(o))a=o[13];else{const c=o[10];c&&(a=c)}if(!a){for(;o&&!o[4]&&o!==s;)Kr(o)&&ro(o[1],o),o=o[3];null===o&&(o=s),Kr(o)&&ro(o[1],o),a=o&&o[4]}o=a}}(o)}}function ro(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function rw(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let c=0;c<a.length;c+=2){const d=o[a[c]];if(!(d instanceof _a)){const p=a[c+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const E=d[p[y]],b=p[y+1];try{b.call(E)}finally{}}else try{p.call(d)}finally{}}}}(s,o),function Wd(s,o){const a=s.cleanup,c=o[7];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+3];y>=0?c[d=y]():c[d=-y].unsubscribe(),p+=2}else{const y=c[d=a[p+1]];a[p].call(y)}if(null!==c){for(let p=d+1;p<c.length;p++)(0,c[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&Ei(o[3])){a!==o[3]&&Pa(a,o);const c=o[19];null!==c&&c.detachView(s)}!function Fo(s){Bu.delete(s[20])}(o)}}function bg(s,o,a){return function Dg(s,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[0];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:p}=s.data[c.directiveStart+d];if(p===zt.None||p===zt.Emulated)return null}return fr(c,a)}}(s,o.parent,a)}function Fa(s,o,a,c,d){s.insertBefore(o,a,c,d)}function Ls(s,o,a){s.appendChild(o,a)}function Hu(s,o,a,c,d){null!==c?Fa(s,o,a,c,d):Ls(s,o,a)}function pl(s,o){return s.parentNode(o)}let Pf,ml,Zd=function Mf(s,o,a){return 40&s.type?fr(s,a):null};function zu(s,o,a,c){const d=bg(s,c,o),p=o[11],E=function Va(s,o,a){return Zd(s,o,a)}(c.parent||o[6],c,o);if(null!=d)if(Array.isArray(a))for(let b=0;b<a.length;b++)Hu(p,d,a[b],E,!1);else Hu(p,d,a,E,!1)}function Vs(s,o){if(null!==o){const a=o.type;if(3&a)return fr(o,s);if(4&a)return Tr(-1,s[o.index]);if(8&a){const c=o.child;if(null!==c)return Vs(s,c);{const d=s[o.index];return Ei(d)?Tr(-1,d):On(d)}}if(32&a)return Sf(o,s)()||On(s[o.index]);{const c=Tg(s,o);return null!==c?Array.isArray(c)?c[0]:Vs(hs(s[16]),c):Vs(s,o.next)}}return null}function Tg(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Tr(s,o){const a=10+s+1;if(a<o.length){const c=o[a],d=c[1].firstChild;if(null!==d)return Vs(c,d)}return o[7]}function gl(s,o,a,c,d,p,y){for(;null!=a;){const E=c[a.index],b=a.type;if(y&&0===o&&(E&&Cr(On(E),c),a.flags|=2),32!=(32&a.flags))if(8&b)gl(s,o,a.child,c,d,p,!1),ka(o,s,d,E,p);else if(32&b){const T=Sf(a,c);let M;for(;M=T();)ka(o,s,d,M,p);ka(o,s,d,E,p)}else 16&b?Si(s,o,c,a,d,p):ka(o,s,d,E,p);a=y?a.projectionNext:a.next}}function qu(s,o,a,c,d,p){gl(a,c,s.firstChild,o,d,p,!1)}function Si(s,o,a,c,d,p){const y=a[16],b=y[6].projection[c.projection];if(Array.isArray(b))for(let T=0;T<b.length;T++)ka(o,s,d,b[T],p);else gl(s,o,b,y[3],d,p,!0)}function Us(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function Yd(s,o,a){const{mergedAttrs:c,classes:d,styles:p}=a;null!==c&&yn(s,o,c),null!==d&&Us(s,o,d),null!==p&&function Kd(s,o,a){s.setAttribute(o,"style",a)}(s,o,p)}function io(s){Pf=s}function Mg(s){return function yl(){if(void 0===ml&&(ml=null,St.trustedTypes))try{ml=St.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return ml}()?.createScriptURL(s)||s}class Jy{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rt})`}}function w(s){return s instanceof Jy?s.changingThisBreaksApplicationSecurity:s}function A(s,o){const a=function R(s){return s instanceof Jy&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${rt})`)}return a===o}const Xd=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var yr=(()=>((yr=yr||{})[yr.NONE=0]="NONE",yr[yr.HTML=1]="HTML",yr[yr.STYLE=2]="STYLE",yr[yr.SCRIPT=3]="SCRIPT",yr[yr.URL=4]="URL",yr[yr.RESOURCE_URL=5]="RESOURCE_URL",yr))();function Ki(s){const o=Bo();return o?o.sanitize(yr.URL,s)||"":A(s,"URL")?w(s):function _l(s){return(s=String(s)).match(Xd)?s:"unsafe:"+s}(Ee(s))}function o_(s){const o=Bo();if(o)return Mg(o.sanitize(yr.RESOURCE_URL,s)||"");if(A(s,"ResourceURL"))return Mg(w(s));throw new he(904,!1)}function Bf(s,o,a){return function aw(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?o_:Ki}(o,a)(s)}function Bo(){const s=Te();return s&&s[12]}const El=new on("ENVIRONMENT_INITIALIZER"),uw=new on("INJECTOR",-1),cw=new on("INJECTOR_DEF_TYPES");class th{get(o,a=Dn){if(a===Dn){const c=new Error(`NullInjectorError: No provider for ${de(o)}!`);throw c.name="NullInjectorError",c}return a}}function jf(s){return{\u0275providers:s}}function eD(...s){return{\u0275providers:lw(0,s),\u0275fromNgModule:!0}}function lw(s,...o){const a=[],c=new Set;let d;return Gi(o,p=>{const y=p;a_(y,a,[],c)&&(d||(d=[]),d.push(y))}),void 0!==d&&dw(d,a),a}function dw(s,o){for(let a=0;a<s.length;a++){const{providers:d}=s[a];u_(d,p=>{o.push(p)})}}function a_(s,o,a,c){if(!(s=K(s)))return!1;let d=null,p=mi(s);const y=!p&&Zt(s);if(p||y){if(y&&!y.standalone)return!1;d=s}else{const b=s.ngModule;if(p=mi(b),!p)return!1;d=b}const E=c.has(d);if(y){if(E)return!1;if(c.add(d),y.dependencies){const b="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const T of b)a_(T,o,a,c)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let T;c.add(d);try{Gi(p.imports,M=>{a_(M,o,a,c)&&(T||(T=[]),T.push(M))})}finally{}void 0!==T&&dw(T,o)}if(!E){const T=Ys(d)||(()=>new d);o.push({provide:d,useFactory:T,deps:_t},{provide:cw,useValue:d,multi:!0},{provide:El,useValue:()=>je(d),multi:!0})}const b=p.providers;null==b||E||u_(b,M=>{o.push(M)})}}return d!==s&&void 0!==s.providers}function u_(s,o){for(let a of s)De(a)&&(a=a.\u0275providers),Array.isArray(a)?u_(a,o):o(a)}const nx=ie({provide:String,useValue:ie});function c_(s){return null!==s&&"object"==typeof s&&nx in s}function Bs(s){return"function"==typeof s}const l_=new on("Set Injector scope."),kg={},nD={};let d_;function Pg(){return void 0===d_&&(d_=new th),d_}class Il{}class hw extends Il{get destroyed(){return this._destroyed}constructor(o,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,p_(o,y=>this.processProvider(y)),this.records.set(uw,bl(void 0,this)),d.has("environment")&&this.records.set(Il,bl(void 0,this));const p=this.records.get(l_);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(cw.multi,_t,pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=Ir(this),c=_n(void 0);try{return o()}finally{Ir(a),_n(c)}}get(o,a=Dn,c=pt.Default){this.assertNotDestroyed(),c=It(c);const d=Ir(this),p=_n(void 0);try{if(!(c&pt.SkipSelf)){let E=this.records.get(o);if(void 0===E){const b=function iD(s){return"function"==typeof s||"object"==typeof s&&s instanceof on}(o)&&qr(o);E=b&&this.injectableDefInScope(b)?bl(h_(o),kg):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(c&pt.Self?Pg():this.parent).get(o,a=c&pt.Optional&&a===Dn?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[_i]=y[_i]||[]).unshift(de(o)),d)throw y;return function L(s,o,a,c){const d=s[_i];throw o[rs]&&d.unshift(o[rs]),s.message=function Z(s,o,a,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let d=de(o);if(Array.isArray(o))d=o.map(de).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let E=o[y];p.push(y+":"+("string"==typeof E?JSON.stringify(E):de(E)))}d=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${s.replace(ea,"\n  ")}`}("\n"+s.message,d,a,c),s.ngTokenPath=d,s[_i]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{_n(p),Ir(d)}}resolveInjectorInitializers(){const o=Ir(this),a=_n(void 0);try{const c=this.get(El.multi,_t,pt.Self);for(const d of c)d()}finally{Ir(o),_n(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(de(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processProvider(o){let a=Bs(o=K(o))?o:K(o&&o.provide);const c=function rD(s){return c_(s)?bl(void 0,s.useValue):bl(Fg(s),kg)}(o);if(Bs(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=bl(void 0,kg,!0),d.factory=()=>Tt(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===kg&&(a.value=nD,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Lg(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=K(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function h_(s){const o=qr(s),a=null!==o?o.factory:Ys(s);if(null!==a)return a;if(s instanceof on)throw new he(204,!1);if(s instanceof Function)return function fw(s){const o=s.length;if(o>0)throw function Oo(s,o){const a=[];for(let c=0;c<s;c++)a.push(o);return a}(o,"?"),new he(204,!1);const a=function fo(s){const o=s&&(s[Pr]||s[ln]);if(o){const a=function Cs(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new he(204,!1)}function Fg(s,o,a){let c;if(Bs(s)){const d=K(s);return Ys(d)||h_(d)}if(c_(s))c=()=>K(s.useValue);else if(function $f(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...Tt(s.deps||[]));else if(function Og(s){return!(!s||!s.useExisting)}(s))c=()=>je(K(s.useExisting));else{const d=K(s&&(s.useClass||s.provide));if(!function f_(s){return!!s.deps}(s))return Ys(d)||h_(d);c=()=>new d(...Tt(s.deps))}return c}function bl(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function p_(s,o){for(const a of s)Array.isArray(a)?p_(a,o):a&&De(a)?p_(a.\u0275providers,o):o(a)}class sD{}class pw{}class Ug{resolveComponentFactory(o){throw function Vg(s){const o=Error(`No component factory found for ${de(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Yu=(()=>{class s{}return s.NULL=new Ug,s})();function gw(){return jo(pr(),Te())}function jo(s,o){return new nh(fr(s,o))}let nh=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=gw,s})();function aD(s){return s instanceof nh?s.nativeElement:s}class mw{}let uD=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function cD(){const s=Te(),a=ir(pr().index,s);return(Kr(a)?a:s)[11]}(),s})(),lD=(()=>{class s{}return s.\u0275prov=gt({token:s,providedIn:"root",factory:()=>null}),s})();class m_{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const yw=new m_("15.1.0"),y_={};function v_(s){return s.ngOriginalError}class Hf{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&v_(o);for(;a&&v_(a);)a=v_(a);return a||null}}function Ha(s){return s instanceof Function?s():s}function Bg(s,o,a){let c=s.length;for(;;){const d=s.indexOf(o,a);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const p=o.length;if(d+p===c||s.charCodeAt(d+p)<=32)return d}a=d+1}}const bw="ng-template";function Dw(s,o,a){let c=0;for(;c<s.length;){let d=s[c++];if(a&&"class"===d){if(d=s[c],-1!==Bg(d.toLowerCase(),o,0))return!0}else if(1===d){for(;c<s.length&&"string"==typeof(d=s[c++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function Cl(s){return 4===s.type&&s.value!==bw}function w_(s,o,a){return o===(4!==s.type||a?s.value:bw)}function yD(s,o,a){let c=4;const d=s.attrs||[],p=function Tw(s){for(let o=0;o<s.length;o++)if(So(s[o]))return o;return s.length}(d);let y=!1;for(let E=0;E<o.length;E++){const b=o[E];if("number"!=typeof b){if(!y)if(4&c){if(c=2|1&c,""!==b&&!w_(s,b,a)||""===b&&1===o.length){if(js(c))return!1;y=!0}}else{const T=8&c?b:o[++E];if(8&c&&null!==s.attrs){if(!Dw(s.attrs,T,a)){if(js(c))return!1;y=!0}continue}const P=jg(8&c?"class":b,d,Cl(s),a);if(-1===P){if(js(c))return!1;y=!0;continue}if(""!==T){let G;G=P>p?"":d[P+1].toLowerCase();const X=8&c?G:null;if(X&&-1!==Bg(X,T,0)||2&c&&T!==G){if(js(c))return!1;y=!0}}}}else{if(!y&&!js(c)&&!js(b))return!1;if(y&&js(b))continue;y=!1,c=b|1&c}}return js(c)||y}function js(s){return 0==(1&s)}function jg(s,o,a,c){if(null===o)return-1;let d=0;if(c||!a){let p=!1;for(;d<o.length;){const y=o[d];if(y===s)return d;if(3===y||6===y)p=!0;else{if(1===y||2===y){let E=o[++d];for(;"string"==typeof E;)E=o[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=p?1:2}return-1}return function _D(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const c=s[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,s)}function Gf(s,o,a=!1){for(let c=0;c<o.length;c++)if(yD(s,o[c],a))return!0;return!1}function Sw(s,o){return s?":not("+o.trim()+")":o}function wD(s){let o=s[0],a=1,c=2,d="",p=!1;for(;a<s.length;){let y=s[a];if("string"==typeof y)if(2&c){const E=s[++a];d+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&c?d+="."+y:4&c&&(d+=" "+y);else""!==d&&!js(y)&&(o+=Sw(p,d),d=""),c=y,p=p||!js(c);a++}return""!==d&&(o+=Sw(p,d)),o}const Bt={};function Aw(s){E_(Kt(),Te(),Qr()+s,!1)}function E_(s,o,a,c){if(!c)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&ai(o,p,a)}else{const p=s.preOrderHooks;null!==p&&bu(o,p,0,a)}ya(a)}function I_(s,o=null,a=null,c){const d=CD(s,o,a,c);return d.resolveInjectorInitializers(),d}function CD(s,o=null,a=null,c,d=new Set){const p=[a||_t,eD(s)];return c=c||("object"==typeof s?void 0:de(s)),new hw(p,o||Pg(),c||null,d)}let rh=(()=>{class s{static create(a,c){if(Array.isArray(a))return I_({name:""},c,a,"");{const d=a.name??"";return I_({name:d},a.parent,a.providers,d)}}}return s.THROW_IF_NOT_FOUND=Dn,s.NULL=new th,s.\u0275prov=gt({token:s,providedIn:"any",factory:()=>je(uw)}),s.__NG_ELEMENT_ID__=-1,s})();function oh(s,o=pt.Default){const a=Te();return null===a?je(s,o):Xc(pr(),a,K(s),o)}function C_(){throw new Error("invalid")}function OD(s,o){const a=s.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const p=a[c+1];if(-1!==p){const y=s.data[p];$c(a[c]),y.contentQueries(2,o[p],p)}}}function Qu(s,o,a,c,d,p,y,E,b,T,M){const P=o.blueprint.slice();return P[0]=d,P[2]=76|c,(null!==M||s&&1024&s[2])&&(P[2]|=1024),pa(P),P[3]=P[15]=s,P[8]=a,P[10]=y||s&&s[10],P[11]=E||s&&s[11],P[12]=b||s&&s[12]||null,P[9]=T||s&&s[9]||null,P[6]=p,P[20]=function jd(){return _g++}(),P[21]=M,P[16]=2==o.type?s[16]:P,P}function za(s,o,a,c,d){let p=s.data[o];if(null===p)p=function Zf(s,o,a,c,d){const p=Io(),y=wu(),b=s.data[o]=function $w(s,o,a,c,d,p){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,o,c,d);return null===s.firstChild&&(s.firstChild=b),null!==p&&(y?null==p.child&&null!==b.parent&&(p.child=b):null===p.next&&(p.next=b)),b}(s,o,a,c,d),function dg(){return At.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=c,p.attrs=d;const y=function vu(){const s=At.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return si(p,!0),p}function fs(s,o,a,c){if(0===a)return-1;const d=o.length;for(let p=0;p<a;p++)o.push(c),s.blueprint.push(c),s.data.push(null);return d}function Uw(s,o,a){Eu(o);try{const c=s.viewQuery;null!==c&&Xg(1,c,a);const d=s.template;null!==d&&Bw(s,o,d,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&OD(s,o),s.staticViewQueries&&Xg(2,s.viewQuery,a);const p=s.components;null!==p&&function ah(s,o){for(let a=0;a<o.length;a++)Zw(s,o[a])}(o,p)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,fg()}}function qg(s,o,a,c){const d=o[2];if(128!=(128&d)){Eu(o);try{pa(o),function Uc(s){return At.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&Bw(s,o,a,2,c);const y=3==(3&d);if(y){const T=s.preOrderCheckHooks;null!==T&&ai(o,T,null)}else{const T=s.preOrderHooks;null!==T&&bu(o,T,0,null),Di(o,0)}if(function yx(s){for(let o=ll(s);null!==o;o=dl(o)){if(!o[2])continue;const a=o[9];for(let c=0;c<a.length;c++){const d=a[c];512&d[2]||ga(d[3],1),d[2]|=512}}}(o),function jD(s){for(let o=ll(s);null!==o;o=dl(o))for(let a=10;a<o.length;a++){const c=o[a],d=c[1];fa(c)&&qg(d,c,d.template,c[8])}}(o),null!==s.contentQueries&&OD(s,o),y){const T=s.contentCheckHooks;null!==T&&ai(o,T)}else{const T=s.contentHooks;null!==T&&bu(o,T,1),Di(o,1)}!function ND(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)ya(~d);else{const p=d,y=a[++c],E=a[++c];jc(y,p),E(2,o[p])}}}finally{ya(-1)}}(s,o);const E=s.components;null!==E&&function kD(s,o){for(let a=0;a<o.length;a++)$D(s,o[a])}(o,E);const b=s.viewQuery;if(null!==b&&Xg(2,b,c),y){const T=s.viewCheckHooks;null!==T&&ai(o,T)}else{const T=s.viewHooks;null!==T&&bu(o,T,2),Di(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,ga(o[3],-1))}finally{fg()}}}function Bw(s,o,a,c,d){const p=Qr(),y=2&c;try{ya(-1),y&&o.length>22&&E_(s,o,22,!1),a(c,d)}finally{ya(p)}}function T_(s,o,a){if(oa(o)){const d=o.directiveEnd;for(let p=o.directiveStart;p<d;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}function S_(s,o,a){_u()&&(function LD(s,o,a,c){const d=a.directiveStart,p=a.directiveEnd;Ii(a)&&function mx(s,o,a){const c=fr(o,s),d=Kf(a),p=s[10],y=Xf(s,Qu(s,d,null,a.onPush?32:16,c,o,p,p.createRenderer(c,a),null,null,null));s[o.index]=y}(o,a,s.data[d+a.componentOffset]),s.firstCreatePass||Mo(a,o),Cr(c,o);const y=a.initialInputs;for(let E=d;E<p;E++){const b=s.data[E],T=Ci(o,s,E,a);Cr(T,o),null!==y&&UD(0,E-d,T,b,0,y),Yr(b)&&(ir(a.index,o)[8]=Ci(o,s,E,a))}}(s,o,a,fr(a,o)),64==(64&a.flags)&&zw(s,o,a))}function Wg(s,o,a=fr){const c=o.localNames;if(null!==c){let d=o.index+1;for(let p=0;p<c.length;p+=2){const y=c[p+1],E=-1===y?a(o,s):s[y];s[d++]=E}}}function Kf(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=$o(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function $o(s,o,a,c,d,p,y,E,b,T){const M=22+c,P=M+d,G=function hx(s,o){const a=[];for(let c=0;c<o;c++)a.push(c<s?null:Bt);return a}(M,P),X="function"==typeof T?T():T;return G[1]={type:s,blueprint:G,template:a,queries:null,viewQuery:E,declTNode:o,data:G.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:b,consts:X,incompleteFirstPass:!1}}function jw(s,o,a,c){const d=Kw(o);null===a?d.push(c):(d.push(a),s.firstCreatePass&&GD(s).push(c,d.length-1))}function A_(s,o,a,c){for(let d in s)if(s.hasOwnProperty(d)){a=null===a?{}:a;const p=s[d];null===c?x_(a,o,d,p):c.hasOwnProperty(d)&&x_(a,o,c[d],p)}return a}function x_(s,o,a,c){s.hasOwnProperty(a)?s[a].push(o,c):s[a]=[o,c]}function rn(s,o,a,c,d,p,y,E){const b=fr(o,a);let M,T=o.inputs;!E&&null!=T&&(M=T[c])?(F_(s,a,M,c,d),Ii(o)&&Zg(a,o.index)):3&o.type&&(c=function Yf(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),d=null!=y?y(d,o.value||"",c):d,p.setProperty(b,c,d))}function Zg(s,o){const a=ir(o,s);16&a[2]||(a[2]|=32)}function Kg(s,o,a,c){let d=!1;if(_u()){const p=null===c?null:{"":-1},y=function Qf(s,o){const a=s.directiveRegistry;let c=null,d=null;if(a)for(let p=0;p<a.length;p++){const y=a[p];if(Gf(o,y.selectors,!1))if(c||(c=[]),Yr(y))if(null!==y.findHostDirectiveDefs){const E=[];d=d||new Map,y.findHostDirectiveDefs(y,E,d),c.unshift(...E,y),N_(s,o,E.length)}else c.unshift(y),N_(s,o,0);else d=d||new Map,y.findHostDirectiveDefs?.(y,c,d),c.push(y)}return null===c?null:[c,d]}(s,a);let E,b;null===y?E=b=null:[E,b]=y,null!==E&&(d=!0,Yg(s,o,a,E,p,b)),p&&function qw(s,o,a){if(o){const c=s.localNames=[];for(let d=0;d<o.length;d+=2){const p=a[o[d+1]];if(null==p)throw new he(-301,!1);c.push(o[d],p)}}}(a,c,p)}return a.mergedAttrs=Os(a.mergedAttrs,a.attrs),d}function Yg(s,o,a,c,d,p){for(let T=0;T<c.length;T++)Yc(Mo(a,o),s,c[T].type);!function px(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}(a,s.data.length,c.length);for(let T=0;T<c.length;T++){const M=c[T];M.providersResolver&&M.providersResolver(M)}let y=!1,E=!1,b=fs(s,o,c.length,null);for(let T=0;T<c.length;T++){const M=c[T];a.mergedAttrs=Os(a.mergedAttrs,M.hostAttrs),gx(s,a,o,b,M),fx(b,M,d),null!==M.contentQueries&&(a.flags|=4),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(a.flags|=64);const P=M.type.prototype;!y&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),y=!0),!E&&(P.ngOnChanges||P.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),E=!0),b++}!function FD(s,o,a){const d=o.directiveEnd,p=s.data,y=o.attrs,E=[];let b=null,T=null;for(let M=o.directiveStart;M<d;M++){const P=p[M],G=a?a.get(P):null,me=G?G.outputs:null;b=A_(P.inputs,M,b,G?G.inputs:null),T=A_(P.outputs,M,T,me);const Ve=null===b||null===y||Cl(o)?null:BD(b,M,y);E.push(Ve)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=8),b.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=E,o.inputs=b,o.outputs=T}(s,a,p)}function zw(s,o,a){const c=a.directiveStart,d=a.directiveEnd,p=a.index,y=function ma(){return At.lFrame.currentDirectiveIndex}();try{ya(p);for(let E=c;E<d;E++){const b=s.data[E],T=o[E];bd(E),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&VD(b,T)}}finally{ya(-1),bd(y)}}function VD(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function N_(s,o,a){o.componentOffset=a,(s.components||(s.components=[])).push(o.index)}function fx(s,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=s;Yr(o)&&(a[""]=s)}}function gx(s,o,a,c,d){s.data[c]=d;const p=d.factory||(d.factory=Ys(d.type)),y=new _a(p,Yr(d),oh);s.blueprint[c]=y,a[c]=y,function Hw(s,o,a,c,d){const p=d.hostBindings;if(p){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const E=~o.index;(function Gw(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(y)!=E&&y.push(E),y.push(a,c,p)}}(s,o,c,fs(s,a,d.hostVars,Bt),d)}function qa(s,o,a,c,d,p){const y=fr(s,o);!function Ww(s,o,a,c,d,p,y){if(null==p)s.removeAttribute(o,d,a);else{const E=null==y?Ee(p):y(p,c||"",d);s.setAttribute(o,d,E,a)}}(o[11],y,p,s.value,a,c,d)}function UD(s,o,a,c,d,p){const y=p[o];if(null!==y){const E=c.setInput;for(let b=0;b<y.length;){const T=y[b++],M=y[b++],P=y[b++];null!==E?c.setInput(a,P,T,M):a[M]=P}}}function BD(s,o,a){let c=null,d=0;for(;d<a.length;){const p=a[d];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===c&&(c=[]);const y=s[p];for(let E=0;E<y.length;E+=2)if(y[E]===o){c.push(p,y[E+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function O_(s,o,a,c){return[s,!0,!1,o,null,0,c,a,null,null]}function $D(s,o){const a=ir(o,s);if(fa(a)){const c=a[1];48&a[2]?qg(c,a,c.template,a[8]):a[5]>0&&k_(a)}}function k_(s){for(let c=ll(s);null!==c;c=dl(c))for(let d=10;d<c.length;d++){const p=c[d];if(fa(p))if(512&p[2]){const y=p[1];qg(y,p,y.template,p[8])}else p[5]>0&&k_(p)}const a=s[1].components;if(null!==a)for(let c=0;c<a.length;c++){const d=ir(a[c],s);fa(d)&&d[5]>0&&k_(d)}}function Zw(s,o){const a=ir(o,s),c=a[1];(function P_(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(c,a),Uw(c,a,a[8])}function Xf(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Qg(s){for(;s;){s[2]|=32;const o=hs(s);if(aa(s)&&!o)return s;s=o}return null}function Jf(s,o,a,c=!0){const d=o[10];d.begin&&d.begin();try{qg(s,o,s.template,a)}catch(y){throw c&&Sl(o,y),y}finally{d.end&&d.end()}}function Xg(s,o,a){$c(0),o(s,a)}function Kw(s){return s[7]||(s[7]=[])}function GD(s){return s.cleanup||(s.cleanup=[])}function Sl(s,o){const a=s[9],c=a?a.get(Hf,null):null;c&&c.handleError(o)}function F_(s,o,a,c,d){for(let p=0;p<a.length;){const y=a[p++],E=a[p++],b=o[y],T=s.data[y];null!==T.setInput?T.setInput(b,d,c,E):b[E]=d}}function ep(s,o,a){let c=a?s.styles:null,d=a?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const E=o[y];"number"==typeof E?p=E:1==p?d=le(d,E):2==p&&(c=le(c,E+": "+o[++y]+";"))}a?s.styles=c:s.stylesWithoutHost=c,a?s.classes=d:s.classesWithoutHost=d}function Jg(s,o,a,c,d=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&c.push(On(p)),Ei(p))for(let E=10;E<p.length;E++){const b=p[E],T=b[1].firstChild;null!==T&&Jg(b[1],b,T,c)}const y=a.type;if(8&y)Jg(s,o,a.child,c);else if(32&y){const E=Sf(a,o);let b;for(;b=E();)c.push(b)}else if(16&y){const E=Tg(o,a);if(Array.isArray(E))c.push(...E);else{const b=hs(o[16]);Jg(b[1],b,E,c,!0)}}a=d?a.projectionNext:a.next}return c}class tp{get rootNodes(){const o=this._lView,a=o[1];return Jg(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Ei(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&($u(o,c),Sa(a,c))}this._attachedToViewContainer=!1}Ig(this._lView[1],this._lView)}onDestroy(o){jw(this._lView[1],this._lView,null,o)}markForCheck(){Qg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Jf(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new he(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Af(s,o){qu(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new he(902,!1);this._appRef=o}}class vx extends tp{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Jf(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class zD extends Yu{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Zt(o);return new em(a,this.ngModule)}}function qD(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class WD{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){c=It(c);const d=this.injector.get(o,y_,c);return d!==y_||a===y_?d:this.parentInjector.get(o,a,c)}}class em extends pw{get inputs(){return qD(this.componentDef.inputs)}get outputs(){return qD(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function ED(s){return s.map(wD).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,c,d){let p=(d=d||this.ngModule)instanceof Il?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new WD(o,p):o,E=y.get(mw,null);if(null===E)throw new he(407,!1);const b=y.get(lD,null),T=E.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",P=c?function PD(s,o,a){return s.selectRootElement(o,a===zt.ShadowDom)}(T,c,this.componentDef.encapsulation):fl(T,M,function wx(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(M)),G=this.componentDef.onPush?288:272,X=$o(0,null,null,1,0,null,null,null,null,null),me=Qu(null,X,null,G,null,null,E,T,b,y,null);let Ve,ze;Eu(me);try{const tt=this.componentDef;let Dt,Re=null;tt.findHostDirectiveDefs?(Dt=[],Re=new Map,tt.findHostDirectiveDefs(tt,Dt,Re),Dt.push(tt)):Dt=[tt];const kt=function so(s,o){const a=s[1];return s[22]=o,za(a,22,2,"#host",null)}(me,P),Vn=function Yw(s,o,a,c,d,p,y,E){const b=d[1];!function Hn(s,o,a,c){for(const d of s)o.mergedAttrs=Os(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(ep(o,o.mergedAttrs,!0),null!==a&&Yd(c,a,o))}(c,s,o,y);const T=p.createRenderer(o,a),M=Qu(d,Kf(a),null,a.onPush?32:16,d[s.index],s,p,T,E||null,null,null);return b.firstCreatePass&&N_(b,s,c.length-1),Xf(d,M),d[s.index]=M}(kt,P,tt,Dt,me,E,T);ze=Eo(X,22),P&&function ZD(s,o,a,c){if(c)yn(s,a,["ng-version",yw.full]);else{const{attrs:d,classes:p}=function $g(s){const o=[],a=[];let c=1,d=2;for(;c<s.length;){let p=s[c];if("string"==typeof p)2===d?""!==p&&o.push(p,s[++c]):8===d&&a.push(p);else{if(!js(d))break;d=p}c++}return{attrs:o,classes:a}}(o.selectors[0]);d&&yn(s,a,d),p&&p.length>0&&Us(s,a,p.join(" "))}}(T,tt,P,c),void 0!==a&&function KD(s,o,a){const c=s.projection=[];for(let d=0;d<o.length;d++){const p=a[d];c.push(null!=p?Array.from(p):null)}}(ze,this.ngContentSelectors,a),Ve=function L_(s,o,a,c,d,p){const y=pr(),E=d[1],b=fr(y,d);Yg(E,d,y,a,null,c);for(let M=0;M<a.length;M++)Cr(Ci(d,E,y.directiveStart+M,y),d);zw(E,d,y),b&&Cr(b,d);const T=Ci(d,E,y.directiveStart+y.componentOffset,y);if(s[8]=d[8]=T,null!==p)for(const M of p)M(T,o);return T_(E,y,s),T}(Vn,tt,Dt,Re,me,[xi]),Uw(X,me,null)}finally{fg()}return new Ex(this.componentType,Ve,jo(ze,me),me,ze)}}class Ex extends sD{constructor(o,a,c,d,p){super(),this.location=c,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new vx(d),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[o])){const p=this._rootLView;F_(p[1],p,d,o,a),Zg(p,this._tNode.index)}}get injector(){return new ci(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function xi(){const s=pr();Rs(Te()[1],s)}function tm(s){let o=function YD(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const c=[s];for(;o;){let d;if(Yr(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new he(903,!1);d=o.\u0275dir}if(d){if(a){c.push(d);const y=s;y.inputs=ps(s.inputs),y.declaredInputs=ps(s.declaredInputs),y.outputs=ps(s.outputs);const E=d.hostBindings;E&&$t(s,E);const b=d.viewQuery,T=d.contentQueries;if(b&&uh(s,b),T&&Ju(s,T),fe(s.inputs,d.inputs),fe(s.declaredInputs,d.declaredInputs),fe(s.outputs,d.outputs),Yr(d)&&d.data.animation){const M=s.data;M.animation=(M.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let y=0;y<p.length;y++){const E=p[y];E&&E.ngInherit&&E(s),E===tm&&(a=!1)}}o=Object.getPrototypeOf(o)}!function ge(s){let o=0,a=null;for(let c=s.length-1;c>=0;c--){const d=s[c];d.hostVars=o+=d.hostVars,d.hostAttrs=Os(d.hostAttrs,a=Os(a,d.hostAttrs))}}(c)}function ps(s){return s===wn?{}:s===_t?[]:s}function uh(s,o){const a=s.viewQuery;s.viewQuery=a?(c,d)=>{o(c,d),a(c,d)}:o}function Ju(s,o){const a=s.contentQueries;s.contentQueries=a?(c,d,p)=>{o(c,d,p),a(c,d,p)}:o}function $t(s,o){const a=s.hostBindings;s.hostBindings=a?(c,d)=>{o(c,d),a(c,d)}:o}let ch=null;function xl(){if(!ch){const s=St.Symbol;if(s&&s.iterator)ch=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const c=o[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(ch=c)}}}return ch}function rp(s){return!!Sr(s)&&(Array.isArray(s)||!(s instanceof Map)&&xl()in s)}function Sr(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ho(s,o,a){return s[o]=a}function jr(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function tc(s,o,a,c){const d=jr(s,o,a);return jr(s,o+1,c)||d}function dh(s,o,a,c){const d=Te();return jr(d,ss(),o)&&(Kt(),qa(pn(),d,s,o,a,c)),dh}function nc(s,o,a,c){return jr(s,ss(),a)?o+Ee(a)+c:Bt}function $_(s,o,a,c,d,p,y,E){const b=Te(),T=Kt(),M=s+22,P=T.firstCreatePass?function j_(s,o,a,c,d,p,y,E,b){const T=o.consts,M=za(o,s,4,y||null,Bi(T,E));Kg(o,a,M,Bi(T,b)),Rs(o,M);const P=M.tViews=$o(2,M,c,d,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,M),P.queries=o.queries.embeddedTView(M)),M}(M,T,b,o,a,c,d,p,y):T.data[M];si(P,!1);const G=b[11].createComment("");zu(T,b,G,P),Cr(G,b),Xf(b,b[M]=O_(G,b,G,P)),xc(P)&&S_(T,b,P),null!=y&&Wg(b,P,E)}function H_(s,o,a){const c=Te();return jr(c,ss(),o)&&rn(Kt(),pn(),c,s,o,c[11],a,!1),H_}function Nl(s,o,a,c,d){const y=d?"class":"style";F_(s,a,o.inputs[y],y,c)}function cm(s,o,a,c){const d=Te(),p=Kt(),y=22+s,E=d[11],b=d[y]=fl(E,o,function pg(){return At.lFrame.currentNamespace}()),T=p.firstCreatePass?function eC(s,o,a,c,d,p,y){const E=o.consts,T=za(o,s,2,d,Bi(E,p));return Kg(o,a,T,Bi(E,y)),null!==T.attrs&&ep(T,T.attrs,!1),null!==T.mergedAttrs&&ep(T,T.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,T),T}(y,p,d,0,o,a,c):p.data[y];return si(T,!0),Yd(E,b,T),32!=(32&T.flags)&&zu(p,d,b,T),0===function yu(){return At.lFrame.elementDepthCount}()&&Cr(b,d),function Fc(){At.lFrame.elementDepthCount++}(),xc(T)&&(S_(p,d,T),T_(p,T,d)),null!==c&&Wg(d,T),cm}function Ol(){let s=pr();wu()?function bo(){At.lFrame.isParent=!1}():(s=s.parent,si(s,!1));const o=s;!function vd(){At.lFrame.elementDepthCount--}();const a=Kt();return a.firstCreatePass&&(Rs(a,s),oa(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Wc(s){return 0!=(8&s.flags)}(o)&&Nl(a,o,Te(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Sd(s){return 0!=(16&s.flags)}(o)&&Nl(a,o,Te(),o.stylesWithoutHost,!1),Ol}function op(s,o,a,c){return cm(s,o,a,c),Ol(),op}function hm(){return Te()}function up(s){return!!s&&"function"==typeof s.then}function fm(s){return!!s&&"function"==typeof s.subscribe}const pm=fm;function gm(s,o,a,c){const d=Te(),p=Kt(),y=pr();return function z_(s,o,a,c,d,p,y){const E=xc(c),T=s.firstCreatePass&&GD(s),M=o[8],P=Kw(o);let G=!0;if(3&c.type||y){const Ve=fr(c,o),ze=y?y(Ve):Ve,tt=P.length,Dt=y?kt=>y(On(kt[c.index])):c.index;let Re=null;if(!y&&E&&(Re=function tC(s,o,a,c){const d=s.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const y=d[p];if(y===a&&d[p+1]===c){const E=o[7],b=d[p+2];return E.length>b?E[b]:null}"string"==typeof y&&(p+=2)}return null}(s,o,d,c.index)),null!==Re)(Re.__ngLastListenerFn__||Re).__ngNextListenerFn__=p,Re.__ngLastListenerFn__=p,G=!1;else{p=mm(c,o,M,p,!1);const kt=a.listen(ze,d,p);P.push(p,kt),T&&T.push(d,Dt,tt,tt+1)}}else p=mm(c,o,M,p,!1);const X=c.outputs;let me;if(G&&null!==X&&(me=X[d])){const Ve=me.length;if(Ve)for(let ze=0;ze<Ve;ze+=2){const Vn=o[me[ze]][me[ze+1]].subscribe(p),nr=P.length;P.push(p,Vn),T&&T.push(d,c.index,nr,-(nr+1))}}}(p,d,d[11],y,s,o,c),gm}function q_(s,o,a,c){try{return!1!==a(c)}catch(d){return Sl(s,d),!1}}function mm(s,o,a,c,d){return function p(y){if(y===Function)return c;Qg(s.componentOffset>-1?ir(s.index,o):o);let b=q_(o,0,c,y),T=p.__ngNextListenerFn__;for(;T;)b=q_(o,0,T,y)&&b,T=T.__ngNextListenerFn__;return d&&!1===b&&(y.preventDefault(),y.returnValue=!1),b}}function W_(s=1){return function Hy(s){return(At.lFrame.contextLView=function Hc(s,o){for(;s>0;)o=o[15],s--;return o}(s,At.lFrame.contextLView))[8]}(s)}function cp(s,o,a){return _r(s,"",o,"",a),cp}function _r(s,o,a,c,d){const p=Te(),y=nc(p,o,a,c);return y!==Bt&&rn(Kt(),pn(),p,s,y,p[11],d,!1),_r}function dp(s,o){return s<<17|o<<2}function Go(s){return s>>17&32767}function _m(s){return 2|s}function kl(s){return(131068&s)>>2}function ph(s,o){return-131069&s|o<<2}function hp(s){return 1|s}function J_(s,o,a,c,d){const p=s[a+1],y=null===o;let E=c?Go(p):kl(p),b=!1;for(;0!==E&&(!1===b||y);){const M=s[E+1];oE(s[E],o)&&(b=!0,s[E+1]=c?hp(M):_m(M)),E=c?Go(M):kl(M)}b&&(s[a+1]=c?_m(p):hp(p))}function oE(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Kn(s,o)>=0}function wm(s,o){return function gs(s,o,a,c){const d=Te(),p=Kt(),y=function oi(s){const o=At.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}(2);p.firstUpdatePass&&function mp(s,o,a,c){const d=s.data;if(null===d[a+1]){const p=d[Qr()],y=function Em(s,o){return o>=s.expandoStartIndex}(s,a);(function _h(s,o){return 0!=(s.flags&(o?8:16))})(p,c)&&null===o&&!y&&(o=!1),o=function yp(s,o,a,c){const d=function Js(s){const o=At.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(a=Pl(a=mh(null,s,o,a,c),o.attrs,c),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==d)if(a=mh(d,s,o,a,c),null===p){let b=function hE(s,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==kl(c))return s[Go(c)]}(s,o,c);void 0!==b&&Array.isArray(b)&&(b=mh(null,s,o,b[1],c),b=Pl(b,o.attrs,c),function aC(s,o,a,c){s[Go(a?o.classBindings:o.styleBindings)]=c}(s,o,c,b))}else p=function rv(s,o,a){let c;const d=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<d;p++)c=Pl(c,s[p].hostAttrs,a);return Pl(c,o.attrs,a)}(s,o,c)}return void 0!==p&&(c?o.residualClasses=p:o.residualStyles=p),a}(d,p,o,c),function fp(s,o,a,c,d,p){let y=p?o.classBindings:o.styleBindings,E=Go(y),b=kl(y);s[c]=a;let M,T=!1;if(Array.isArray(a)?(M=a[1],(null===M||Kn(a,M)>0)&&(T=!0)):M=a,d)if(0!==b){const G=Go(s[E+1]);s[c+1]=dp(G,E),0!==G&&(s[G+1]=ph(s[G+1],c)),s[E+1]=function Q_(s,o){return 131071&s|o<<17}(s[E+1],c)}else s[c+1]=dp(E,0),0!==E&&(s[E+1]=ph(s[E+1],c)),E=c;else s[c+1]=dp(b,0),0===E?E=c:s[b+1]=ph(s[b+1],c),b=c;T&&(s[c+1]=_m(s[c+1])),J_(s,M,c,!0),J_(s,M,c,!1),function sE(s,o,a,c,d){const p=d?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Kn(p,o)>=0&&(a[c+1]=hp(a[c+1]))}(o,M,s,c,p),y=dp(E,b),p?o.classBindings=y:o.styleBindings=y}(d,p,o,a,y,c)}}(p,s,y,c),o!==Bt&&jr(d,y,o)&&function gE(s,o,a,c,d,p,y,E){if(!(3&o.type))return;const b=s.data,T=b[E+1],M=function X_(s){return 1==(1&s)}(T)?yh(b,o,a,d,kl(T),y):void 0;_p(M)||(_p(p)||function rC(s){return 2==(2&s)}(T)&&(p=yh(b,null,a,d,E,y)),function Uo(s,o,a,c,d){if(o)d?s.addClass(a,c):s.removeClass(a,c);else{let p=-1===c.indexOf("-")?void 0:ls.DashCase;null==d?s.removeStyle(a,c,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=ls.Important),s.setStyle(a,c,d,p))}}(c,y,Xs(Qr(),a),d,p))}(p,p.data[Qr()],d,d[11],s,d[y+1]=function Im(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=de(w(s)))),s}(o,a),c,y)}(s,o,null,!0),wm}function mh(s,o,a,c,d){let p=null;const y=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<y&&(p=o[E],c=Pl(c,p.hostAttrs,d),p!==s);)E++;return null!==s&&(a.directiveStylingLast=E),c}function Pl(s,o,a){const c=a?1:2;let d=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?d=y:d===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Pn(s,y,!!a||o[++p]))}return void 0===s?null:s}function yh(s,o,a,c,d,p){const y=null===o;let E;for(;d>0;){const b=s[d],T=Array.isArray(b),M=T?b[1]:b,P=null===M;let G=a[d+1];G===Bt&&(G=P?_t:void 0);let X=P?Qe(G,c):M===c?G:void 0;if(T&&!_p(X)&&(X=Qe(b,c)),_p(X)&&(E=X,y))return E;const me=s[d+1];d=y?Go(me):kl(me)}if(null!==o){let b=p?o.residualClasses:o.residualStyles;null!=b&&(E=Qe(b,c))}return E}function _p(s){return void 0!==s}function sc(s,o=""){const a=Te(),c=Kt(),d=s+22,p=c.firstCreatePass?za(c,d,1,o,null):c.data[d],y=a[d]=function zd(s,o){return s.createText(o)}(a[11],o);zu(c,a,y,p),si(p,!1)}function vp(s){return bm("",s,""),vp}function bm(s,o,a){const c=Te(),d=nc(c,s,o,a);return d!==Bt&&function Xu(s,o,a){const c=Xs(o,s);!function wg(s,o,a){s.setValue(o,a)}(s[11],c,a)}(c,Qr(),d),bm}const Fl=void 0;var Am=["en",[["a","p"],["AM","PM"],Fl],[["AM","PM"],Fl,Fl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fl,"{1} 'at' {0}",Fl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function pC(s){const a=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let qo={};function xm(s,o,a){"string"!=typeof o&&(a=o,o=s[We.LocaleId]),o=o.toLowerCase().replace(/_/g,"-"),qo[o]=s,a&&(qo[o][We.ExtraData]=a)}function Cp(s){const o=function TE(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=Eh(o);if(a)return a;const c=o.split("-")[0];if(a=Eh(c),a)return a;if("en"===c)return Am;throw new he(701,!1)}function wh(s){return Cp(s)[We.PluralCase]}function Eh(s){return s in qo||(qo[s]=St.ng&&St.ng.common&&St.ng.common.locales&&St.ng.common.locales[s]),qo[s]}var We=(()=>((We=We||{})[We.LocaleId=0]="LocaleId",We[We.DayPeriodsFormat=1]="DayPeriodsFormat",We[We.DayPeriodsStandalone=2]="DayPeriodsStandalone",We[We.DaysFormat=3]="DaysFormat",We[We.DaysStandalone=4]="DaysStandalone",We[We.MonthsFormat=5]="MonthsFormat",We[We.MonthsStandalone=6]="MonthsStandalone",We[We.Eras=7]="Eras",We[We.FirstDayOfWeek=8]="FirstDayOfWeek",We[We.WeekendRange=9]="WeekendRange",We[We.DateFormat=10]="DateFormat",We[We.TimeFormat=11]="TimeFormat",We[We.DateTimeFormat=12]="DateTimeFormat",We[We.NumberSymbols=13]="NumberSymbols",We[We.NumberFormats=14]="NumberFormats",We[We.CurrencyCode=15]="CurrencyCode",We[We.CurrencySymbol=16]="CurrencySymbol",We[We.CurrencyName=17]="CurrencyName",We[We.Currencies=18]="Currencies",We[We.Directionality=19]="Directionality",We[We.PluralCase=20]="PluralCase",We[We.ExtraData=21]="ExtraData",We))();const Ih="en-US";let Wo=Ih;function Ul(s,o,a,c,d){if(s=K(s),Array.isArray(s))for(let p=0;p<s.length;p++)Ul(s[p],o,a,c,d);else{const p=Kt(),y=Te();let E=Bs(s)?s:K(s.provide),b=Fg(s);const T=pr(),M=1048575&T.providerIndexes,P=T.directiveStart,G=T.providerIndexes>>20;if(Bs(s)||!s.multi){const X=new _a(b,d,oh),me=Ni(E,o,d?M:M+G,P);-1===me?(Yc(Mo(T,y),p,E),Bm(p,s,o.length),o.push(E),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),a.push(X),y.push(X)):(a[me]=X,y[me]=X)}else{const X=Ni(E,o,M+G,P),me=Ni(E,o,M,M+G),ze=me>=0&&a[me];if(d&&!ze||!d&&!(X>=0&&a[X])){Yc(Mo(T,y),p,E);const tt=function lc(s,o,a,c,d){const p=new _a(s,a,oh);return p.multi=[],p.index=o,p.componentProviders=0,bv(p,d,c&&!a),p}(d?zE:Dv,a.length,d,c,b);!d&&ze&&(a[me].providerFactory=tt),Bm(p,s,o.length,0),o.push(E),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),a.push(tt),y.push(tt)}else Bm(p,s,X>-1?X:me,bv(a[d?me:X],b,!d&&c));!d&&c&&ze&&a[me].componentProviders++}}}function Bm(s,o,a,c){const d=Bs(o),p=function tD(s){return!!s.useClass}(o);if(d||p){const b=(p?K(o.useClass):o).prototype.ngOnDestroy;if(b){const T=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const M=T.indexOf(a);-1===M?T.push(a,[c,b]):T[M+1].push(c,b)}else T.push(a,b)}}}function bv(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function Ni(s,o,a,c){for(let d=a;d<c;d++)if(o[d]===s)return d;return-1}function Dv(s,o,a,c){return jm(this.multi,[])}function zE(s,o,a,c){const d=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=Ci(a,a[1],this.providerFactory.index,c);p=E.slice(0,y),jm(d,p);for(let b=y;b<E.length;b++)p.push(E[b])}else p=[],jm(d,p);return p}function jm(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function $m(s,o=[]){return a=>{a.providersResolver=(c,d)=>function TC(s,o,a){const c=Kt();if(c.firstCreatePass){const d=Yr(s);Ul(a,c.data,c.blueprint,d,!0),Ul(o,c.data,c.blueprint,d,!1)}}(c,d?d(s):s,o)}}class re{}class kp{}function ao(s,o){return new Mh(s,o??null)}class Mh extends re{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new zD(this);const c=dr(o);this._bootstrapComponents=Ha(c.bootstrap),this._r3Injector=CD(o,a,[{provide:re,useValue:this},{provide:Yu,useValue:this.componentFactoryResolver}],de(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Zo extends kp{constructor(o){super(),this.moduleType=o}create(o){return new Mh(this.moduleType,o)}}class SC extends re{constructor(o,a,c){super(),this.componentFactoryResolver=new zD(this),this.instance=null;const d=new hw([...o,{provide:re,useValue:this},{provide:Yu,useValue:this.componentFactoryResolver}],a||Pg(),c,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Ya(s,o,a=null){return new SC(s,o,a).injector}let qE=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=lw(0,a.type),d=c.length>0?Ya([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=gt({token:s,providedIn:"environment",factory:()=>new s(je(Il))}),s})();function Hm(s){s.getStandaloneInjector=o=>o.get(qE).getOrCreateStandaloneInjector(s)}function Sv(s,o,a,c){return zm(Te(),In(),s,o,a,c)}function Yo(s,o){const a=s[o];return a===Bt?void 0:a}function zm(s,o,a,c,d,p){const y=o+a;return jr(s,y,d)?Ho(s,y+1,p?c.call(p,d):c(d)):Yo(s,y+1)}function Nh(s,o,a,c,d,p,y,E,b){const T=o+a;return function $s(s,o,a,c,d,p){const y=tc(s,o,a,c);return tc(s,o+2,d,p)||y}(s,T,d,p,y,E)?Ho(s,T+4,b?c.call(b,d,p,y,E):c(d,p,y,E)):Yo(s,T+4)}function xv(s,o){const a=Kt();let c;const d=s+22;a.firstCreatePass?(c=function Wm(s,o){if(o)for(let a=o.length-1;a>=0;a--){const c=o[a];if(s===c.name)return c}}(o,a.pipeRegistry),a.data[d]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,c.onDestroy)):c=a.data[d];const p=c.factory||(c.factory=Ys(c.type)),y=_n(oh);try{const E=eo(!1),b=p();return eo(E),function JD(s,o,a,c){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=c}(a,Te(),d,b),b}finally{_n(y)}}function Mv(s,o,a){const c=s+22,d=Te(),p=Ms(d,c);return Gs(d,c)?zm(d,In(),o,p.transform,a,p):p.transform(a)}function Rv(s,o,a,c,d,p){const y=s+22,E=Te(),b=Ms(E,y);return Gs(E,y)?Nh(E,In(),o,b.transform,a,c,d,p,b):b.transform(a,c,d,p)}function Gs(s,o){return s[1].data[o].pure}function Km(s){return o=>{setTimeout(s,void 0,o)}}const uo=class eI extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let d=o,p=a||(()=>null),y=c;if(o&&"object"==typeof o){const b=o;d=b.next?.bind(b),p=b.error?.bind(b),y=b.complete?.bind(b)}this.__isAsync&&(p=Km(p),d&&(d=Km(d)),y&&(y=Km(y)));const E=super.subscribe({next:d,error:p,complete:y});return o instanceof J.w0&&o.add(E),E}};function Qt(){return this._results[xl()]()}class un{get changes(){return this._changes||(this._changes=new uo)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=xl(),c=un.prototype;c[a]||(c[a]=Qt)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const d=function Jr(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Od(s,o,a){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let d=s[c],p=o[c];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Qo=(()=>{class s{}return s.__NG_ELEMENT_ID__=tI,s})();const Nv=Qo,Ov=class extends Nv{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(o,a){const c=this._declarationTContainer.tViews,d=Qu(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,a||null);d[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(d[19]=y.createEmbeddedView(c)),Uw(c,d,o),new tp(d)}};function tI(){return Oh(pr(),Te())}function Oh(s,o){return 4&s.type?new Ov(o,s,jo(s,o)):null}let Vp=(()=>{class s{}return s.__NG_ELEMENT_ID__=nI,s})();function nI(){return Pv(pr(),Te())}const rI=Vp,iI=class extends rI{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return jo(this._hostTNode,this._hostLView)}get injector(){return new ci(this._hostTNode,this._hostLView)}get parentInjector(){const o=xu(this._hostTNode,this._hostLView);if(Ad(o)){const a=xo(o,this._hostLView),c=Cu(o);return new ci(a[1].data[c+8],a)}return new ci(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=sI(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,c){let d,p;"number"==typeof c?d=c:null!=c&&(d=c.index,p=c.injector);const y=o.createEmbeddedView(a||{},p);return this.insert(y,d),y}createComponent(o,a,c,d,p){const y=o&&!function Ou(s){return"function"==typeof s}(o);let E;if(y)E=a;else{const P=a||{};E=P.index,c=P.injector,d=P.projectableNodes,p=P.environmentInjector||P.ngModuleRef}const b=y?o:new em(Zt(o)),T=c||this.parentInjector;if(!p&&null==b.ngModule){const G=(y?T:this.parentInjector).get(Il,null);G&&(p=G)}const M=b.create(T,d,void 0,p);return this.insert(M.hostView,E),M}insert(o,a){const c=o._lView,d=c[1];if(function gu(s){return Ei(s[3])}(c)){const M=this.indexOf(o);if(-1!==M)this.detach(M);else{const P=c[3],G=new iI(P,P[6],P[3]);G.detach(G.indexOf(o))}}const p=this._adjustIndex(a),y=this._lContainer;!function Yy(s,o,a,c){const d=10+c,p=a.length;c>0&&(a[d-1][4]=o),c<p-10?(o[4]=a[d],ku(a,10+c,o)):(a.push(o),o[4]=null),o[3]=a;const y=o[17];null!==y&&a!==y&&function Qy(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(y,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=64}(d,c,y,p);const E=Tr(p,y),b=c[11],T=pl(b,y[7]);return null!==T&&function Ky(s,o,a,c,d,p){c[0]=d,c[6]=o,qu(s,c,a,1,d,p)}(d,y[6],b,c,T,E),o.attachToViewContainerRef(),ku(kv(y),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=sI(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=$u(this._lContainer,a);c&&(Sa(kv(this._lContainer),a),Ig(c[1],c))}detach(o){const a=this._adjustIndex(o,-1),c=$u(this._lContainer,a);return c&&null!=Sa(kv(this._lContainer),a)?new tp(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function sI(s){return s[8]}function kv(s){return s[8]||(s[8]=[])}function Pv(s,o){let a;const c=o[s.index];if(Ei(c))a=c;else{let d;if(8&s.type)d=On(c);else{const p=o[11];d=p.createComment("");const y=fr(s,o);Fa(p,pl(p,y),d,function Cg(s,o){return s.nextSibling(o)}(p,y),!1)}o[s.index]=a=O_(c,o,d,s),Xf(o,a)}return new iI(a,s,o)}class Fv{constructor(o){this.queryList=o,this.matches=null}clone(){return new Fv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ym{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let p=0;p<c;p++){const y=a.getByIndex(p);d.push(this.queries[y.indexInDeclarationView].clone())}return new Ym(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==kh(o,a).matches&&this.queries[a].setDirty()}}class oI{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class Lv{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(o,d);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new Lv(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class pc{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new pc(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const p=c[d];this.matchTNodeWithReadOption(o,a,NC(a,p)),this.matchTNodeWithReadOption(o,a,Ia(a,o,p,!1,!1))}else c===Qo?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Ia(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===nh||d===Vp||d===Qo&&4&a.type)this.addMatch(a.index,-2);else{const p=Ia(a,o,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function NC(s,o){const a=s.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function Qm(s,o,a,c){return-1===a?function tr(s,o){return 11&s.type?jo(s,o):4&s.type?Oh(s,o):null}(o,s):-2===a?function ti(s,o,a){return a===nh?jo(o,s):a===Qo?Oh(o,s):a===Vp?Pv(o,s):void 0}(s,o,c):Ci(s,s[1],a,o)}function fn(s,o,a,c){const d=o[19].queries[c];if(null===d.matches){const p=s.data,y=a.matches,E=[];for(let b=0;b<y.length;b+=2){const T=y[b];E.push(T<0?null:Qm(o,p[T],y[b+1],a.metadata.read))}d.matches=E}return d.matches}function Xm(s,o,a,c){const d=s.queries.getByIndex(a),p=d.matches;if(null!==p){const y=fn(s,o,d,a);for(let E=0;E<p.length;E+=2){const b=p[E];if(b>0)c.push(y[E/2]);else{const T=p[E+1],M=o[-b];for(let P=10;P<M.length;P++){const G=M[P];G[17]===G[3]&&Xm(G[1],G,T,c)}if(null!==M[9]){const P=M[9];for(let G=0;G<P.length;G++){const X=P[G];Xm(X[1],X,T,c)}}}}}return c}function Gl(s){const o=Te(),a=Kt(),c=Dd();$c(c+1);const d=kh(a,c);if(s.dirty&&function ha(s){return 4==(4&s[2])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const p=d.crossesNgTemplate?Xm(a,o,c,[]):fn(a,o,d,c);s.reset(p,aD),s.notifyOnChanges()}return!0}return!1}function Gr(s,o,a,c){const d=Kt();if(d.firstCreatePass){const p=pr();(function Jm(s,o,a){null===s.queries&&(s.queries=new Lv),s.queries.track(new pc(o,a))})(d,new oI(o,a,c),p.index),function zl(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(d,s),2==(2&a)&&(d.staticContentQueries=!0)}!function aI(s,o,a){const c=new un(4==(4&a));jw(s,o,c,c.destroy),null===o[19]&&(o[19]=new Ym),o[19].queries.push(new Fv(c))}(d,Te(),a)}function Vv(){return function Sn(s,o){return s[19].queries[o].queryList}(Te(),Dd())}function kh(s,o){return s.queries.getByIndex(o)}function ay(...s){}const Kv=new on("Application Initializer");let yc=(()=>{class s{constructor(a){this.appInits=a,this.resolve=ay,this.reject=ay,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(up(p))a.push(p);else if(pm(p)){const y=new Promise((E,b)=>{p.subscribe({complete:E,error:b})});a.push(y)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(je(Kv,8))},s.\u0275prov=gt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Yv=new on("AppId",{providedIn:"root",factory:function co(){return`${Kl()}${Kl()}${Kl()}`}});function Kl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const _I=new on("Platform Initializer"),$C=new on("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ht=new on("appBootstrapListener");let zp=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=gt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Yl=new on("LocaleId",{providedIn:"root",factory:()=>Ke(Yl,pt.Optional|pt.SkipSelf)||function qp(){return typeof $localize<"u"&&$localize.locale||Ih}()}),vI=new on("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class wI{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let EI=(()=>{class s{compileModuleSync(a){return new Zo(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),p=Ha(dr(a).declarations).reduce((y,E)=>{const b=Zt(E);return b&&y.push(new em(b)),y},[]);return new wI(c,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=gt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const ar=(()=>Promise.resolve(0))();function Wp(s){typeof Zone>"u"?ar.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ur{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new uo(!1),this.onMicrotaskEmpty=new uo(!1),this.onStable=new uo(!1),this.onError=new uo(!1),typeof Zone>"u")throw new he(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function bI(){let s=St.requestAnimationFrame,o=St.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function DI(s){const o=()=>{!function Zp(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(St,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,ly(s),s.isCheckStableRunning=!0,cy(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),ly(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,p,y,E)=>{try{return Jv(s),a.invokeTask(d,p,y,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),CI(s)}},onInvoke:(a,c,d,p,y,E,b)=>{try{return Jv(s),a.invoke(d,p,y,E,b)}finally{s.shouldCoalesceRunChangeDetection&&o(),CI(s)}},onHasTask:(a,c,d,p)=>{a.hasTask(d,p),c===d&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,ly(s),cy(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,d,p)=>(a.handleError(d,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ur.isInAngularZone())throw new he(909,!1)}static assertNotInAngularZone(){if(ur.isInAngularZone())throw new he(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,d){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+d,o,Xv,ay,ay);try{return p.runTask(y,a,c)}finally{p.cancelTask(y)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const Xv={};function cy(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function ly(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Jv(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function CI(s){s._nesting--,cy(s)}class ZC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new uo,this.onMicrotaskEmpty=new uo,this.onStable=new uo,this.onError=new uo}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,d){return o.apply(a,c)}}const jh=new on(""),dy=new on("");let hy,KC=(()=>{class s{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,hy||(function t0(s){hy=s}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ur.assertNotInAngularZone(),Wp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Wp(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}}return s.\u0275fac=function(a){return new(a||s)(je(ur),je(e0),je(dy))},s.\u0275prov=gt({token:s,factory:s.\u0275fac}),s})(),e0=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return hy?.findTestabilityInTree(this,a,c)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=gt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),_c=null;const n0=new on("AllowMultipleToken"),r0=new on("PlatformDestroyListeners");class TI{constructor(o,a){this.name=o,this.token=a}}function s0(s,o,a=[]){const c=`Platform: ${o}`,d=new on(c);return(p=[])=>{let y=fy();if(!y||y.injector.get(n0,!1)){const E=[...a,...p,{provide:d,useValue:!0}];s?s(E):function QC(s){if(_c&&!_c.get(n0,!1))throw new he(400,!1);_c=s;const o=s.get(AI);(function pi(s){const o=s.get(_I,null);o&&o.forEach(a=>a())})(s)}(function o0(s=[],o){return rh.create({name:o,providers:[{provide:l_,useValue:"platform"},{provide:r0,useValue:new Set([()=>_c=null])},...s]})}(E,c))}return function Xo(s){const o=fy();if(!o)throw new he(401,!1);return o}()}}function fy(){return _c?.get(AI)??null}let AI=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function MI(s,o){let a;return a="noop"===s?new ZC:("zone.js"===s?void 0:s)||new ur(o),a}(c?.ngZone,function xI(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(c)),p=[{provide:ur,useValue:d}];return d.run(()=>{const y=rh.create({providers:p,parent:this.injector,name:a.moduleType.name}),E=a.create(y),b=E.injector.get(Hf,null);if(!b)throw new he(402,!1);return d.runOutsideAngular(()=>{const T=d.onError.subscribe({next:M=>{b.handleError(M)}});E.onDestroy(()=>{gy(this._modules,E),T.unsubscribe()})}),function RI(s,o,a){try{const c=a();return up(c)?c.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(b,d,()=>{const T=E.injector.get(yc);return T.runInitializers(),T.donePromise.then(()=>(function hv(s){Ut(s,"Expected localeId to be defined"),"string"==typeof s&&(Wo=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Yl,Ih)||Ih),this._moduleDoBootstrap(E),E))})})}bootstrapModule(a,c=[]){const d=NI({},c);return function YC(s,o,a){const c=new Zo(a);return Promise.resolve(c)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const c=a.injector.get(py);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new he(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new he(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(r0,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(je(rh))},s.\u0275prov=gt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function NI(s,o){return Array.isArray(o)?o.reduce(NI,s):{...s,...o}}let py=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,c,d){this._zone=a,this._injector=c,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new O.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),y=new O.y(E=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{ur.assertNotInAngularZone(),Wp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{ur.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{b.unsubscribe(),T.unsubscribe()}});this.isStable=(0,oe.T)(p,y.pipe((0,ae.B)()))}bootstrap(a,c){const d=a instanceof pw;if(!this._injector.get(yc).done)throw!d&&Mn(a),new he(405,false);let y;y=d?a:this._injector.get(Yu).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const E=function $h(s){return s.isBoundToModule}(y)?void 0:this._injector.get(re),T=y.create(rh.NULL,[],c||y.selector,E),M=T.location.nativeElement,P=T.injector.get(jh,null);return P?.registerApplication(M),T.onDestroy(()=>{this.detachView(T.hostView),gy(this.components,T),P?.unregisterApplication(M)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new he(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;gy(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(Ht,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>gy(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new he(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(je(ur),je(Il),je(Hf))},s.\u0275prov=gt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function gy(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}function JC(){return!1}let eT=(()=>{class s{}return s.__NG_ELEMENT_ID__=PI,s})();function PI(s){return function tT(s,o,a){if(Ii(s)&&!a){const c=ir(s.index,o);return new tp(c,c)}return 47&s.type?new tp(o[16],o):null}(pr(),Te(),16==(16&s))}class UI{constructor(){}supports(o){return rp(o)}create(o){return new jI(o)}}const BI=(s,o)=>o;class jI{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||BI}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,d=0,p=null;for(;a||c;){const y=!c||a&&a.currentIndex<$I(c,d,p)?a:c,E=$I(y,d,p),b=y.currentIndex;if(y===c)d--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{p||(p=[]);const T=E-d,M=b-d;if(T!=M){for(let G=0;G<T;G++){const X=G<p.length?p[G]:p[G]=0,me=X+G;M<=me&&me<T&&(p[G]=X+1)}p[y.previousIndex]=M-T}}E!==b&&o(y,E,b)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!rp(o))throw new he(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,p,y,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)p=o[E],y=this._trackByFn(E,p),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,p,y,E)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,E),c=!0),a=a._next}else d=0,function im(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[xl()]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,E=>{y=this._trackByFn(d,E),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,E,y,d)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,y,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,d){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,d)):o=this._addAfter(new my(a,c),p,d),o}_verifyReinsertion(o,a,c,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?o=this._reinsertAfter(p,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,p=o._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new wc),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wc),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class my{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Qp{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class wc{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new Qp,this.map.set(a,c)),c.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $I(s,o,a){const c=s.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+o+d}class h0{constructor(){}supports(o){return o instanceof Map||Sr(o)}create(){return new oT}}class oT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Sr(o)))throw new he(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const p=d._prev,y=d._next;return p&&(p._next=y),y&&(y._prev=p),d._next=null,d._prev=null,d}const c=new aT(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class aT{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function HI(){return new td([new UI])}let td=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||HI()),deps:[[s,new C,new at]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new he(901,!1)}}return s.\u0275prov=gt({token:s,providedIn:"root",factory:HI}),s})();function iu(){return new yy([new h0])}let yy=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||iu()),deps:[[s,new C,new at]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new he(901,!1)}}return s.\u0275prov=gt({token:s,providedIn:"root",factory:iu}),s})();const f0=s0(null,"core",[]);let qI=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(je(py))},s.\u0275mod=En({type:s}),s.\u0275inj=ri({}),s})();function p0(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(ct,Ie,k)=>{k.d(Ie,{Z:()=>$e});var h=k(2090),J=k(4859),O=k(9681),oe=k(1877);class ae{constructor(he,Ce){this._delegate=he,this.firebase=Ce,(0,O._addComponent)(he,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(he,Ce=O._DEFAULT_ENTRY_NAME){var Ee;this._delegate.checkDestroyed();const Pe=this._delegate.container.getProvider(he);return!Pe.isInitialized()&&"EXPLICIT"===(null===(Ee=Pe.getComponent())||void 0===Ee?void 0:Ee.instantiationMode)&&Pe.initialize(),Pe.getImmediate({identifier:Ce})}_removeServiceInstance(he,Ce=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(Ce)}_addComponent(he){(0,O._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,O._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function le(){const rt=function de(rt){const he={},Ce={__esModule:!0,initializeApp:function Ae(Oe,U={}){const ye=O.initializeApp(Oe,U);if((0,h.r3)(he,ye.name))return he[ye.name];const W=new rt(ye,Ce);return he[ye.name]=W,W},app:Pe,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function xe(Oe){const U=Oe.name,ye=U.replace("-compat","");if(O._registerComponent(Oe)&&"PUBLIC"===Oe.type){const W=(Y=Pe())=>{if("function"!=typeof Y[ye])throw fe.create("invalid-app-argument",{appName:U});return Y[ye]()};void 0!==Oe.serviceProps&&(0,h.ZB)(W,Oe.serviceProps),Ce[ye]=W,rt.prototype[ye]=function(...Y){return this._getService.bind(this,U).apply(this,Oe.multipleInstances?Y:[])}}return"PUBLIC"===Oe.type?Ce[ye]:null},removeApp:function Ee(Oe){delete he[Oe]},useAsService:function Fe(Oe,U){return"serverAuth"===U?null:U},modularAPIs:O}};function Pe(Oe){if(!(0,h.r3)(he,Oe=Oe||O._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:Oe});return he[Oe]}return Ce.default=Ce,Object.defineProperty(Ce,"apps",{get:function _e(){return Object.keys(he).map(Oe=>he[Oe])}}),Pe.App=rt,Ce}(ae);return rt.INTERNAL=Object.assign(Object.assign({},rt.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function he(Ce){(0,h.ZB)(rt,Ce)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),rt}(),$=new oe.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const rt=self.firebase.SDK_VERSION;rt&&rt.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const $e=j;!function De(rt){(0,O.registerVersion)("@firebase/app-compat","0.2.1",rt)}()},9681:(ct,Ie,k)=>{k.r(Ie),k.d(Ie,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>fo,_DEFAULT_ENTRY_NAME:()=>cn,_addComponent:()=>Yt,_addOrOverwriteComponent:()=>wr,_apps:()=>Ut,_clearComponents:()=>ri,_components:()=>ft,_getProvider:()=>gt,_registerComponent:()=>Nr,_removeServiceInstance:()=>gn,deleteApp:()=>zs,getApp:()=>mi,getApps:()=>Pr,initializeApp:()=>Cs,onLog:()=>pt,registerVersion:()=>Wr,setLogLevel:()=>ts});var h=k(5861),J=k(4859),O=k(1877),oe=k(2090),ae=k(8766);class ie{constructor(ve){this.container=ve}getPlatformInfoString(){return this.container.getProviders().map(Ke=>{if(function fe(je){return"VERSION"===je.getComponent()?.type}(Ke)){const It=Ke.getImmediate();return`${It.library}/${It.version}`}return null}).filter(Ke=>Ke).join(" ")}}const de="@firebase/app",j=new O.Yd("@firebase/app"),cn="[DEFAULT]",Rt={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ut=new Map,ft=new Map;function Yt(je,ve){try{je.container.addComponent(ve)}catch(Ke){j.debug(`Component ${ve.name} failed to register with FirebaseApp ${je.name}`,Ke)}}function wr(je,ve){je.container.addOrOverwriteComponent(ve)}function Nr(je){const ve=je.name;if(ft.has(ve))return j.debug(`There were multiple attempts to register component ${ve}.`),!1;ft.set(ve,je);for(const Ke of Ut.values())Yt(Ke,je);return!0}function gt(je,ve){const Ke=je.container.getProvider("heartbeat").getImmediate({optional:!0});return Ke&&Ke.triggerHeartbeat(),je.container.getProvider(ve)}function gn(je,ve,Ke=cn){gt(je,ve).clearInstance(Ke)}function ri(){ft.clear()}const Or=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class kr{constructor(ve,Ke,It){this._isDeleted=!1,this._options=Object.assign({},ve),this._config=Object.assign({},Ke),this._name=Ke.name,this._automaticDataCollectionEnabled=Ke.automaticDataCollectionEnabled,this._container=It,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ve){this._isDeleted=ve}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}const fo="9.16.0";function Cs(je,ve={}){let Ke=je;"object"!=typeof ve&&(ve={name:ve});const It=Object.assign({name:cn,automaticDataCollectionEnabled:!1},ve),Tt=It.name;if("string"!=typeof Tt||!Tt)throw Or.create("bad-app-name",{appName:String(Tt)});if(Ke||(Ke=(0,oe.aH)()),!Ke)throw Or.create("no-options");const Pt=Ut.get(Tt);if(Pt){if((0,oe.vZ)(Ke,Pt.options)&&(0,oe.vZ)(It,Pt.config))return Pt;throw Or.create("duplicate-app",{appName:Tt})}const B=new J.H0(Tt);for(const Z of ft.values())B.addComponent(Z);const L=new kr(Ke,It,B);return Ut.set(Tt,L),L}function mi(je=cn){const ve=Ut.get(je);if(!ve&&je===cn)return Cs();if(!ve)throw Or.create("no-app",{appName:je});return ve}function Pr(){return Array.from(Ut.values())}function zs(je){return ln.apply(this,arguments)}function ln(){return(ln=(0,h.Z)(function*(je){const ve=je.name;Ut.has(ve)&&(Ut.delete(ve),yield Promise.all(je.container.getProviders().map(Ke=>Ke.delete())),je.isDeleted=!0)})).apply(this,arguments)}function Wr(je,ve,Ke){var It;let Tt=null!==(It=Rt[je])&&void 0!==It?It:je;Ke&&(Tt+=`-${Ke}`);const Pt=Tt.match(/\s|\//),B=ve.match(/\s|\//);if(Pt||B){const L=[`Unable to register library "${Tt}" with version "${ve}":`];return Pt&&L.push(`library name "${Tt}" contains illegal characters (whitespace or "/")`),Pt&&B&&L.push("and"),B&&L.push(`version name "${ve}" contains illegal characters (whitespace or "/")`),void j.warn(L.join(" "))}Nr(new J.wA(`${Tt}-version`,()=>({library:Tt,version:ve}),"VERSION"))}function pt(je,ve){if(null!==je&&"function"!=typeof je)throw Or.create("invalid-log-argument");(0,O.Am)(je,ve)}function ts(je){(0,O.Ub)(je)}const Fr="firebase-heartbeat-store";let Ts=null;function St(){return Ts||(Ts=(0,ae.X3)("firebase-heartbeat-database",1,{upgrade:(je,ve)=>{0===ve&&je.createObjectStore(Fr)}}).catch(je=>{throw Or.create("idb-open",{originalErrorMessage:je.message})})),Ts}function wt(){return(wt=(0,h.Z)(function*(je){try{return(yield St()).transaction(Fr).objectStore(Fr).get(vn(je))}catch(ve){if(ve instanceof oe.ZR)j.warn(ve.message);else{const Ke=Or.create("idb-get",{originalErrorMessage:ve?.message});j.warn(Ke.message)}}})).apply(this,arguments)}function ns(je,ve){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,h.Z)(function*(je,ve){try{const It=(yield St()).transaction(Fr,"readwrite");return yield It.objectStore(Fr).put(ve,vn(je)),It.done}catch(Ke){if(Ke instanceof oe.ZR)j.warn(Ke.message);else{const It=Or.create("idb-set",{originalErrorMessage:Ke?.message});j.warn(It.message)}}})).apply(this,arguments)}function vn(je){return`${je.name}!${je.options.appId}`}class ea{constructor(ve){this.container=ve,this._heartbeatsCache=null;const Ke=this.container.getProvider("app").getImmediate();this._storage=new Wt(Ke),this._heartbeatsCachePromise=this._storage.read().then(It=>(this._heartbeatsCache=It,It))}triggerHeartbeat(){var ve=this;return(0,h.Z)(function*(){const It=ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Tt=nn();if(null===ve._heartbeatsCache&&(ve._heartbeatsCache=yield ve._heartbeatsCachePromise),ve._heartbeatsCache.lastSentHeartbeatDate!==Tt&&!ve._heartbeatsCache.heartbeats.some(Pt=>Pt.date===Tt))return ve._heartbeatsCache.heartbeats.push({date:Tt,agent:It}),ve._heartbeatsCache.heartbeats=ve._heartbeatsCache.heartbeats.filter(Pt=>{const B=new Date(Pt.date).valueOf();return Date.now()-B<=2592e6}),ve._storage.overwrite(ve._heartbeatsCache)})()}getHeartbeatsHeader(){var ve=this;return(0,h.Z)(function*(){if(null===ve._heartbeatsCache&&(yield ve._heartbeatsCachePromise),null===ve._heartbeatsCache||0===ve._heartbeatsCache.heartbeats.length)return"";const Ke=nn(),{heartbeatsToSend:It,unsentEntries:Tt}=function rs(je,ve=1024){const Ke=[];let It=je.slice();for(const Tt of je){const Pt=Ke.find(B=>B.agent===Tt.agent);if(Pt){if(Pt.dates.push(Tt.date),Ir(Ke)>ve){Pt.dates.pop();break}}else if(Ke.push({agent:Tt.agent,dates:[Tt.date]}),Ir(Ke)>ve){Ke.pop();break}It=It.slice(1)}return{heartbeatsToSend:Ke,unsentEntries:It}}(ve._heartbeatsCache.heartbeats),Pt=(0,oe.L)(JSON.stringify({version:2,heartbeats:It}));return ve._heartbeatsCache.lastSentHeartbeatDate=Ke,Tt.length>0?(ve._heartbeatsCache.heartbeats=Tt,yield ve._storage.overwrite(ve._heartbeatsCache)):(ve._heartbeatsCache.heartbeats=[],ve._storage.overwrite(ve._heartbeatsCache)),Pt})()}}function nn(){return(new Date).toISOString().substring(0,10)}class Wt{constructor(ve){this.app=ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ve=this;return(0,h.Z)(function*(){return(yield ve._canUseIndexedDBPromise)&&(yield function mt(je){return wt.apply(this,arguments)}(ve.app))||{heartbeats:[]}})()}overwrite(ve){var Ke=this;return(0,h.Z)(function*(){var It;if(yield Ke._canUseIndexedDBPromise){const Pt=yield Ke.read();return ns(Ke.app,{lastSentHeartbeatDate:null!==(It=ve.lastSentHeartbeatDate)&&void 0!==It?It:Pt.lastSentHeartbeatDate,heartbeats:ve.heartbeats})}})()}add(ve){var Ke=this;return(0,h.Z)(function*(){var It;if(yield Ke._canUseIndexedDBPromise){const Pt=yield Ke.read();return ns(Ke.app,{lastSentHeartbeatDate:null!==(It=ve.lastSentHeartbeatDate)&&void 0!==It?It:Pt.lastSentHeartbeatDate,heartbeats:[...Pt.heartbeats,...ve.heartbeats]})}})()}}function Ir(je){return(0,oe.L)(JSON.stringify({version:2,heartbeats:je})).length}!function Fi(je){Nr(new J.wA("platform-logger",ve=>new ie(ve),"PRIVATE")),Nr(new J.wA("heartbeat",ve=>new ea(ve),"PRIVATE")),Wr(de,"0.9.1",je),Wr(de,"0.9.1","esm2017"),Wr("fire-js","")}("")},4859:(ct,Ie,k)=>{k.d(Ie,{H0:()=>de,wA:()=>O});var h=k(5861),J=k(2090);class O{constructor(j,$,K){this.name=j,this.instanceFactory=$,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const oe="[DEFAULT]";class ae{constructor(j,$){this.name=j,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const $=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has($)){const K=new J.BH;if(this.instancesDeferred.set($,K),this.isInitialized($)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:$});Ue&&K.resolve(Ue)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(j){var $;const K=this.normalizeInstanceIdentifier(j?.identifier),Ue=null!==($=j?.optional)&&void 0!==$&&$;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(De){if(Ue)return null;throw De}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function fe(le){return"EAGER"===le.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[$,K]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier($);try{const De=this.getOrInitializeService({instanceIdentifier:Ue});K.resolve(De)}catch{}}}}clearInstance(j=oe){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,h.Z)(function*(){const $=Array.from(j.instances.values());yield Promise.all([...$.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...$.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=oe){return this.instances.has(j)}getOptions(j=oe){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:$={}}=j,K=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:K,options:$});for(const[De,$e]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(De)&&$e.resolve(Ue);return Ue}onInit(j,$){var K;const Ue=this.normalizeInstanceIdentifier($),De=null!==(K=this.onInitCallbacks.get(Ue))&&void 0!==K?K:new Set;De.add(j),this.onInitCallbacks.set(Ue,De);const $e=this.instances.get(Ue);return $e&&j($e,Ue),()=>{De.delete(j)}}invokeOnInitCallbacks(j,$){const K=this.onInitCallbacks.get($);if(K)for(const Ue of K)try{Ue(j,$)}catch{}}getOrInitializeService({instanceIdentifier:j,options:$={}}){let K=this.instances.get(j);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(le=j,le===oe?void 0:le),options:$}),this.instances.set(j,K),this.instancesOptions.set(j,$),this.invokeOnInitCallbacks(K,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,K)}catch{}var le;return K||null}normalizeInstanceIdentifier(j=oe){return this.component?this.component.multipleInstances?j:oe:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const $=this.getProvider(j.name);if($.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);$.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const $=new ae(j,this);return this.providers.set(j,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(ct,Ie,k)=>{k.d(Ie,{Am:()=>le,Ub:()=>de,Yd:()=>fe,in:()=>J});const h=[];var J=(()=>{return(j=J||(J={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",J;var j})();const O={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},oe=J.INFO,ae={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},ie=(j,$,...K)=>{if($<j.logLevel)return;const Ue=(new Date).toISOString(),De=ae[$];if(!De)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[De](`[${Ue}]  ${j.name}:`,...K)};class fe{constructor($){this.name=$,this._logLevel=oe,this._logHandler=ie,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in J))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?O[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...$),this._logHandler(this,J.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...$),this._logHandler(this,J.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,J.INFO,...$),this._logHandler(this,J.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,J.WARN,...$),this._logHandler(this,J.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...$),this._logHandler(this,J.ERROR,...$)}}function de(j){h.forEach($=>{$.setLogLevel(j)})}function le(j,$){for(const K of h){let Ue=null;$&&$.level&&(Ue=O[$.level]),K.userLogHandler=null===j?null:(De,$e,...rt)=>{const he=rt.map(Ce=>{if(null==Ce)return null;if("string"==typeof Ce)return Ce;if("number"==typeof Ce||"boolean"==typeof Ce)return Ce.toString();if(Ce instanceof Error)return Ce.message;try{return JSON.stringify(Ce)}catch{return null}}).filter(Ce=>Ce).join(" ");$e>=(Ue??De.logLevel)&&j({level:J[$e].toLowerCase(),message:he,args:rt,type:De.name})}}}},259:(ct,Ie,k)=>{k.d(Ie,{C6:()=>h.getApps,Mq:()=>h.getApp});var h=k(9681);(0,h.registerVersion)("firebase","9.16.0","app")},9260:(ct,Ie,k)=>{k.d(Ie,{Z:()=>h.Z});var h=k(3942);h.Z.registerVersion("firebase","9.16.0","app-compat")},750:(ct,Ie,k)=>{k.r(Ie);var h=k(5861),J=k(3942),O=k(2090),oe=k(9681),ae=k(1877),ie=k(655),fe=k(4859);const $e=function Ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},rt=function De(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},he=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ee=new ae.Yd("@firebase/auth");function Pe(_,...f){Ee.logLevel<=ae.in.ERROR&&Ee.error(`Auth (${oe.SDK_VERSION}): ${_}`,...f)}function Ae(_,...f){throw Oe(_,...f)}function _e(_,...f){return Oe(_,...f)}function xe(_,f,g){const w=Object.assign(Object.assign({},rt()),{[f]:g});return new O.LL("auth","Firebase",w).create(f,{appName:_.name})}function Fe(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Ae(_,"argument-error"),xe(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Oe(_,...f){if("string"!=typeof _){const g=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=_.name),_._errorFactory.create(g,...w)}return he.create(_,...f)}function U(_,f,...g){if(!_)throw Oe(f,...g)}function ye(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Pe(f),new Error(f)}function W(_,f){_||ye(f)}const Y=new Map;function se(_){W(_ instanceof Function,"Expected a class definition");let f=Y.get(_);return f?(W(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,Y.set(_,f),f)}function ke(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function lt(){return"http:"===Xt()||"https:"===Xt()}function Xt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Ut{constructor(f,g){this.shortDelay=f,this.longDelay=g,W(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function cn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(lt()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ft(_,f){W(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class Yt{static initialize(f,g,w){this.fetchImpl=f,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Nr=new Ut(3e4,6e4);function gt(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function gn(_,f,g,w){return ri.apply(this,arguments)}function ri(){return(ri=(0,h.Z)(function*(_,f,g,w,A={}){return qr(_,A,(0,h.Z)(function*(){let R={},q={};w&&("GET"===f?q=w:R={body:JSON.stringify(w)});const ce=(0,O.xO)(Object.assign({key:_.config.apiKey},q)).slice(1),Be=yield _._getAdditionalHeaders();return Be["Content-Type"]="application/json",_.languageCode&&(Be["X-Firebase-Locale"]=_.languageCode),Yt.fetch()(Cs(_,_.config.apiHost,g,ce),Object.assign({method:f,headers:Be,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function qr(_,f,g){return Or.apply(this,arguments)}function Or(){return(Or=(0,h.Z)(function*(_,f,g){_._canInitEmulator=!1;const w=Object.assign(Object.assign({},wr),f);try{const A=new mi(_),R=yield Promise.race([g(),A.promise]);A.clearNetworkTimeout();const q=yield R.json();if("needConfirmation"in q)throw Pr(_,"account-exists-with-different-credential",q);if(R.ok&&!("errorMessage"in q))return q;{const ce=R.ok?q.errorMessage:q.error.message,[Be,Ye]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Be)throw Pr(_,"credential-already-in-use",q);if("EMAIL_EXISTS"===Be)throw Pr(_,"email-already-in-use",q);if("USER_DISABLED"===Be)throw Pr(_,"user-disabled",q);const vt=w[Be]||Be.toLowerCase().replace(/[_\s]+/g,"-");if(Ye)throw xe(_,vt,Ye);Ae(_,vt)}}catch(A){if(A instanceof O.ZR)throw A;Ae(_,"network-request-failed")}})).apply(this,arguments)}function kr(_,f,g,w){return fo.apply(this,arguments)}function fo(){return(fo=(0,h.Z)(function*(_,f,g,w,A={}){const R=yield gn(_,f,g,w,A);return"mfaPendingCredential"in R&&Ae(_,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Cs(_,f,g,w){const A=`${f}${g}?${w}`;return _.config.emulator?ft(_.config,A):`${_.config.apiScheme}://${A}`}class mi{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(_e(this.auth,"network-request-failed")),Nr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pr(_,f,g){const w={appName:_.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const A=_e(_,f,w);return A.customData._tokenResponse=g,A}function ln(){return(ln=(0,h.Z)(function*(_,f){return gn(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Wr(_,f){return pt.apply(this,arguments)}function pt(){return(pt=(0,h.Z)(function*(_,f){return gn(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ts(_,f){return yi.apply(this,arguments)}function yi(){return(yi=(0,h.Z)(function*(_,f){return gn(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function _n(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function St(){return(St=(0,h.Z)(function*(_,f=!1){const g=(0,O.m9)(_),w=yield g.getIdToken(f),A=wt(w);U(A&&A.exp&&A.auth_time&&A.iat,g.auth,"internal-error");const R="object"==typeof A.firebase?A.firebase:void 0,q=R?.sign_in_provider;return{claims:A,token:w,authTime:_n(mt(A.auth_time)),issuedAtTime:_n(mt(A.iat)),expirationTime:_n(mt(A.exp)),signInProvider:q||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function mt(_){return 1e3*Number(_)}function wt(_){const[f,g,w]=_.split(".");if(void 0===f||void 0===g||void 0===w)return Pe("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,O.tV)(g);return A?JSON.parse(A):(Pe("Failed to decode base64 JWT payload"),null)}catch(A){return Pe("Caught error parsing JWT payload as JSON",A?.toString()),null}}function Dn(_,f){return vn.apply(this,arguments)}function vn(){return(vn=(0,h.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(w){throw w instanceof O.ZR&&_i(w)&&_.auth.currentUser===_&&(yield _.auth.signOut()),w}})).apply(this,arguments)}function _i({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Er{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const A=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,h.Z)(function*(){yield g.iteration()}),w)}iteration(){var f=this;return(0,h.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class ea{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=_n(this.lastLoginAt),this.creationTime=_n(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function nn(_){return rs.apply(this,arguments)}function rs(){return(rs=(0,h.Z)(function*(_){var f;const g=_.auth,w=yield _.getIdToken(),A=yield Dn(_,ts(g,{idToken:w}));U(A?.users.length,g,"internal-error");const R=A.users[0];_._notifyReloadListener(R);const q=null!==(f=R.providerUserInfo)&&void 0!==f&&f.length?je(R.providerUserInfo):[],ce=Fi(_.providerData,q),vt=!!_.isAnonymous&&!(_.email&&R.passwordHash||ce?.length),ht={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:ce,metadata:new ea(R.createdAt,R.lastLoginAt),isAnonymous:vt};Object.assign(_,ht)})).apply(this,arguments)}function Ir(){return(Ir=(0,h.Z)(function*(_){const f=(0,O.m9)(_);yield nn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Fi(_,f){return[..._.filter(w=>!f.some(A=>A.providerId===w.providerId)),...f]}function je(_){return _.map(f=>{var{providerId:g}=f,w=(0,ie._T)(f,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Ke(){return(Ke=(0,h.Z)(function*(_,f){const g=yield qr(_,{},(0,h.Z)(function*(){const w=(0,O.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:A,apiKey:R}=_.config,q=Cs(_,A,"/v1/token",`key=${R}`),ce=yield _._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",Yt.fetch()(q,{method:"POST",headers:ce,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class It{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){U(f.idToken,"internal-error"),U(typeof f.idToken<"u","internal-error"),U(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function ns(_){const f=wt(_);return U(f,"internal-error"),U(typeof f.exp<"u","internal-error"),U(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var w=this;return(0,h.Z)(function*(){return U(!w.accessToken||w.refreshToken,f,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var w=this;return(0,h.Z)(function*(){const{accessToken:A,refreshToken:R,expiresIn:q}=yield function ve(_,f){return Ke.apply(this,arguments)}(f,g);w.updateTokensAndExpiration(A,R,Number(q))})()}updateTokensAndExpiration(f,g,w){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,g){const{refreshToken:w,accessToken:A,expirationTime:R}=g,q=new It;return w&&(U("string"==typeof w,"internal-error",{appName:f}),q.refreshToken=w),A&&(U("string"==typeof A,"internal-error",{appName:f}),q.accessToken=A),R&&(U("number"==typeof R,"internal-error",{appName:f}),q.expirationTime=R),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new It,this.toJSON())}_performRefresh(){return ye("not implemented")}}function Tt(_,f){U("string"==typeof _||typeof _>"u","internal-error",{appName:f})}class Pt{constructor(f){var{uid:g,auth:w,stsTokenManager:A}=f,R=(0,ie._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Er(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new ea(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,h.Z)(function*(){const w=yield Dn(g,g.stsTokenManager.getToken(g.auth,f));return U(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(f){return function Ts(_){return St.apply(this,arguments)}(this,f)}reload(){return function Wt(_){return Ir.apply(this,arguments)}(this)}_assign(f){this!==f&&(U(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Pt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var w=this;return(0,h.Z)(function*(){let A=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),A=!0),g&&(yield nn(w)),yield w.auth._persistUserIfCurrent(w),A&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,h.Z)(function*(){const g=yield f.getIdToken();return yield Dn(f,function zs(_,f){return ln.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var w,A,R,q,ce,Be,Ye,vt;const ht=null!==(w=g.displayName)&&void 0!==w?w:void 0,$n=null!==(A=g.email)&&void 0!==A?A:void 0,Zi=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,Zu=null!==(q=g.photoURL)&&void 0!==q?q:void 0,Xd=null!==(ce=g.tenantId)&&void 0!==ce?ce:void 0,_l=null!==(Be=g._redirectEventId)&&void 0!==Be?Be:void 0,hi=null!==(Ye=g.createdAt)&&void 0!==Ye?Ye:void 0,Ku=null!==(vt=g.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:Jd,emailVerified:vl,isAnonymous:eh,providerData:Lf,stsTokenManager:Ng}=g;U(Jd&&Ng,f,"internal-error");const t_=It.fromJSON(this.name,Ng);U("string"==typeof Jd,f,"internal-error"),Tt(ht,f.name),Tt($n,f.name),U("boolean"==typeof vl,f,"internal-error"),U("boolean"==typeof eh,f,"internal-error"),Tt(Zi,f.name),Tt(Zu,f.name),Tt(Xd,f.name),Tt(_l,f.name),Tt(hi,f.name),Tt(Ku,f.name);const wl=new Pt({uid:Jd,auth:f,email:$n,emailVerified:vl,displayName:ht,isAnonymous:eh,photoURL:Zu,phoneNumber:Zi,tenantId:Xd,stsTokenManager:t_,createdAt:hi,lastLoginAt:Ku});return Lf&&Array.isArray(Lf)&&(wl.providerData=Lf.map($a=>Object.assign({},$a))),_l&&(wl._redirectEventId=_l),wl}static _fromIdTokenResponse(f,g,w=!1){return(0,h.Z)(function*(){const A=new It;A.updateFromServerResponse(g);const R=new Pt({uid:g.localId,auth:f,stsTokenManager:A,isAnonymous:w});return yield nn(R),R})()}}const L=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(g,w){var A=this;return(0,h.Z)(function*(){A.storage[g]=w})()}_get(g){var w=this;return(0,h.Z)(function*(){const A=w.storage[g];return void 0===A?null:A})()}_remove(g){var w=this;return(0,h.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return _.type="NONE",_})();function Z(_,f,g){return`firebase:${_}:${f}:${g}`}class pe{constructor(f,g,w){this.persistence=f,this.auth=g,this.userKey=w;const{config:A,name:R}=this.auth;this.fullUserKey=Z(this.userKey,A.apiKey,R),this.fullPersistenceKey=Z("persistence",A.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,h.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?Pt._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,h.Z)(function*(){if(g.persistence===f)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,w="authUser"){return(0,h.Z)(function*(){if(!g.length)return new pe(se(L),f,w);const A=(yield Promise.all(g.map(function(){var Ye=(0,h.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return Ye.apply(this,arguments)}}()))).filter(Ye=>Ye);let R=A[0]||se(L);const q=Z(w,f.config.apiKey,f.name);let ce=null;for(const Ye of g)try{const vt=yield Ye._get(q);if(vt){const ht=Pt._fromJSON(f,vt);Ye!==R&&(ce=ht),R=Ye;break}}catch{}const Be=A.filter(Ye=>Ye._shouldAllowMigration);return R._shouldAllowMigration&&Be.length?(R=Be[0],ce&&(yield R._set(q,ce.toJSON())),yield Promise.all(g.map(function(){var Ye=(0,h.Z)(function*(vt){if(vt!==R)try{yield vt._remove(q)}catch{}});return function(vt){return Ye.apply(this,arguments)}}())),new pe(R,f,w)):new pe(R,f,w)})()}}function ee(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(wn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(et(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(rr(f))return"Blackberry";if(jt(f))return"Webos";if(Ft(f))return"Safari";if((f.includes("chrome/")||zt(f))&&!f.includes("edge/"))return"Chrome";if(_t(f))return"Android";{const w=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function et(_=(0,O.z$)()){return/firefox\//i.test(_)}function Ft(_=(0,O.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function zt(_=(0,O.z$)()){return/crios\//i.test(_)}function wn(_=(0,O.z$)()){return/iemobile/i.test(_)}function _t(_=(0,O.z$)()){return/android/i.test(_)}function rr(_=(0,O.z$)()){return/blackberry/i.test(_)}function jt(_=(0,O.z$)()){return/webos/i.test(_)}function Wn(_=(0,O.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function tf(_=(0,O.z$)()){return Wn(_)||_t(_)||jt(_)||rr(_)||/windows phone/i.test(_)||wn(_)}function uu(_,f=[]){let g;switch(_){case"Browser":g=ee((0,O.z$)());break;case"Worker":g=`${ee((0,O.z$)())}-${_}`;break;default:g=_}const w=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${oe.SDK_VERSION}/${w}`}class Sc{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const w=R=>new Promise((q,ce)=>{try{q(f(R))}catch(Be){ce(Be)}});w.onAbort=g,this.queue.push(w);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,h.Z)(function*(){if(g.auth.currentUser===f)return;const w=[];try{for(const A of g.queue)yield A(f),A.onAbort&&w.push(A.onAbort)}catch(A){w.reverse();for(const R of w)try{R()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:A?.message})}})()}}class ud{constructor(f,g,w){this.app=f,this.heartbeatServiceProvider=g,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cd(this),this.idTokenSubscription=new cd(this),this.beforeStateQueue=new Sc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=he,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(f,g){var w=this;return g&&(this._popupRedirectResolver=se(g)),this._initializationPromise=this.queue((0,h.Z)(function*(){var A,R;if(!w._deleted&&(w.persistenceManager=yield pe.create(w,f),!w._deleted)){if(null!==(A=w._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(R=w.currentUser)||void 0===R?void 0:R.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,h.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,h.Z)(function*(){var w;const A=yield g.assertedPersistence.getCurrentUser();let R=A,q=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ce=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,Be=R?._redirectEventId,Ye=yield g.tryRedirectSignIn(f);(!ce||ce===Be)&&Ye?.user&&(R=Ye.user,q=!0)}if(!R)return g.directlySetCurrentUser(null);if(!R._redirectEventId){if(q)try{yield g.beforeStateQueue.runMiddleware(R)}catch(ce){R=A,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ce))}return R?g.reloadAndSetCurrentUserOrClear(R):g.directlySetCurrentUser(null)}return U(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===R._redirectEventId?g.directlySetCurrentUser(R):g.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(f){var g=this;return(0,h.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,h.Z)(function*(){try{yield nn(f)}catch(w){if("auth/network-request-failed"!==w?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Rt(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,h.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,h.Z)(function*(){const w=f?(0,O.m9)(f):null;return w&&U(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(f,g=!1){var w=this;return(0,h.Z)(function*(){if(!w._deleted)return f&&U(w.tenantId===f.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(f)),w.queue((0,h.Z)(function*(){yield w.directlySetCurrentUser(f),w.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,h.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,h.Z)(function*(){yield g.assertedPersistence.setPersistence(se(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new O.LL("auth","Firebase",f())}onAuthStateChanged(f,g,w){return this.registerStateListener(this.authStateSubscription,f,g,w)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,w){return this.registerStateListener(this.idTokenSubscription,f,g,w)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var w=this;return(0,h.Z)(function*(){const A=yield w.getOrInitRedirectPersistenceManager(g);return null===f?A.removeCurrentUser():A.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,h.Z)(function*(){if(!g.redirectPersistenceManager){const w=f&&se(f)||g._popupRedirectResolver;U(w,g,"argument-error"),g.redirectPersistenceManager=yield pe.create(g,[se(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,h.Z)(function*(){var w,A;return g._isInitialized&&(yield g.queue((0,h.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===f?g._currentUser:(null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,h.Z)(function*(){if(f===g.currentUser)return g.queue((0,h.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,w,A){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),q=this._isInitialized?Promise.resolve():this._initializationPromise;return U(q,this,"internal-error"),q.then(()=>R(this.currentUser)),"function"==typeof g?f.addObserver(g,w,A):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,h.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=uu(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,h.Z)(function*(){var g;const w={"X-Client-Version":f.clientVersion};f.app.options.appId&&(w["X-Firebase-gmpid"]=f.app.options.appId);const A=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return A&&(w["X-Firebase-Client"]=A),w})()}}function En(_){return(0,O.m9)(_)}class cd{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,O.ne)(g=>this.observer=g)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ra(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Zt(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class xn{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return ye("not implemented")}_getIdTokenResponse(f){return ye("not implemented")}_linkToIdToken(f,g){return ye("not implemented")}_getReauthenticationResolver(f){return ye("not implemented")}}function Mn(_,f){return dr.apply(this,arguments)}function dr(){return(dr=(0,h.Z)(function*(_,f){return gn(_,"POST","/v1/accounts:resetPassword",gt(_,f))})).apply(this,arguments)}function Li(_,f){return qe.apply(this,arguments)}function qe(){return(qe=(0,h.Z)(function*(_,f){return gn(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function xt(_,f){return dn.apply(this,arguments)}function dn(){return(dn=(0,h.Z)(function*(_,f){return gn(_,"POST","/v1/accounts:update",gt(_,f))})).apply(this,arguments)}function vi(){return(vi=(0,h.Z)(function*(_,f){return kr(_,"POST","/v1/accounts:signInWithPassword",gt(_,f))})).apply(this,arguments)}function Rn(_,f){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,h.Z)(function*(_,f){return gn(_,"POST","/v1/accounts:sendOobCode",gt(_,f))})).apply(this,arguments)}function mn(_,f){return go.apply(this,arguments)}function go(){return(go=(0,h.Z)(function*(_,f){return Rn(_,f)})).apply(this,arguments)}function qs(_,f){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,h.Z)(function*(_,f){return Rn(_,f)})).apply(this,arguments)}function cu(_,f){return mo.apply(this,arguments)}function mo(){return(mo=(0,h.Z)(function*(_,f){return Rn(_,f)})).apply(this,arguments)}function nf(_,f){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,h.Z)(function*(_,f){return Rn(_,f)})).apply(this,arguments)}function yo(){return(yo=(0,h.Z)(function*(_,f){return kr(_,"POST","/v1/accounts:signInWithEmailLink",gt(_,f))})).apply(this,arguments)}function wi(){return(wi=(0,h.Z)(function*(_,f){return kr(_,"POST","/v1/accounts:signInWithEmailLink",gt(_,f))})).apply(this,arguments)}class Ss extends xn{constructor(f,g,w,A=null){super("password",w),this._email=f,this._password=g,this._tenantId=A}static _fromEmailAndPassword(f,g){return new Ss(f,g,"password")}static _fromEmailAndCode(f,g,w=null){return new Ss(f,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,h.Z)(function*(){switch(g.signInMethod){case"password":return function Zr(_,f){return vi.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function hr(_,f){return yo.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Ae(f,"internal-error")}})()}_linkToIdToken(f,g){var w=this;return(0,h.Z)(function*(){switch(w.signInMethod){case"password":return Li(f,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function sa(_,f){return wi.apply(this,arguments)}(f,{idToken:g,email:w._email,oobCode:w._password});default:Ae(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Nn(_,f){return sn.apply(this,arguments)}function sn(){return(sn=(0,h.Z)(function*(_,f){return kr(_,"POST","/v1/accounts:signInWithIdp",gt(_,f))})).apply(this,arguments)}class ii extends xn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new ii(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Ae("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:A}=g,R=(0,ie._T)(g,["providerId","signInMethod"]);if(!w||!A)return null;const q=new ii(w,A);return q.idToken=R.idToken||void 0,q.accessToken=R.accessToken||void 0,q.secret=R.secret,q.nonce=R.nonce,q.pendingToken=R.pendingToken||null,q}_getIdTokenResponse(f){return Nn(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,Nn(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Nn(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,O.xO)(g)}return f}}function ld(_,f){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,h.Z)(function*(_,f){return gn(_,"POST","/v1/accounts:sendVerificationCode",gt(_,f))})).apply(this,arguments)}function Lr(){return(Lr=(0,h.Z)(function*(_,f){return kr(_,"POST","/v1/accounts:signInWithPhoneNumber",gt(_,f))})).apply(this,arguments)}function dd(){return(dd=(0,h.Z)(function*(_,f){const g=yield kr(_,"POST","/v1/accounts:signInWithPhoneNumber",gt(_,f));if(g.temporaryProof)throw Pr(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Kr={USER_NOT_FOUND:"user-not-found"};function oa(){return(oa=(0,h.Z)(function*(_,f){return kr(_,"POST","/v1/accounts:signInWithPhoneNumber",gt(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Kr)})).apply(this,arguments)}class Ii extends xn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Ii({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Ii({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function Zs(_,f){return Lr.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Dr(_,f){return dd.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Ei(_,f){return oa.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:w,verificationCode:A}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:w,code:A}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:w,phoneNumber:A,temporaryProof:R}=f;return w||g||A||R?new Ii({verificationId:g,verificationCode:w,phoneNumber:A,temporaryProof:R}):null}}class aa{constructor(f){var g,w,A,R,q,ce;const Be=(0,O.zd)((0,O.pd)(f)),Ye=null!==(g=Be.apiKey)&&void 0!==g?g:null,vt=null!==(w=Be.oobCode)&&void 0!==w?w:null,ht=function xc(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Be.mode)&&void 0!==A?A:null);U(Ye&&vt&&ht,"argument-error"),this.apiKey=Ye,this.operation=ht,this.code=vt,this.continueUrl=null!==(R=Be.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(q=Be.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(ce=Be.tenantId)&&void 0!==ce?ce:null}static parseLink(f){const g=function Yr(_){const f=(0,O.zd)((0,O.pd)(_)).link,g=f?(0,O.zd)((0,O.pd)(f)).deep_link_id:null,w=(0,O.zd)((0,O.pd)(_)).deep_link_id;return(w?(0,O.zd)((0,O.pd)(w)).link:null)||w||g||f||_}(f);try{return new aa(g)}catch{return null}}}let Mc=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,w){return Ss._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const A=aa.parseLink(w);return U(A,"argument-error"),Ss._fromEmailAndCode(g,A.code,A.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class is{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Ks extends is{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class ua extends Ks{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return U("providerId"in g&&"signInMethod"in g,"argument-error"),ii._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return U(f.idToken||f.accessToken,"argument-error"),ii._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return ua.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return ua.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:A,pendingToken:R,nonce:q,providerId:ce}=f;if(!w&&!A&&!g&&!R||!ce)return null;try{return new ua(ce)._credential({idToken:g,accessToken:w,nonce:q,pendingToken:R})}catch{return null}}}let hd=(()=>{class _ extends Ks{constructor(){super("facebook.com")}static credential(g){return ii._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),_o=(()=>{class _ extends Ks{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return ii._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:A}=g;if(!w&&!A)return null;try{return _.credential(w,A)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Rc=(()=>{class _ extends Ks{constructor(){super("github.com")}static credential(g){return ii._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Nc extends xn{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Nn(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,Nn(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Nn(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:A,pendingToken:R}=g;return w&&A&&R&&w===A?new Nc(w,R):null}static _create(f,g){return new Nc(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class bi extends is{constructor(f){U(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return bi.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return bi.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=Nc.fromJSON(f);return U(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:w}=f;if(!g||!w)return null;try{return Nc._create(w,g)}catch{return null}}}let pd=(()=>{class _ extends Ks{constructor(){super("twitter.com")}static credential(g,w){return ii._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:A}=g;if(!w||!A)return null;try{return _.credential(w,A)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Oc(_,f){return gd.apply(this,arguments)}function gd(){return(gd=(0,h.Z)(function*(_,f){return kr(_,"POST","/v1/accounts:signUp",gt(_,f))})).apply(this,arguments)}class Vr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,w,A=!1){return(0,h.Z)(function*(){const R=yield Pt._fromIdTokenResponse(f,w,A),q=md(w);return new Vr({user:R,providerId:q,_tokenResponse:w,operationType:g})})()}static _forOperation(f,g,w){return(0,h.Z)(function*(){yield f._updateTokensIfNecessary(w,!0);const A=md(w);return new Vr({user:f,providerId:A,_tokenResponse:w,operationType:g})})()}}function md(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function sf(){return(sf=(0,h.Z)(function*(_){var f;const g=En(_);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new Vr({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield Oc(g,{returnSecureToken:!0}),A=yield Vr._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class yd extends O.ZR{constructor(f,g,w,A){var R;super(g.code,g.message),this.operationType=w,this.user=A,Object.setPrototypeOf(this,yd.prototype),this.customData={appName:f.name,tenantId:null!==(R=f.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,g,w,A){return new yd(f,g,w,A)}}function Ys(_,f,g,w){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?yd._fromErrorAndOperation(_,R,f,w):R})}function As(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function Qs(){return(Qs=(0,h.Z)(function*(_,f){const g=(0,O.m9)(_);yield xs(!0,g,f);const{providerUserInfo:w}=yield Wr(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),A=As(w||[]);return g.providerData=g.providerData.filter(R=>A.has(R.providerId)),A.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function du(_,f){return hu.apply(this,arguments)}function hu(){return(hu=(0,h.Z)(function*(_,f,g=!1){const w=yield Dn(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return Vr._forOperation(_,"link",w)})).apply(this,arguments)}function xs(_,f,g){return la.apply(this,arguments)}function la(){return(la=(0,h.Z)(function*(_,f,g){yield nn(f);const A=!1===_?"provider-already-linked":"no-such-provider";U(As(f.providerData).has(g)===_,f.auth,A)})).apply(this,arguments)}function fu(_,f){return vo.apply(this,arguments)}function vo(){return(vo=(0,h.Z)(function*(_,f,g=!1){const{auth:w}=_,A="reauthenticate";try{const R=yield Dn(_,Ys(w,A,f,_),g);U(R.idToken,w,"internal-error");const q=wt(R.idToken);U(q,w,"internal-error");const{sub:ce}=q;return U(_.uid===ce,w,"user-mismatch"),Vr._forOperation(_,A,R)}catch(R){throw"auth/user-not-found"===R?.code&&Ae(w,"user-mismatch"),R}})).apply(this,arguments)}function pu(_,f){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,h.Z)(function*(_,f,g=!1){const w="signIn",A=yield Ys(_,w,f),R=yield Vr._fromIdTokenResponse(_,w,A);return g||(yield _._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Cn(_,f){return da.apply(this,arguments)}function da(){return(da=(0,h.Z)(function*(_,f){return pu(En(_),f)})).apply(this,arguments)}function On(_,f){return wo.apply(this,arguments)}function wo(){return(wo=(0,h.Z)(function*(_,f){const g=(0,O.m9)(_);return yield xs(!1,g,f.providerId),du(g,f)})).apply(this,arguments)}function Xs(_,f){return fr.apply(this,arguments)}function fr(){return(fr=(0,h.Z)(function*(_,f){return fu((0,O.m9)(_),f)})).apply(this,arguments)}function _d(_,f){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,h.Z)(function*(_,f){return kr(_,"POST","/v1/accounts:signInWithCustomToken",gt(_,f))})).apply(this,arguments)}function ir(){return(ir=(0,h.Z)(function*(_,f){const g=En(_),w=yield _d(g,{token:f,returnSecureToken:!0}),A=yield Vr._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class ha{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?fa._fromServerResponse(f,g):Ae(f,"internal-error")}}class fa extends ha{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new fa(g)}}function gu(_,f,g){var w;U((null===(w=g.url)||void 0===w?void 0:w.length)>0,_,"invalid-continue-uri"),U(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(U(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(U(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function pa(){return(pa=(0,h.Z)(function*(_,f,g){const w=(0,O.m9)(_),A={requestType:"PASSWORD_RESET",email:f};g&&gu(w,A,g),yield qs(w,A)})).apply(this,arguments)}function At(){return(At=(0,h.Z)(function*(_,f,g){yield Mn((0,O.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Pc(){return(Pc=(0,h.Z)(function*(_,f){yield xt((0,O.m9)(_),{oobCode:f})})).apply(this,arguments)}function yu(_,f){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,h.Z)(function*(_,f){const g=(0,O.m9)(_),w=yield Mn(g,{oobCode:f}),A=w.requestType;switch(U(A,g,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":U(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":U(w.mfaInfo,g,"internal-error");default:U(w.email,g,"internal-error")}let R=null;return w.mfaInfo&&(R=ha._fromServerResponse(En(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:R},operation:A}})).apply(this,arguments)}function _u(){return(_u=(0,h.Z)(function*(_,f){const{data:g}=yield yu((0,O.m9)(_),f);return g.email})).apply(this,arguments)}function wd(){return(wd=(0,h.Z)(function*(_,f,g){const w=En(_),A=yield Oc(w,{returnSecureToken:!0,email:f,password:g}),R=yield Vr._fromIdTokenResponse(w,"signIn",A);return yield w._updateCurrentUser(R.user),R})).apply(this,arguments)}function Lc(){return(Lc=(0,h.Z)(function*(_,f,g){const w=(0,O.m9)(_),A={requestType:"EMAIL_SIGNIN",email:f};U(g.handleCodeInApp,w,"argument-error"),g&&gu(w,A,g),yield cu(w,A)})).apply(this,arguments)}function Io(){return(Io=(0,h.Z)(function*(_,f,g){const w=(0,O.m9)(_),A=Mc.credentialWithLink(f,g||ke());return U(A._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Cn(w,A)})).apply(this,arguments)}function vu(_,f){return si.apply(this,arguments)}function si(){return(si=(0,h.Z)(function*(_,f){return gn(_,"POST","/v1/accounts:createAuthUri",gt(_,f))})).apply(this,arguments)}function bo(){return(bo=(0,h.Z)(function*(_,f){const w={identifier:f,continueUri:lt()?ke():"http://localhost"},{signinMethods:A}=yield vu((0,O.m9)(_),w);return A||[]})).apply(this,arguments)}function Id(){return(Id=(0,h.Z)(function*(_,f){const g=(0,O.m9)(_),A={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&gu(g.auth,A,f);const{email:R}=yield mn(g.auth,A);R!==_.email&&(yield _.reload())})).apply(this,arguments)}function In(){return(In=(0,h.Z)(function*(_,f,g){const w=(0,O.m9)(_),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&gu(w.auth,R,g);const{email:q}=yield nf(w.auth,R);q!==_.email&&(yield _.reload())})).apply(this,arguments)}function ji(_,f){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,h.Z)(function*(_,f){return gn(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function oi(){return(oi=(0,h.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const w=(0,O.m9)(_),R={idToken:yield w.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},q=yield Dn(w,ji(w.auth,R));w.displayName=q.displayName||null,w.photoURL=q.photoUrl||null;const ce=w.providerData.find(({providerId:Be})=>"password"===Be);ce&&(ce.displayName=w.displayName,ce.photoURL=w.photoURL),yield w._updateTokensIfNecessary(q)})).apply(this,arguments)}function jc(_,f,g){return ma.apply(this,arguments)}function ma(){return(ma=(0,h.Z)(function*(_,f,g){const{auth:w}=_,R={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(R.email=f),g&&(R.password=g);const q=yield Dn(_,Li(w,R));yield _._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class Js{constructor(f,g,w={}){this.isNewUser=f,this.providerId=g,this.profile=w}}class Dd extends Js{constructor(f,g,w,A){super(f,g,w),this.username=A}}class $c extends Js{constructor(f,g){super(f,"facebook.com",g)}}class Cd extends Dd{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class af extends Js{constructor(f,g){super(f,"google.com",g)}}class Eu extends Dd{constructor(f,g,w){super(f,"twitter.com",g,w)}}function uf(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function bd(_){var f,g;if(!_)return null;const{providerId:w}=_,A=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},R=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!w&&_?.idToken){const q=null===(g=null===(f=wt(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(q)return new Js(R,"anonymous"!==q&&"custom"!==q?q:null)}if(!w)return null;switch(w){case"facebook.com":return new $c(R,A);case"github.com":return new Cd(R,A);case"google.com":return new af(R,A);case"twitter.com":return new Eu(R,A,_.screenName||null);case"custom":case"anonymous":return new Js(R,null);default:return new Js(R,w,A)}}(g)}class Co{constructor(f,g,w){this.type=f,this.credential=g,this.auth=w}static _fromIdtoken(f,g){return new Co("enroll",f,g)}static _fromMfaPendingCredential(f){return new Co("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,w;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Co._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(w=f.multiFactorSession)&&void 0!==w&&w.idToken)return Co._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Gc{constructor(f,g,w){this.session=f,this.hints=g,this.signInResolver=w}static _fromError(f,g){const w=En(f),A=g.customData._serverResponse,R=(A.mfaInfo||[]).map(ce=>ha._fromServerResponse(w,ce));U(A.mfaPendingCredential,w,"internal-error");const q=Co._fromMfaPendingCredential(A.mfaPendingCredential);return new Gc(q,R,function(){var ce=(0,h.Z)(function*(Be){const Ye=yield Be._process(w,q);delete A.mfaInfo,delete A.mfaPendingCredential;const vt=Object.assign(Object.assign({},A),{idToken:Ye.idToken,refreshToken:Ye.refreshToken});switch(g.operationType){case"signIn":const ht=yield Vr._fromIdTokenResponse(w,g.operationType,vt);return yield w._updateCurrentUser(ht.user),ht;case"reauthenticate":return U(g.user,w,"internal-error"),Vr._forOperation(g.user,g.operationType,vt);default:Ae(w,"internal-error")}});return function(Be){return ce.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,h.Z)(function*(){return g.signInResolver(f)})()}}function cf(_,f){return gn(_,"POST","/v2/accounts/mfaEnrollment:start",gt(_,f))}class Rs{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>ha._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new Rs(f)}getSession(){var f=this;return(0,h.Z)(function*(){return Co._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var w=this;return(0,h.Z)(function*(){const A=f,R=yield w.getSession(),q=yield Dn(w.user,A._process(w.user.auth,R,g));return yield w.user._updateTokensIfNecessary(q),w.user.reload()})()}unenroll(f){var g=this;return(0,h.Z)(function*(){const w="string"==typeof f?f:f.uid,A=yield g.user.getIdToken(),R=yield Dn(g.user,function lf(_,f){return gn(_,"POST","/v2/accounts/mfaEnrollment:withdraw",gt(_,f))}(g.user.auth,{idToken:A,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:q})=>q!==w),yield g.user._updateTokensIfNecessary(R);try{yield g.user.reload()}catch(q){if("auth/user-token-expired"!==q?.code)throw q}})()}}const ai=new WeakMap,Di="__sak";class zc{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Di,"1"),this.storage.removeItem(Di),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const qc=(()=>{class _ extends zc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Td(){const _=(0,O.z$)();return Ft(_)||Wn(_)}()&&function na(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=tf(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const A=this.storage.getItem(w),R=this.localCache[w];A!==R&&g(w,R,A)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((ce,Be,Ye)=>{this.notifyListeners(ce,Ye)});const A=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(A);if(g.newValue!==ce)null!==g.newValue?this.storage.setItem(A,g.newValue):this.storage.removeItem(A);else if(this.localCache[A]===g.newValue&&!w)return}const R=()=>{const ce=this.storage.getItem(A);!w&&this.localCache[A]===ce||this.notifyListeners(A,ce)},q=this.storage.getItem(A);!function ta(){return(0,O.w1)()&&10===document.documentMode}()||q===g.newValue||g.newValue===g.oldValue?R():setTimeout(R,10)}notifyListeners(g,w){this.localCache[g]=w;const A=this.listeners[g];if(A)for(const R of Array.from(A))R(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var A=()=>super._set,R=this;return(0,h.Z)(function*(){yield A().call(R,g,w),R.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,A=this;return(0,h.Z)(function*(){const R=yield w().call(A,g);return A.localCache[g]=JSON.stringify(R),R})()}_remove(g){var w=()=>super._remove,A=this;return(0,h.Z)(function*(){yield w().call(A,g),delete A.localCache[g]})()}}return _.type="LOCAL",_})(),$i=(()=>{class _ extends zc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return _.type="SESSION",_})();let Sd=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(R=>R.isListeningto(g));if(w)return w;const A=new _(g);return this.receivers.push(A),A}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,h.Z)(function*(){const A=g,{eventId:R,eventType:q,data:ce}=A.data,Be=w.handlersMap[q];if(!Be?.size)return;A.ports[0].postMessage({status:"ack",eventId:R,eventType:q});const Ye=Array.from(Be).map(function(){var ht=(0,h.Z)(function*($n){return $n(A.origin,ce)});return function($n){return ht.apply(this,arguments)}}()),vt=yield function Wc(_){return Promise.all(_.map(function(){var f=(0,h.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return f.apply(this,arguments)}}()))}(Ye);A.ports[0].postMessage({status:"done",eventId:R,eventType:q,response:vt})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Ns(_="",f=10){let g="";for(let w=0;w<f;w++)g+=Math.floor(10*Math.random());return _+g}class Zc{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,w=50){var A=this;return(0,h.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let q,ce;return new Promise((Be,Ye)=>{const vt=Ns("",20);R.port1.start();const ht=setTimeout(()=>{Ye(new Error("unsupported_event"))},w);ce={messageChannel:R,onMessage($n){const Zi=$n;if(Zi.data.eventId===vt)switch(Zi.data.status){case"ack":clearTimeout(ht),q=setTimeout(()=>{Ye(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Be(Zi.data.response);break;default:clearTimeout(ht),clearTimeout(q),Ye(new Error("invalid_response"))}}},A.handlers.add(ce),R.port1.addEventListener("message",ce.onMessage),A.target.postMessage({eventType:f,eventId:vt,data:g},[R.port2])}).finally(()=>{ce&&A.removeMessageHandler(ce)})})()}}function yn(){return window}function Ao(){return typeof yn().WorkerGlobalScope<"u"&&"function"==typeof yn().importScripts}function Du(){return(Du=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Tu="firebaseLocalStorageDb",os="firebaseLocalStorage",eo="fbase_key";class ks{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function wa(_,f){return _.transaction([os],f?"readwrite":"readonly").objectStore(os)}function Su(){const _=indexedDB.open(Tu,1);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const w=_.result;try{w.createObjectStore(os,{keyPath:eo})}catch(A){g(A)}}),_.addEventListener("success",(0,h.Z)(function*(){const w=_.result;w.objectStoreNames.contains(os)?f(w):(w.close(),yield function Ea(){const _=indexedDB.deleteDatabase(Tu);return new ks(_).toPromise()}(),f(yield Su()))}))})}function Xr(_,f,g){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,h.Z)(function*(_,f,g){const w=wa(_,!0).put({[eo]:f,value:g});return new ks(w).toPromise()})).apply(this,arguments)}function Ps(){return(Ps=(0,h.Z)(function*(_,f){const g=wa(_,!1).get(f),w=yield new ks(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Au(_,f){const g=wa(_,!0).delete(f);return new ks(g).toPromise()}const Ro=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,h.Z)(function*(){return g.db||(g.db=yield Su()),g.db})()}_withRetries(g){var w=this;return(0,h.Z)(function*(){let A=0;for(;;)try{const R=yield w._openDb();return yield g(R)}catch(R){if(A++>3)throw R;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,h.Z)(function*(){return Ao()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,h.Z)(function*(){g.receiver=Sd._getInstance(function Cu(){return Ao()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,h.Z)(function*(A,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(A,R){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,h.Z)(function*(A,R){return["keyChanged"]});return function(A,R){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,h.Z)(function*(){var w,A;if(g.activeServiceWorker=yield function Os(){return Du.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Zc(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);R&&null!==(w=R[0])&&void 0!==w&&w.fulfilled&&null!==(A=R[0])&&void 0!==A&&A.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,h.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Ad(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Su();return yield Xr(g,Di,"1"),yield Au(g,Di),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,h.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var A=this;return(0,h.Z)(function*(){return A._withPendingWrite((0,h.Z)(function*(){return yield A._withRetries(R=>Xr(R,g,w)),A.localCache[g]=w,A.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,h.Z)(function*(){const A=yield w._withRetries(R=>function Mo(_,f){return Ps.apply(this,arguments)}(R,g));return w.localCache[g]=A,A})()}_remove(g){var w=this;return(0,h.Z)(function*(){return w._withPendingWrite((0,h.Z)(function*(){return yield w._withRetries(A=>Au(A,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,h.Z)(function*(){const w=yield g._withRetries(q=>{const ce=wa(q,!1).getAll();return new ks(ce).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const A=[],R=new Set;for(const{fbase_key:q,value:ce}of w)R.add(q),JSON.stringify(g.localCache[q])!==JSON.stringify(ce)&&(g.notifyListeners(q,ce),A.push(q));for(const q of Object.keys(g.localCache))g.localCache[q]&&!R.has(q)&&(g.notifyListeners(q,null),A.push(q));return A})()}notifyListeners(g,w){this.localCache[g]=w;const A=this.listeners[g];if(A)for(const R of Array.from(A))R(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Qc(_,f){return gn(_,"POST","/v2/accounts/mfaSignIn:start",gt(_,f))}function Ru(){return(Ru=(0,h.Z)(function*(_){return(yield gn(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ci(_){return new Promise((f,g)=>{const w=document.createElement("script");w.setAttribute("src",_),w.onload=f,w.onerror=A=>{const R=_e("internal-error");R.customData=A,g(R)},w.type="text/javascript",w.charset="UTF-8",function Ia(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(w)})}function Nu(_){return`__${_}${Math.floor(1e6*Math.random())}`}const ci=1e12;class df{constructor(f){this.auth=f,this.counter=ci,this._widgets=new Map}render(f,g){const w=this.counter;return this._widgets.set(w,new xd(f,this.auth.name,g||{})),this.counter++,w}reset(f){var g;const w=f||ci;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(f){var g;return(null===(g=this._widgets.get(f||ci))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,h.Z)(function*(){var w;return null===(w=g._widgets.get(f||ci))||void 0===w||w.execute(),""})()}}class xd{constructor(f,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof f?document.getElementById(f):f;U(A,"argument-error",{appName:g}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Md(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<_;w++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Rd=Nu("rcb"),hf=new Ut(3e4,6e4);class Hi{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=yn().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return U(function ba(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(yn().grecaptcha):new Promise((w,A)=>{const R=yn().setTimeout(()=>{A(_e(f,"network-request-failed"))},hf.get());yn()[Rd]=()=>{yn().clearTimeout(R),delete yn()[Rd];const ce=yn().grecaptcha;if(!ce)return void A(_e(f,"internal-error"));const Be=ce.render;ce.render=(Ye,vt)=>{const ht=Be(Ye,vt);return this.counter++,ht},this.hostLanguage=g,w(ce)},Ci(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:Rd,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),A(_e(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=yn().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Da{load(f){return(0,h.Z)(function*(){return new df(f)})()}clearedOneInstance(){}}const ff="recaptcha",pf={theme:"light",type:"image"};class No{constructor(f,g=Object.assign({},pf),w){this.parameters=g,this.type=ff,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=En(w),this.isInvisible="invisible"===this.parameters.size,U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof f?document.getElementById(f):f;U(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Da:new Hi,this.validateStartingState()}verify(){var f=this;return(0,h.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(g)||new Promise(R=>{const q=ce=>{ce&&(f.tokenChangeListeners.delete(q),R(ce))};f.tokenChangeListeners.add(q),f.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof f)f(g);else if("string"==typeof f){const w=yn()[f];"function"==typeof w&&w(g)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,h.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,h.Z)(function*(){U(lt()&&!Ao(),f.auth,"internal-error"),yield function to(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function as(_){return Ru.apply(this,arguments)}(f.auth);U(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Nd{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Ii._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Ca(){return(Ca=(0,h.Z)(function*(_,f,g){const w=En(_),A=yield tl(w,f,(0,O.m9)(g));return new Nd(A,R=>Cn(w,R))})).apply(this,arguments)}function mf(){return(mf=(0,h.Z)(function*(_,f,g){const w=(0,O.m9)(_);yield xs(!1,w,"phone");const A=yield tl(w.auth,f,(0,O.m9)(g));return new Nd(A,R=>On(w,R))})).apply(this,arguments)}function yf(){return(yf=(0,h.Z)(function*(_,f,g){const w=(0,O.m9)(_),A=yield tl(w.auth,f,(0,O.m9)(g));return new Nd(A,R=>Xs(w,R))})).apply(this,arguments)}function tl(_,f,g){return _f.apply(this,arguments)}function _f(){return(_f=(0,h.Z)(function*(_,f,g){var w;const A=yield g.verify();try{let R;if(U("string"==typeof A,_,"argument-error"),U(g.type===ff,_,"argument-error"),R="string"==typeof f?{phoneNumber:f}:f,"session"in R){const q=R.session;if("phoneNumber"in R)return U("enroll"===q.type,_,"internal-error"),(yield cf(_,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{U("signin"===q.type,_,"internal-error");const ce=(null===(w=R.multiFactorHint)||void 0===w?void 0:w.uid)||R.multiFactorUid;return U(ce,_,"missing-multi-factor-info"),(yield Qc(_,{mfaPendingCredential:q.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield ld(_,{phoneNumber:R.phoneNumber,recaptchaToken:A});return q}}finally{g._reset()}})).apply(this,arguments)}function vf(){return(vf=(0,h.Z)(function*(_,f){yield du((0,O.m9)(_),f)})).apply(this,arguments)}let rl=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=En(g)}verifyPhoneNumber(g,w){return tl(this.auth,g,(0,O.m9)(w))}static credential(g,w){return Ii._fromVerification(g,w)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:A}=g;return w&&A?Ii._fromTokenResponse(w,A):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function hn(_,f){return f?se(f):(U(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Ta extends xn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Nn(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Nn(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Nn(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Ou(_){return pu(_.auth,new Ta(_),_.bypassAuthState)}function Od(_){const{auth:f,user:g}=_;return U(g,f,"internal-error"),fu(g,new Ta(_),_.bypassAuthState)}function Jr(_){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,h.Z)(function*(_){const{auth:f,user:g}=_;return U(g,f,"internal-error"),du(g,new Ta(_),_.bypassAuthState)})).apply(this,arguments)}class ku{constructor(f,g,w,A,R=!1){this.auth=f,this.resolver=w,this.user=A,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,h.Z)(function*(w,A){f.pendingPromise={resolve:w,reject:A};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(R){f.reject(R)}});return function(w,A){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,h.Z)(function*(){const{urlResponse:w,sessionId:A,postBody:R,tenantId:q,error:ce,type:Be}=f;if(ce)return void g.reject(ce);const Ye={auth:g.auth,requestUri:w,sessionId:A,tenantId:q||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Be)(Ye))}catch(vt){g.reject(vt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Ou;case"linkViaPopup":case"linkViaRedirect":return Jr;case"reauthViaPopup":case"reauthViaRedirect":return Od;default:Ae(this.auth,"internal-error")}}resolve(f){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Sa=new Ut(2e3,1e4);function Pu(){return(Pu=(0,h.Z)(function*(_,f,g){const w=En(_);Fe(_,f,is);const A=hn(w,g);return new Qe(w,"signInViaPopup",f,A).executeNotNull()})).apply(this,arguments)}function wf(){return(wf=(0,h.Z)(function*(_,f,g){const w=(0,O.m9)(_);Fe(w.auth,f,is);const A=hn(w.auth,g);return new Qe(w.auth,"reauthViaPopup",f,A,w).executeNotNull()})).apply(this,arguments)}function Pn(){return(Pn=(0,h.Z)(function*(_,f,g){const w=(0,O.m9)(_);Fe(w.auth,f,is);const A=hn(w.auth,g);return new Qe(w.auth,"linkViaPopup",f,A,w).executeNotNull()})).apply(this,arguments)}let Qe=(()=>{class _ extends ku{constructor(g,w,A,R,q){super(g,w,R,q),this.provider=A,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,h.Z)(function*(){const w=yield g.execute();return U(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,h.Z)(function*(){W(1===g.filter.length,"Popup operations only handle one event");const w=Ns();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(A=>{g.reject(A)}),g.resolver._isIframeWebStorageSupported(g.auth,A=>{A||g.reject(_e(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,A;this.pollId=null!==(A=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Sa.get())};g()}}return _.currentPopupAction=null,_})();const sr=new Map;class kd extends ku{constructor(f,g,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,h.Z)(function*(){let w=sr.get(g.auth._key());if(!w){try{const R=(yield function Fu(_,f){return Un.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;w=()=>Promise.resolve(R)}catch(A){w=()=>Promise.reject(A)}sr.set(g.auth._key(),w)}return g.bypassAuthState||sr.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,w=this;return(0,h.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(w,f);if("unknown"!==f.type){if(f.eventId){const A=yield w.auth._redirectUserForId(f.eventId);if(A)return w.user=A,g().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function Un(){return(Un=(0,h.Z)(function*(_,f){const g=Aa(f),w=ko(_);if(!(yield w._isAvailable()))return!1;const A="true"===(yield w._get(g));return yield w._remove(g),A})).apply(this,arguments)}function il(_,f){return us.apply(this,arguments)}function us(){return(us=(0,h.Z)(function*(_,f){return ko(_)._set(Aa(f),"true")})).apply(this,arguments)}function Pd(_,f){sr.set(_._key(),f)}function ko(_){return se(_._redirectPersistence)}function Aa(_){return Z("pendingRedirect",_.config.apiKey,_.name)}function D(){return(D=(0,h.Z)(function*(_,f,g){const w=En(_);Fe(_,f,is),yield w._initializationPromise;const A=hn(w,g);return yield il(A,w),A._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function F(){return(F=(0,h.Z)(function*(_,f,g){const w=(0,O.m9)(_);Fe(w.auth,f,is),yield w.auth._initializationPromise;const A=hn(w.auth,g);yield il(A,w.auth);const R=yield bt(w);return A._openRedirect(w.auth,f,"reauthViaRedirect",R)})).apply(this,arguments)}function Se(){return(Se=(0,h.Z)(function*(_,f,g){const w=(0,O.m9)(_);Fe(w.auth,f,is),yield w.auth._initializationPromise;const A=hn(w.auth,g);yield xs(!1,w,f.providerId),yield il(A,w.auth);const R=yield bt(w);return A._openRedirect(w.auth,f,"linkViaRedirect",R)})).apply(this,arguments)}function it(){return(it=(0,h.Z)(function*(_,f){return yield En(_)._initializationPromise,Je(_,f,!1)})).apply(this,arguments)}function Je(_,f){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,h.Z)(function*(_,f,g=!1){const w=En(_),A=hn(w,f),q=yield new kd(w,A,g).execute();return q&&!g&&(delete q.user._redirectEventId,yield w._persistUserIfCurrent(q.user),yield w._setRedirectUser(null,f)),q})).apply(this,arguments)}function bt(_){return mr.apply(this,arguments)}function mr(){return(mr=(0,h.Z)(function*(_){const f=Ns(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class xa{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(g=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Yn(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zi(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var w;if(f.error&&!zi(f)){const A=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(_e(this.auth,A))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const w=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ma(f))}saveEventToCache(f){this.cachedEventUids.add(Ma(f)),this.lastProcessedEventTime=Date.now()}}function Ma(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function zi({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===f?.code}function qi(_){return bn.apply(this,arguments)}function bn(){return(bn=(0,h.Z)(function*(_,f={}){return gn(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Fd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gg=/^https?/;function Lu(){return(Lu=(0,h.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield qi(_);for(const g of f)try{if(sl(g))return}catch{}Ae(_,"unauthorized-domain")})).apply(this,arguments)}function sl(_){const f=ke(),{protocol:g,hostname:w}=new URL(f);if(_.startsWith("chrome-extension://")){const q=new URL(_);return""===q.hostname&&""===w?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&q.hostname===w}if(!gg.test(g))return!1;if(Fd.test(_))return w===_;const A=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(w)}const cs=new Ut(3e4,6e4);function Br(){const _=yn().___jsl;if(_?.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Ra=null;function ew(_){return Ra=Ra||function Ld(_){return new Promise((f,g)=>{var w,A,R;function q(){Br(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Br(),g(_e(_,"network-request-failed"))},timeout:cs.get()})}if(null!==(A=null===(w=yn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==A&&A.Iframe)f(gapi.iframes.getContext());else{if(null===(R=yn().gapi)||void 0===R||!R.load){const ce=Nu("iframefcb");return yn()[ce]=()=>{gapi.load?q():g(_e(_,"network-request-failed"))},Ci(`https://apis.google.com/js/api.js?onload=${ce}`).catch(Be=>g(Be))}q()}}).catch(f=>{throw Ra=null,f})}(_),Ra}const Po=new Ut(5e3,15e3),Na={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vd(_){const f=_.config;U(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?ft(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,w={apiKey:f.apiKey,appName:_.name,v:oe.SDK_VERSION},A=tw.get(_.config.apiHost);A&&(w.eid=A);const R=_._getFrameworks();return R.length&&(w.fw=R.join(",")),`${g}?${(0,O.xO)(w).slice(1)}`}function Ud(){return Ud=(0,h.Z)(function*(_){const f=yield ew(_),g=yn().gapi;return U(g,_,"internal-error"),f.open({where:document.body,url:Vd(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Na,dontclear:!0},w=>new Promise(function(){var A=(0,h.Z)(function*(R,q){yield w.restyle({setHideOnLeave:!1});const ce=_e(_,"network-request-failed"),Be=yn().setTimeout(()=>{q(ce)},Po.get());function Ye(){yn().clearTimeout(Be),R(w)}w.ping(Ye).then(Ye,()=>{q(ce)})});return function(R,q){return A.apply(this,arguments)}}()))}),Ud.apply(this,arguments)}const yg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ls{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Bu(_,f,g,w,A,R){U(_.config.authDomain,_,"auth-domain-config-required"),U(_.config.apiKey,_,"invalid-api-key");const q={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:w,v:oe.SDK_VERSION,eventId:A};if(f instanceof is){f.setDefaultLanguage(_.languageCode),q.providerId=f.providerId||"",(0,O.xb)(f.getCustomParameters())||(q.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Be,Ye]of Object.entries(R||{}))q[Be]=Ye}if(f instanceof Ks){const Be=f.getScopes().filter(Ye=>""!==Ye);Be.length>0&&(q.scopes=Be.join(","))}_.tenantId&&(q.tid=_.tenantId);const ce=q;for(const Be of Object.keys(ce))void 0===ce[Be]&&delete ce[Be];return`${function _g({config:_}){return _.emulator?ft(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,O.xO)(ce).slice(1)}`}const jd="webStorageSupport",or=class nw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$i,this._completeRedirectFn=Je,this._overrideRedirectResult=Pd}_openPopup(f,g,w,A){var R=this;return(0,h.Z)(function*(){var q;W(null===(q=R.eventManagers[f._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const ce=Bu(f,g,w,ke(),A);return function Uu(_,f,g,w=500,A=600){const R=Math.max((window.screen.availHeight-A)/2,0).toString(),q=Math.max((window.screen.availWidth-w)/2,0).toString();let ce="";const Be=Object.assign(Object.assign({},yg),{width:w.toString(),height:A.toString(),top:R,left:q}),Ye=(0,O.z$)().toLowerCase();g&&(ce=zt(Ye)?"_blank":g),et(Ye)&&(f=f||"http://localhost",Be.scrollbars="yes");const vt=Object.entries(Be).reduce(($n,[Zi,Zu])=>`${$n}${Zi}=${Zu},`,"");if(function br(_=(0,O.z$)()){var f;return Wn(_)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Ye)&&"_self"!==ce)return function qy(_,f){const g=document.createElement("a");g.href=_,g.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(f||"",ce),new ls(null);const ht=window.open(f||"",ce,vt);U(ht,_,"popup-blocked");try{ht.focus()}catch{}return new ls(ht)}(f,ce,Ns())})()}_openRedirect(f,g,w,A){var R=this;return(0,h.Z)(function*(){return yield R._originValidation(f),function So(_){yn().location.href=_}(Bu(f,g,w,ke(),A)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:A,promise:R}=this.eventManagers[g];return A?Promise.resolve(A):(W(R,"If manager is not set, promise should be"),R)}const w=this.initAndGetManager(f);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(f){var g=this;return(0,h.Z)(function*(){const w=yield function mg(_){return Ud.apply(this,arguments)}(f),A=new xa(f);return w.register("authEvent",R=>(U(R?.authEvent,f,"invalid-auth-event"),{status:A.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:A},g.iframes[f._key()]=w,A})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(jd,{type:jd},A=>{var R;const q=null===(R=A?.[0])||void 0===R?void 0:R[jd];void 0!==q&&g(!!q),Ae(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function jn(_){return Lu.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return tf()||Ft()||Wn()}};class Fo{constructor(f){this.factorId=f}_process(f,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,w);case"signin":return this._finalizeSignIn(f,g.credential);default:return ye("unexpected MultiFactorSessionType")}}}class ju extends Fo{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new ju(f)}_finalizeEnroll(f,g,w){return function pg(_,f){return gn(_,"POST","/v2/accounts/mfaEnrollment:finalize",gt(_,f))}(f,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Xc(_,f){return gn(_,"POST","/v2/accounts/mfaSignIn:finalize",gt(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let li=(()=>{class _{constructor(){}static assertion(g){return ju._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var ol="@firebase/auth";class bf{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,h.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(w=>{f(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Wi(){return window}function Tf(){return(Tf=(0,h.Z)(function*(_,f,g){var w;const{BuildInfo:A}=Wi();W(f.sessionId,"AuthEvent did not contain a session ID");const R=yield Gd(f.sessionId),q={};return Wn()?q.ibi=A.packageName:_t()?q.apn=A.packageName:Ae(_,"operation-not-supported-in-this-environment"),A.displayName&&(q.appDisplayName=A.displayName),q.sessionId=R,Bu(_,g,f.type,void 0,null!==(w=f.eventId)&&void 0!==w?w:void 0,q)})).apply(this,arguments)}function Oa(){return(Oa=(0,h.Z)(function*(_){const{BuildInfo:f}=Wi(),g={};Wn()?g.iosBundleId=f.packageName:_t()?g.androidPackageName=f.packageName:Ae(_,"operation-not-supported-in-this-environment"),yield qi(_,g)})).apply(this,arguments)}function hs(){return(hs=(0,h.Z)(function*(_,f,g){const{cordova:w}=Wi();let A=()=>{};try{yield new Promise((R,q)=>{let ce=null;function Be(){var ht;R();const $n=null===(ht=w.plugins.browsertab)||void 0===ht?void 0:ht.close;"function"==typeof $n&&$n(),"function"==typeof g?.close&&g.close()}function Ye(){ce||(ce=window.setTimeout(()=>{q(_e(_,"redirect-cancelled-by-user"))},2e3))}function vt(){"visible"===document?.visibilityState&&Ye()}f.addPassiveListener(Be),document.addEventListener("resume",Ye,!1),_t()&&document.addEventListener("visibilitychange",vt,!1),A=()=>{f.removePassiveListener(Be),document.removeEventListener("resume",Ye,!1),document.removeEventListener("visibilitychange",vt,!1),ce&&window.clearTimeout(ce)}})}finally{A()}})).apply(this,arguments)}function Gd(_){return ll.apply(this,arguments)}function ll(){return(ll=(0,h.Z)(function*(_){const f=dl(_),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function dl(_){if(W(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),g=new Uint8Array(f);for(let w=0;w<_.length;w++)g[w]=_.charCodeAt(w);return g}(0,O.Pz)("authIdTokenMaxAge"),function al(_){(0,oe._registerComponent)(new fe.wA("auth",(f,{options:g})=>{const w=f.getProvider("app").getImmediate(),A=f.getProvider("heartbeat"),{apiKey:R,authDomain:q}=w.options;return((ce,Be)=>{U(R&&!R.includes(":"),"invalid-api-key",{appName:ce.name}),U(!q?.includes(":"),"argument-error",{appName:ce.name});const Ye={apiKey:R,authDomain:q,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uu(_)},vt=new ud(ce,Be,Ye);return function Le(_,f){const g=f?.persistence||[],w=(Array.isArray(g)?g:[g]).map(se);f?.errorMap&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(w,f?.popupRedirectResolver)}(vt,g),vt})(w,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,w)=>{f.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new fe.wA("auth-internal",f=>{const g=En(f.getProvider("auth").getImmediate());return new bf(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(ol,"0.21.1",function Cr(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,oe.registerVersion)(ol,"0.21.1","esm2017")}("Browser");class ka extends xa{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,h.Z)(function*(){yield f.initPromise})()}}function Eg(_){return fl.apply(this,arguments)}function fl(){return(fl=(0,h.Z)(function*(_){const f=yield Af()._get(xf(_));return f&&(yield Af()._remove(xf(_))),f})).apply(this,arguments)}function Ky(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const w=Math.floor(Math.random()*f.length);_.push(f.charAt(w))}return _.join("")}function Af(){return se(qc)}function xf(_){return Z("authEvent",_.config.apiKey,_.name)}function Pa(_){if(!_?.includes("?"))return{};const[f,...g]=_.split("?");return(0,O.zd)(g.join("?"))}const ro=class Ig{constructor(){this._redirectPersistence=$i,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Je,this._overrideRedirectResult=Pd}_initialize(f){var g=this;return(0,h.Z)(function*(){const w=f._key();let A=g.eventManagers.get(w);return A||(A=new ka(f),g.eventManagers.set(w,A),g.attachCallbackListeners(f,A)),A})()}_openPopup(f){Ae(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,w,A){var R=this;return(0,h.Z)(function*(){!function vg(_){var f,g,w,A,R,q,ce,Be,Ye,vt;const ht=Wi();U("function"==typeof(null===(f=ht?.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),U(typeof(null===(g=ht?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),U("function"==typeof(null===(R=null===(A=null===(w=ht?.cordova)||void 0===w?void 0:w.plugins)||void 0===A?void 0:A.browsertab)||void 0===R?void 0:R.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(Be=null===(ce=null===(q=ht?.cordova)||void 0===q?void 0:q.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Be?void 0:Be.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(vt=null===(Ye=ht?.cordova)||void 0===Ye?void 0:Ye.InAppBrowser)||void 0===vt?void 0:vt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const q=yield R._initialize(f);yield q.initialized(),q.resetRedirect(),function Ef(){sr.clear()}(),yield R._originValidation(f);const ce=function zd(_,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:Ky(),postBody:null,tenantId:_.tenantId,error:_e(_,"no-auth-event")}}(f,w,A);yield function wg(_,f){return Af()._set(xf(_),f)}(f,ce);const Be=yield function Vo(_,f,g){return Tf.apply(this,arguments)}(f,ce,g),Ye=yield function Sf(_){const{cordova:f}=Wi();return new Promise(g=>{f.plugins.browsertab.isAvailable(w=>{let A=null;w?f.plugins.browsertab.openUrl(_):A=f.InAppBrowser.open(_,function po(_=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(A)})})}(Be);return function Hd(_,f,g){return hs.apply(this,arguments)}(f,q,Ye)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function cl(_){return Oa.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:w,handleOpenURL:A,BuildInfo:R}=Wi(),q=setTimeout((0,h.Z)(function*(){yield Eg(f),g.onEvent(Wd())}),500),ce=function(){var vt=(0,h.Z)(function*(ht){clearTimeout(q);const $n=yield Eg(f);let Zi=null;$n&&ht?.url&&(Zi=function qd(_,f){var g,w;const A=function Qy(_){const f=Pa(_),g=f.link?decodeURIComponent(f.link):void 0,w=Pa(g).link,A=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Pa(A).link||A||w||g||_}(f);if(A.includes("/__/auth/callback")){const R=Pa(A),q=R.firebaseError?function Yy(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,ce=null===(w=null===(g=q?.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],Be=ce?_e(ce):null;return Be?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Be,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:A,postBody:null}}return null}($n,ht.url)),g.onEvent(Zi||Wd())});return function($n){return vt.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,ce);const Be=A,Ye=`${R.packageName.toLowerCase()}://`;Wi().handleOpenURL=function(){var vt=(0,h.Z)(function*(ht){if(ht.toLowerCase().startsWith(Ye)&&ce({url:ht}),"function"==typeof Be)try{Be(ht)}catch($n){console.error($n)}});return function(ht){return vt.apply(this,arguments)}}()}};function Wd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_e("no-auth-event")}}function Ls(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function La(_=(0,O.z$)()){return!("file:"!==Ls()&&"ionic:"!==Ls()&&"capacitor:"!==Ls()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mf(){try{const _=self.localStorage,f=Ns();if(_)return _.setItem(f,"1"),_.removeItem(f),!function Va(_=(0,O.z$)()){return function pl(){return(0,O.w1)()&&11===document?.documentMode}()||function Cg(_=(0,O.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,O.hl)()}catch{return Zd()&&(0,O.hl)()}return!1}function Zd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Gu(){return(function Hu(){return"http:"===Ls()||"https:"===Ls()}()||(0,O.ru)()||La())&&!function Xy(){return(0,O.b$)()||(0,O.UG)()}()&&Mf()&&!Zd()}function Rf(){return La()&&typeof document<"u"}function Vs(){return(Vs=(0,h.Z)(function*(){return!!Rf()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Tr={LOCAL:"local",NONE:"none",SESSION:"session"},Ua=U,gl="persistence";function Ba(_){return Si.apply(this,arguments)}function Si(){return(Si=(0,h.Z)(function*(_){yield _._initializationPromise;const f=Uo(),g=Z(gl,_.config.apiKey,_.name);f&&f.setItem(g,_._getPersistence())})).apply(this,arguments)}function Uo(){var _;try{return(null===(_=function Tg(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const Kd=U;class Us{constructor(){this.browserResolver=se(or),this.cordovaResolver=se(ro),this.underlyingResolver=null,this._redirectPersistence=$i,this._completeRedirectFn=Je,this._overrideRedirectResult=Pd}_initialize(f){var g=this;return(0,h.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,w,A){var R=this;return(0,h.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(f,g,w,A)})()}_openRedirect(f,g,w,A){var R=this;return(0,h.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(f,g,w,A)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Rf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Kd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,h.Z)(function*(){if(f.underlyingResolver)return;const g=yield function zu(){return Vs.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function Yd(_){return _.unwrap()}function Of(_){return Sg(_)}function Sg(_){const{_tokenResponse:f}=_ instanceof O.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof O.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return rl.credentialFromResult(_);const g=f.providerId;if(!g||"password"===g)return null;let w;switch(g){case"google.com":w=_o;break;case"facebook.com":w=hd;break;case"github.com":w=Rc;break;case"twitter.com":w=pd;break;default:const{oauthIdToken:A,oauthAccessToken:R,oauthTokenSecret:q,pendingToken:ce,nonce:Be}=f;return R||q||A||ce?ce?g.startsWith("saml.")?Nc._create(g,ce):ii._fromParams({providerId:g,signInMethod:g,pendingToken:ce,idToken:A,accessToken:R}):new ua(g).credential({idToken:A,accessToken:R,rawNonce:Be}):null}return _ instanceof O.ZR?w.credentialFromError(_):w.credentialFromResult(_)}function di(_,f){return f.catch(g=>{throw g instanceof O.ZR&&function ja(_,f){var g;const w=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new Pf(_,function gr(_,f){var g;const w=(0,O.m9)(_),A=f;return U(f.customData.operationType,w,"argument-error"),U(null===(g=A.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),Gc._fromError(w,A)}(_,f));else if(w){const A=Sg(f),R=f;A&&(R.credential=A,R.tenantId=w.tenantId||void 0,R.email=w.email||void 0,R.phoneNumber=w.phoneNumber||void 0)}}(_,g),g}).then(g=>{const A=g.user;return{operationType:g.operationType,credential:Of(g),additionalUserInfo:uf(g),user:io.getOrCreate(A)}})}function Ag(_,f){return kf.apply(this,arguments)}function kf(){return(kf=(0,h.Z)(function*(_,f){const g=yield f;return{verificationId:g.verificationId,confirm:w=>di(_,g.confirm(w))}})).apply(this,arguments)}class Pf{constructor(f,g){this.resolver=g,this.auth=function Qd(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return di(Yd(this.auth),this.resolver.resolveSignIn(f))}}class io{constructor(f){this._delegate=f,this.multiFactor=function bu(_){const f=(0,O.m9)(_);return ai.has(f)||ai.set(f,Rs._fromUser(f)),ai.get(f)}(f)}static getOrCreate(f){return io.USER_MAP.has(f)||io.USER_MAP.set(f,new io(f)),io.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,h.Z)(function*(){return di(g.auth,On(g._delegate,f))})()}linkWithPhoneNumber(f,g){var w=this;return(0,h.Z)(function*(){return Ag(w.auth,function gf(_,f,g){return mf.apply(this,arguments)}(w._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,h.Z)(function*(){return di(g.auth,function an(_,f,g){return Pn.apply(this,arguments)}(g._delegate,f,Us))})()}linkWithRedirect(f){var g=this;return(0,h.Z)(function*(){return yield Ba(En(g.auth)),function H(_,f,g){return function te(_,f,g){return Se.apply(this,arguments)}(_,f,g)}(g._delegate,f,Us)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,h.Z)(function*(){return di(g.auth,Xs(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return Ag(this.auth,function Gy(_,f,g){return yf.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return di(this.auth,function zy(_,f,g){return wf.apply(this,arguments)}(this._delegate,f,Us))}reauthenticateWithRedirect(f){var g=this;return(0,h.Z)(function*(){return yield Ba(En(g.auth)),function C(_,f,g){return function x(_,f,g){return F.apply(this,arguments)}(_,f,g)}(g._delegate,f,Us)})()}sendEmailVerification(f){return function Vc(_,f){return Id.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,h.Z)(function*(){return yield function ca(_,f){return Qs.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function dg(_,f){return jc((0,O.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function Bc(_,f){return jc((0,O.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function nl(_,f){return vf.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function ss(_,f){return oi.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function Do(_,f,g){return In.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}io.USER_MAP=new WeakMap;const Wu=U;let ml=(()=>{class _{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=g.options;Wu(A,"invalid-api-key",{appName:g.name}),Wu(A,"invalid-api-key",{appName:g.name});const R=typeof window<"u"?Us:void 0;this._delegate=w.initialize({options:{persistence:xg(A,g.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap($e),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?io.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function Ac(_,f,g){const w=En(_);U(w._canInitEmulator,w,"emulator-config-failed"),U(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const A=!!g?.disableWarnings,R=ra(f),{host:q,port:ce}=function ia(_){const f=ra(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(w);if(A){const R=A[1];return{host:R,port:Zt(w.substr(R.length+1))}}{const[R,q]=w.split(":");return{host:R,port:Zt(q)}}}(f);w.config.emulator={url:`${R}//${q}${null===ce?"":`:${ce}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:q,port:ce,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function Zn(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,w)}applyActionCode(g){return function mu(_,f){return Pc.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return yu(this._delegate,g)}confirmPasswordReset(g,w){return function ga(_,f,g){return At.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var A=this;return(0,h.Z)(function*(){return di(A._delegate,function kn(_,f,g){return wd.apply(this,arguments)}(A._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function wu(_,f){return bo.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Ed(_,f){return"EMAIL_SIGNIN"===aa.parseLink(f)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,h.Z)(function*(){Wu(Gu(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function Xe(_,f){return it.apply(this,arguments)}(g._delegate,Us);return w?di(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function rw(_,f){En(_)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,w,A){const{next:R,error:q,complete:ce}=yl(g,w,A);return this._delegate.onAuthStateChanged(R,q,ce)}onIdTokenChanged(g,w,A){const{next:R,error:q,complete:ce}=yl(g,w,A);return this._delegate.onIdTokenChanged(R,q,ce)}sendSignInLinkToEmail(g,w){return function Kt(_,f,g){return Lc.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function Bi(_,f,g){return pa.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,h.Z)(function*(){let A;switch(function qu(_,f){Ua(Object.values(Tr).includes(f),_,"invalid-persistence-type"),(0,O.b$)()?Ua(f!==Tr.SESSION,_,"unsupported-persistence-type"):(0,O.UG)()?Ua(f===Tr.NONE,_,"unsupported-persistence-type"):Zd()?Ua(f===Tr.NONE||f===Tr.LOCAL&&(0,O.hl)(),_,"unsupported-persistence-type"):Ua(f===Tr.NONE||Mf(),_,"unsupported-persistence-type")}(w._delegate,g),g){case Tr.SESSION:A=$i;break;case Tr.LOCAL:A=(yield se(Ro)._isAvailable())?Ro:qc;break;case Tr.NONE:A=L;break;default:return Ae("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return di(this._delegate,function kc(_){return sf.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return di(this._delegate,Cn(this._delegate,g))}signInWithCustomToken(g){return di(this._delegate,function Ms(_,f){return ir.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return di(this._delegate,function Te(_,f,g){return Cn((0,O.m9)(_),Mc.credential(f,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return di(this._delegate,function pr(_,f,g){return Io.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return Ag(this._delegate,function on(_,f,g){return Ca.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,h.Z)(function*(){return Wu(Gu(),w._delegate,"operation-not-supported-in-this-environment"),di(w._delegate,function Oo(_,f,g){return Pu.apply(this,arguments)}(w._delegate,g,Us))})()}signInWithRedirect(g){var w=this;return(0,h.Z)(function*(){return Wu(Gu(),w._delegate,"operation-not-supported-in-this-environment"),yield Ba(w._delegate),function no(_,f,g){return function at(_,f,g){return D.apply(this,arguments)}(_,f,g)}(w._delegate,g,Us)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function vd(_,f){return _u.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Tr,_})();function yl(_,f,g){let w=_;"function"!=typeof _&&({next:w,error:f,complete:g}=_);const A=w;return{next:q=>A(q&&io.getOrCreate(q)),error:f,complete:g}}function xg(_,f){const g=function Nf(_,f){const g=Uo();if(!g)return[];const w=Z(gl,_,f);switch(g.getItem(w)){case Tr.NONE:return[L];case Tr.LOCAL:return[Ro,$i];case Tr.SESSION:return[$i];default:return[]}}(_,f);if(typeof self<"u"&&!g.includes(Ro)&&g.push(Ro),typeof window<"u")for(const w of[qc,$i])g.includes(w)||g.push(w);return g.includes(L)||g.push(L),g}class Ff{constructor(){this.providerId="phone",this._delegate=new rl(Yd(J.Z.auth()))}static credential(f,g){return rl.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}Ff.PHONE_SIGN_IN_METHOD=rl.PHONE_SIGN_IN_METHOD,Ff.PROVIDER_ID=rl.PROVIDER_ID;const Mg=U;class Jy{constructor(f,g,w=J.Z.app()){var A;Mg(null===(A=w.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new No(f,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Rg(_){_.INTERNAL.registerComponent(new fe.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),w=f.getProvider("auth");return new ml(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Mc,FacebookAuthProvider:hd,GithubAuthProvider:Rc,GoogleAuthProvider:_o,OAuthProvider:ua,SAMLAuthProvider:bi,PhoneAuthProvider:Ff,PhoneMultiFactorGenerator:li,RecaptchaVerifier:Jy,TwitterAuthProvider:pd,Auth:ml,AuthCredential:xn,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.3.1")}(J.Z)},8766:(ct,Ie,k)=>{k.d(Ie,{Lj:()=>Ae,X3:()=>Pe});var h=k(5861);let O,oe;const fe=new WeakMap,de=new WeakMap,le=new WeakMap,j=new WeakMap,$=new WeakMap;let De={get(U,ye,W){if(U instanceof IDBTransaction){if("done"===ye)return de.get(U);if("objectStoreNames"===ye)return U.objectStoreNames||le.get(U);if("store"===ye)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return Ce(U[ye])},set:(U,ye,W)=>(U[ye]=W,!0),has:(U,ye)=>U instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in U};function he(U){return"function"==typeof U?function rt(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ie(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(U)?function(...ye){return U.apply(Ee(this),ye),Ce(fe.get(this))}:function(...ye){return Ce(U.apply(Ee(this),ye))}:function(ye,...W){const Y=U.call(Ee(this),ye,...W);return le.set(Y,ye.sort?ye.sort():[ye]),Ce(Y)}}(U):(U instanceof IDBTransaction&&function Ue(U){if(de.has(U))return;const ye=new Promise((W,Y)=>{const se=()=>{U.removeEventListener("complete",ne),U.removeEventListener("error",Le),U.removeEventListener("abort",Le)},ne=()=>{W(),se()},Le=()=>{Y(U.error||new DOMException("AbortError","AbortError")),se()};U.addEventListener("complete",ne),U.addEventListener("error",Le),U.addEventListener("abort",Le)});de.set(U,ye)}(U),((U,ye)=>ye.some(W=>U instanceof W))(U,function ae(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(U,De):U)}function Ce(U){if(U instanceof IDBRequest)return function K(U){const ye=new Promise((W,Y)=>{const se=()=>{U.removeEventListener("success",ne),U.removeEventListener("error",Le)},ne=()=>{W(Ce(U.result)),se()},Le=()=>{Y(U.error),se()};U.addEventListener("success",ne),U.addEventListener("error",Le)});return ye.then(W=>{W instanceof IDBCursor&&fe.set(W,U)}).catch(()=>{}),$.set(ye,U),ye}(U);if(j.has(U))return j.get(U);const ye=he(U);return ye!==U&&(j.set(U,ye),$.set(ye,U)),ye}const Ee=U=>$.get(U);function Pe(U,ye,{blocked:W,upgrade:Y,blocking:se,terminated:ne}={}){const Le=indexedDB.open(U,ye),ke=Ce(Le);return Y&&Le.addEventListener("upgradeneeded",lt=>{Y(Ce(Le.result),lt.oldVersion,lt.newVersion,Ce(Le.transaction))}),W&&Le.addEventListener("blocked",()=>W()),ke.then(lt=>{ne&&lt.addEventListener("close",()=>ne()),se&&lt.addEventListener("versionchange",()=>se())}).catch(()=>{}),ke}function Ae(U,{blocked:ye}={}){const W=indexedDB.deleteDatabase(U);return ye&&W.addEventListener("blocked",()=>ye()),Ce(W).then(()=>{})}const _e=["get","getKey","getAll","getAllKeys","count"],xe=["put","add","delete","clear"],Fe=new Map;function Oe(U,ye){if(!(U instanceof IDBDatabase)||ye in U||"string"!=typeof ye)return;if(Fe.get(ye))return Fe.get(ye);const W=ye.replace(/FromIndex$/,""),Y=ye!==W,se=xe.includes(W);if(!(W in(Y?IDBIndex:IDBObjectStore).prototype)||!se&&!_e.includes(W))return;const ne=function(){var Le=(0,h.Z)(function*(ke,...lt){const Xt=this.transaction(ke,se?"readwrite":"readonly");let cn=Xt.store;return Y&&(cn=cn.index(lt.shift())),(yield Promise.all([cn[W](...lt),se&&Xt.done]))[0]});return function(lt){return Le.apply(this,arguments)}}();return Fe.set(ye,ne),ne}!function $e(U){De=U(De)}(U=>({...U,get:(ye,W,Y)=>Oe(ye,W)||U.get(ye,W,Y),has:(ye,W)=>!!Oe(ye,W)||U.has(ye,W)}))},5861:(ct,Ie,k)=>{function h(O,oe,ae,ie,fe,de,le){try{var j=O[de](le),$=j.value}catch(K){return void ae(K)}j.done?oe($):Promise.resolve($).then(ie,fe)}function J(O){return function(){var oe=this,ae=arguments;return new Promise(function(ie,fe){var de=O.apply(oe,ae);function le($){h(de,ie,fe,le,j,"next",$)}function j($){h(de,ie,fe,le,j,"throw",$)}le(void 0)})}}k.d(Ie,{Z:()=>J})}},ct=>{ct(ct.s=8196)}]);